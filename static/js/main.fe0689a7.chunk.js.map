{"version":3,"sources":["components/Logo/logo.svg","entities/Account.ts","actions/settings.js","entities/Currency.ts","selectors/settings.js","components/CollapsibleSection/index.js","entities/EntityMap.js","entities/Transaction.ts","util/sortByName.js","selectors/entities/accounts.js","components/Amount.js","containers/Dashboard/NetWorth.js","components/Account/List/AccountItem.js","components/Account/List/Group.js","components/Account/List/index.js","containers/Dashboard/Accounts.js","util/timezone.ts","components/types.js","components/Transaction/Form/Header.js","components/Transaction/Form/Account.js","components/Transaction/Form/index.js","selectors/entities/tags.js","actions/entities/transactions.js","actions/entities/tags.js","actions/ui/form/transaction.js","containers/Transactions/Form.js","components/Transaction/List/TransactionItem.js","components/Transaction/List/ModalForm.js","components/Transaction/List/index.js","selectors/ui/transaction/filter.js","selectors/entities/transactions.js","selectors/ui/form/transaction.js","containers/Dashboard/RecentTransactions.js","actions/entities/accounts.js","containers/Dashboard/index.js","containers/Transactions/List.js","components/Transaction/Filter/Calendar.js","entities/Transaction/DateFilterRange.ts","components/Transaction/Filter/Filters.js","components/Transaction/Filter/AppliedFilters.js","components/Transaction/Filter/index.js","actions/ui/transaction/filter.js","containers/Transactions/Filter.js","components/Transaction/List/Pager.js","containers/Transactions/Pager.js","components/Transaction/List/Footer.js","containers/Transactions/Footer.js","containers/Transactions/index.js","actions/ui/form/account.js","selectors/ui/form/account.js","components/Account/ModalForm/DeleteStrategy.js","components/Account/ModalForm/index.js","containers/Accounts/List.js","components/Account/Form/BalanceTable.js","components/Account/Form/index.js","containers/Accounts/Form.js","containers/Accounts/index.js","actions/ui/report.js","entities/Report/ExpenseIncomeData.ts","entities/Report.ts","entities/Report/NetWorthData.ts","entities/Report/ExpenseTagsData.ts","components/Report/Kind/ExpenseIncome.js","components/Report/Kind/NetIncome.js","components/Report/Kind/ExpenseTags.js","components/Report/Kind/NetWorth.js","components/Report/index.js","components/Report/Navigation.js","selectors/ui/report.js","containers/Reports/Navigation.js","components/Report/Filter.js","containers/Reports/Filter.js","containers/Reports/index.js","components/Settings/Currency/Input.js","containers/Settings/Currency/Input.js","components/Settings/Currency/ExchangeRateGrid.js","components/Settings/Currency/ExchangeRateTable.js","components/Settings/Currency/ExchangeRate.js","containers/Settings/Currency/ExchangeRate.js","util/storage/pouchdb.js","util/storage/transactions.js","components/DataExport/index.js","actions/ui/dataExport.js","containers/Settings/DataExport.js","util/PrettyBytes.js","components/DataImport/index.js","actions/ui/dataImport.js","selectors/ui/dataImport.js","containers/Settings/DataImport.js","features/user/state/ui/SignOut.action.ts","features/user/state/User.selector.ts","containers/Settings/User.js","router/routes.js","containers/WorkInProgress.js","containers/Settings/index.js","features/user/state/ui/SignIn.action.ts","features/user/components/SignIn/SignIn.tsx","features/user/containers/SignIn/SignIn.ts","containers/InitialSetup/index.js","containers/SidebarMenu.js","components/Logo/index.js","actions/ui/sidebar.js","actions/ui/sync.js","components/Header/index.js","containers/DemoNotice.js","containers/SyncWarning.js","actions/ui/windowResize.js","actions/app.js","containers/App.js","components/Sentry/ErrorBoundary.js","containers/Root.js","registerServiceWorker.js","reducers/entities/accounts.js","reducers/entities/tags.js","reducers/entities/transactions/filter.js","reducers/entities/transactions/recent.js","reducers/entities/transactions/index.js","reducers/entities/index.js","reducers/ui/form/account.js","reducers/ui/form/transaction.js","reducers/ui/form/index.js","reducers/ui/report/index.js","reducers/ui/transaction/filter.js","reducers/ui/transaction/index.js","reducers/ui/dataImport.js","reducers/ui/isMobile.js","reducers/ui/isSidebarOpen.js","reducers/ui/settings.js","reducers/ui/sync.js","reducers/ui/index.js","reducers/settings.js","features/user/state/User.action.ts","features/user/state/ui/SignIn.reducer.ts","util/auth.js","features/user/state/ui/SignIn.selector.ts","entities/Transaction/AccountMutations.ts","util/storage/tags.js","util/SetDifference.js","sagas/tags.js","sagas/transactions.js","util/storage/accounts.js","sagas/accounts.js","sagas/sync.js","util/currency.js","util/storage/settings.js","sagas/settings.js","features/user/state/User.saga.ts","features/user/state/ui/SignIn.saga.ts","features/user/state/ui/SignOut.saga.ts","features/user/state/ui/index.ts","features/user/state/ui/SignOut.reducer.ts","features/user/state/User.reducer.ts","reducers/index.ts","sagas/bootstrap.js","util/CsvReader.js","sagas/dataImport.js","sagas/report.js","features/user/state/index.ts","sagas/index.ts","store/configureStore.js","index.js"],"names":["module","exports","__webpack_require__","p","AccountGroupT","DeleteStrategyT","createActions","loadSettingsSuccess","changeSettingsCurrency","updateExchangeRate","updateExchangeRateSuccess","updateExchangeRateFailure","toggleSectionCollapse","completeSetup","CURRENCY","AED","name","symbol","exp","flag","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CHF","CLP","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SLL","SOS","SRD","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEF","VND","VUV","WST","YER","ZAR","ZMW","ZWD","XAU","Currency","defaultBase","options","Object","keys","map","code","key","value","text","concat","minAmount","Number","numberToCents","Math","round","parseFloat","centsToNumber","centsToString","format","arguments","length","undefined","num","toLocaleString","minimumFractionDigits","maximumFractionDigits","toString","centsToDollar","convert","rate","from","to","pow","getExchangeRate","state","settings","exchangeRate","getBaseCurrency","currency","base","getBaseCurrencySymbol","getSecondaryCurrency","secondary","getCollapsedSections","collapsedSections","connect","ownProps","objectSpread","collapsed","toggle","_ref","label","LabelComponent","children","react_default","a","createElement","className","includes","onClick","Icon","GroupToTextMap","_GroupToTextMap","defineProperty","Cash","Bank","Deposit","Credit","Asset","defaultGroup","defaultDeleteStrategy","Archive","getGroupName","formTostate","_ref3","id","balance","group","currencies","on_dashboard","archived","Date","now","reduce","acc","stateToForm","account","storageToState","_ref4","_id","stateToStorage","_ref5","TransationKindT","EntityMap","fromArray","entities","keyPropName","merge","byKey","source","entity","toConsumableArray","Set","filter","set","remove","originalKey","get","fallback","fn","limit","offset","slice","push","apply","sortByName","b","getAccountsMap","accounts","getAccountByName","createSelector","getAccountsList","find","sort","getVisibleAccountsList","getDashboardAccountsList","getAccountsNameMap","getAccountsCurrencyMap","getAccountsCurrencyList","groupAccounts","grouped","total","getBaseTotal","_arr","_i","getVisibleGroupedAccounts","getDashboardGroupedAccounts","getAccountsAsOptions","groups","_arr2","_i2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","description","err","return","getNetWorth","netWorth","floor","Amount","_ref$showColor","showColor","_ref$showCents","showCents","baseCurrency","components_Amount","AccountItem","handleEditClick","_this","props","openAccountInModal","_this2","this","Link","Button","basic","circular","icon","React","Component","Group","isCollapsed","toggleGroupCollapse","List_AccountItem","AccountsWidget","List_Group","collapsedGroups","AccountsList","getTimezoneOffset","toUtcTimestamp","date","getTime","toLocalTimestamp","Expense","Transfer","Income","TransactionKindToText","_TransactionKindToTex","defaultKind","recentListLimit","getKindLabel","kind","formToState","form","tags","amount","linkedAmount","linkedCurrency","note","accountId","linkedAccountId","Error","dateRegexMatch","match","parseInt","_ref2","PropTypes","shape","string","Header","withTransfer","activeKind","changeKind","kinds","Menu","attached","widths","Item","color","active","Account","Form","Field","width","Dropdown","selection","accountOptions","onChange","onAccountChange","Input_Input","required","type","min","step","onAmountChange","labelPosition","currencyOptions","onCurrencyChange","NoAccounts","TransactionForm","searchQuery","onSubmit","event","preventDefault","saveTransaction","handler","_","accountCurrency","onTagAdd","addTag","tag","onTagSearchChange","setState","onTagClose","getCurrencyOptions","getGridClassName","Fragment","Form_Header","Segment","Form_Account","changeAccount","changeAmount","changeCurrency","changeLinkedAccount","changeLinkedAmount","changeLinkedCurrency","multiple","search","allowAdditions","closeOnChange","placeholder","tagsOptions","changeTags","onAddItem","onClose","onSearchChange","changeNote","fluid","changeDate","primary","disabled","Form_NoAccounts","getTagOptions","ui","transaction","getAllTagsOptions","loadFilterTransactions","loadFilterTransactionsSuccess","loadRecentTransactions","loadRecentTransactionsSuccess","saveTransactionSuccess","removeTransaction","removeTransactionSuccess","loadTags","loadExpenseTagsSuccess","loadIncomeTagsSuccess","fillInTransactionForm","resetTransactionForm","openTransactionInModal","TransactionItem","_tags","accountName","renderArrow","linkedAccountName","Label","content","renderLinkedAmount","_this$props$transacti","_this$props$transacti2","ModalForm","Modal","closeIcon","size","open","isOpen","elements_Header_Header","isEdit","Content","EditForm","Actions","negative","currentTransactionId","TransactionList","renderTransaction","List_TransactionItem","Dimmer","inverted","isLoading","Loader","inline","transactions","List_ModalForm","isModalOpen","getDateLabel","dateStart","dateEnd","getFilters","start","end","applied","getPage","page","getVisiblePages","ceil","totalRows","perPage","isMobile","current","last","pages","max","windowRight","filterTransactionsSelector","getRecentTransactions","recent","joinAccount","getFilterTransactions","linked","getFilterTotal","tx","getForm","getDefaultAccountId","getDefaultCurrency","getDefaultLinkedAccountId","defaultAccountId","getDefaultLinkedCurrency","getDefaultState","loadAccounts","loadAccountsSuccess","saveAccount","saveAccountFailure","saveAccountSuccess","updateAccount","removeAccount","removeAccountRequest","removeAccountStart","removeAccountItemProcessed","removeAccountFailure","removeAccountSuccess","Dashboard","Grid","Row","Column","computer","mobile","src_components_CollapsibleSection","NetWorth","Dashboard_Accounts","Transactions_Form","RecentTransactions","currentYear","getFullYear","fromMonth","toMonth","YearMonthForm","localeUtils","months","getMonths","years","i","handleChange","e","_e$target$form","target","year","month","getMonth","DateFilterRangeT","Calendar","handleDayClick","day","range","DateUtils","addDayToRange","handleYearMonthChange","handleResetClick","handleApplyClick","_this$state","changeFilterDate","setHours","toggleFilterCalendar","_this$state2","isCalendarOpen","DayPicker_default","fixedWeeks","enableOutsideDays","numberOfMonths","selectedDays","captionElement","onDayClick","positive","Filters","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleAccountChange","handleTagsChange","applyFilters","toggleFilterModal","appliedAccounts","appliedTags","isFilterModalOpen","AppliedFilters","removeAppliedAccount","removeAppliedTag","t","accountNameMap","onRemove","daysFromToday","days","subDays","startOfToday","lastWeek","lastMonth","DateFilterRangeMap","_DateFilterRangeMap","today","endOfToday","yesterday","startOfYesterday","endOfYesterday","thisMonth","startOfMonth","custom","defaultDateFilterRange","defaultStart","defaultEnd","getDateFilterRangeEnd","Filter","entries","slicedToArray","lastValue","handleDateRange","selectedAccount","button","defaultValue","dateRangeLabel","labeled","Filter_Calendar","Filter_Filters","Filter_AppliedFilters","changeFilterPage","Pager","handlePageChange","nextPage","handlePrevClick","handleNextClick","lastPage","pagination","as","Footer","income","expense","Table","fixed","unstackable","Body","Cell","textAlign","Transactions","params","Transactions_Filter","Transactions_List","Transactions_Pager","Transactions_Footer","fillInAccountForm","resetAccountForm","changeName","changeGroup","changeBalance","toggleCurrency","toggleOnDashboard","getModal","isDeleteRequest","isDeleteRunning","itemsToProcess","itemsProcessed","DeleteStrategy","strategy","onStrategyChange","moveTo","onProceed","getMoveTo","hasMultipleAccounts","style","marginTop","stratgies","Cleanup","Move","getDeleteStartegyOptions","Radio","checked","modal","Progress","reset","ModalForm_DeleteStrategy","renderModalActions","BalanceTable","handleCurrencyChange","handleBalanceChange","updateCurrencyList","setInitialCurrencyCheckbox","nextProps","marginBottom","Checkbox","AccountForm","handleNameChange","handleGroupChange","handleSubmit","Input","Select","Form_BalanceTable","paddingTop","Accounts","Accounts_List","Account_ModalForm","option","changeReportKind","changeReportTimespan","changeReportAccounts","changeReportExcludedTags","moveReportDateBackwards","moveReportDateForwards","loadReport","loadReportSuccess","loadReportFailure","ExpenseIncomeData","report","labels","timespan","ReportTimespanT","Yearly","setMonth","getDaysInMonth","padStart","data","Array","fill","excluded","excludeTags","period","txAmount","abs","has","series","ReportKindT","Monthly","ExpenseIncome","defaultTimespan","defaultDate","dateRange","moveDateBackwards","subYears","subMonths","moveDateForwards","addYears","addMonths","DataLoaderMap","_DataLoaderMap","ExpenseIncomeDataLoader","NetIncome","ExpenseTags","Map","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","tagAmount","sorted","values","netWorthEnd","lastPeriod","netWorthStart","loadReportData","_len","rest","_key","startFn","startOfYear","endFn","endOfYear","endOfMonth","tomorrow","setDate","getDate","axisY","labelInterpolationFnc","abbreviate","plugins","Chartist","tooltip","class","anchorToPoint","_this$props","val","Statistic","Value","sum","cur","react_chartist_dist_default","idx","nonEmptyValues","listener","draw","y","element","attr","axisX","reverseData","horizontalBars","height","showArea","low","Report","renderReportByKind","Kind_ExpenseIncome","Kind_NetWorth","Kind_ExpenseTags","Navigation","handleKindChange","handleTimespanChange","kindOptions","timespanLabel","timespanOptions","getReport","getTimespanLabel","startDate","handleAccountsChange","Reports","Reports_Navigation","src_components_Report","Reports_Filter","handleBaseChange","handleSecondaryChange","updateSecondaryOptions","secondaryOptions","renderLabel","item","ExchangeRateGrid","celled","definition","HeaderCell","other","ExchangeRateTable","toFixed","ExchangeRate","Currency_ExchangeRateTable","Currency_ExchangeRateGrid","isExchangeLoading","instancePool","instance","PouchDB","auto_compaction","remoteInstance","instanceName","userInfo","JSON","parse","localStorage","getItem","couchDB","_userInfo$couchDB","username","password","skipSetup","auth","destroyInstance","destroy","settingsDB","accountsDB","transactionsDB","tagsDB","remoteSettingsDB","remoteAccountsDB","remoteTransactionsDB","remoteTagsDB","destroySettingsDB","destroyAccountsDB","destroyTransactionsDB","destroyTagsDB","storage_transactions","sync","load","then","catch","error","status","getAll","loadRecent","allDocs","include_docs","descending","startkey","endkey","response","rows","row","doc","docs","loadFiltered","filters","isArray","filterByAccount","intersection","filterByTags","save","put","_deleted","_callee2","readOnly","_args2","regenerator_default","wrap","_context2","prev","abrupt","batch_size","replicate","on","asyncToGenerator","mark","_callee","update","_context","Promise","all","processIncomingTransaction","stop","_x2","_callee3","_context3","startsWith","substr","_callee4","_context4","DataExport","handleSaveFile","TransactionsStorage","sent","stringify","Message","header","isFileSelected","saveExportFile","UNITS","DataImport","handleFileChange","openImportFile","files","handleOpenFile","fileInput","click","accept","ref","input","filename","isFinite","TypeError","neg","exponent","log10","toPrecision","prettyBytes","filesize","isProcessing","discardImportFile","Or","startDataImport","indicating","autoSuccess","linesToProcess","linesProcessed","importFileReadSuccess","importLineProcessed","importFailure","getImportFile","dataImport","file","signOut","createAction","signOutSuccess","signOutFailure","resolve","isDemoUser","user","isSignedIn","User","isSignOutComplete","Redirect","Popup","trigger","signOutButtonLabel","signOutButtonIcon","floated","loading","isSignOutRunning","isDemo","isAuthenticated","signOutState","router_routes","path","exact","component","link","Settings_Currency_Input","Settings_Currency_ExchangeRate","Settings_DataImport","Settings_DataExport","Settings_User","changeEmail","email","changeCode","sendCode","sendCodeSuccess","sendCodeFailure","verifyCode","verifyCodeSuccess","verifyCodeFailure","finishAuth","Auth","renderSendCodeForm","iconPosition","sendCodeStatus","action","renderVerifyCodeForm","verifyCodeStatus","location","hash","Divider","signIn","SignIn","InitialSetup","Accounts_Form","margin","SidebarMenu","toggleSidebar","vertical","routes","route","Route","Logo","src","logo","alt","dismissSyncWarning","setPendingChangesFlag","syncRequest","syncSuccess","syncFailure","isSyncRunning","isRunning","hasPendingChanges","src_components_Logo","cursor","DemoNotice","isVisible","href","SyncWarning","warning","onDismiss","isWarningVisible","windowResize","bootstrap","App","renderNavigationRoutes","window","pathname","endsWith","isSidebarOpen","zIndex","containers_SidebarMenu","flatten","flatRoutes","forEach","render","src_components_Header","containers_DemoNotice","containers_SyncWarning","addEventListener","throttle","isLoaded","Router","history","Switch","isSetupComplete","ErrorBoundary","errorInfo","console","log","Sentry","scope","setExtra","Root","store","Sentry_ErrorBoundary","react_redux_es","containers_App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","initialState","handleActions","_handleActions","payload","combineActions","getType","_initialState","tags_handleActions","_action$payload","filter_handleActions","recent_handleActions","combineReducers","completed","Infinity","account_handleActions","isChecked","pick","_ref6","_ref7","transaction_handleActions","_ref8","_ref9","_ref10","_ref11","_ref12","report_handleActions","netWorthStack","transaction_filter_handleActions","dataImport_handleActions","message","matchMedia","matches","handleAction","settings_handleActions","sync_handleActions","reducers_settings_handleActions","section","setDemoUser","signInSuccess","auth0","WebAuth","domain","process","clientID","redirectUri","responseType","reject","passwordlessStart","connection","send","result","verificationCode","passwordlessLogin","parseHash","authResult","accessToken","getUserInfo","client","getSignInEmail","getSignInCode","getAccountsMutations","createTransaction","mutations","storage_tags","start_key","end_key","split","usage","updateUsage","delta","hasChanges","_args","docs_written","difference","left","right","diff","add","loadTagsSaga","updateTagsUsage","expenseTags","incomeTags","TagsStorage","_marked","prevTags","nextTags","newTag","oldTag","t0","finish","t1","_marked2","sagas_tags","takeLatest","resetTransactionFormSaga","loadFilterTransactionsSaga","loadRecentTransactionsSaga","removeTransactionSaga","saveTransactionSaga","updateAccountsBalance","initialData","select","transactions_marked","transactions_marked2","_marked3","_marked4","_context5","_marked5","mutation","_context6","updateAccountBalanceSaga","_marked6","sagas_transactions","storage_accounts","loadAll","archive","mutateBalance","mutateAccountBalance","rev","updateLastSyncedBalance","conflicts","resolveConflicts","setItem","lastSyncedBalance","conflictedBalances","_conflicts","resolveBalance","_x3","lastSynced","conflicted","loadAccountsSaga","saveAccountSaga","removeAccountSaga","deleteStrategyArchive","deleteStrategyCleanup","deleteStrategyMove","AccountsStorage","accounts_marked","accounts_marked2","accounts_marked3","_deleteStrategies","accounts_marked4","accounts_marked5","index","accounts_marked6","_context7","_marked7","sagas_accounts","syncSaga","setPendingChangesFlagSaga","sync_marked","sync_marked2","sagas_sync","fetchExchangeRates","pairs","fetch","join","body","json","rates","substring","storage_settings","local","defaultLocalSettings","mergeLocalWithSyncedSettings","saveLocal","defaultSettings","remote","syncSettings","synced","union","t2","t3","isEqual","t4","loadSetting","updateCurrencySaga","completeSetupSaga","saveCollapsedSectionsSaga","SettingsStorage","settings_marked","used","settings_marked2","settings_marked3","settings_marked4","sagas_settings","isUserLoggedIn","User_saga_marked","User_saga_marked2","sendCodeSaga","verifyCodeSaga","finishAuthSaga","SignIn_saga_marked","SignIn_saga_marked2","SignIn_saga_marked3","SignIn_saga","signOutSaga","SignOut_saga_marked","SignOut_saga","UserUiReducer","actions","UserUiSaga","SignInSaga","SignOutSaga","bootstrapSaga","bootstrap_marked","sagas_bootstrap","CsvReader","reader","FileReader","onerror","onload","SEPARATOR","COLUMN","line","getKind","getAccount","getAmount","getTags","NOTE","nextRow","linkedAccount","readAsText","DATE","ACCOUNT","TAGS","AMOUNT","TRANSFER","replace","trim","accountCurrencies","reverse","startDataImportSaga","updateCurrencySettings","mapAccountsId","createNewAccount","accountIdByName","lineNr","dataImport_marked","dataImport_marked2","idByName","dataImport_marked3","dataImport_marked4","sagas_dataImport","loadReportSaga","refreshReportSaga","report_marked","report_marked2","sagas_report","UserSaga","rootSaga","sagas_marked","sagaMiddleware","createSagaMiddleware","enhancer","composeWithDevTools","applyMiddleware","dsn","createStore","rootReducer","run","configureStore","createBrowserHistory","ReactDOM","containers_Root","document","getElementById","URL","origin","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.fe0689a7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.6f8aaa78.svg\";","import Currency from 'entities/Currency';\n\ntype BalanceAsCentsT = {\n  [currency: string]: number;\n};\n\ntype BalanceAsInputStringT = {\n  [currency: string]: string;\n};\n\ninterface AccountBaseT {\n  group: AccountGroupT;\n  name: string;\n  currencies: string[];\n  on_dashboard: boolean;\n  archived?: boolean;\n}\n\nexport interface AccountStateT extends AccountBaseT {\n  id: string;\n  balance: BalanceAsCentsT;\n}\n\nexport interface AccountStorageT extends AccountBaseT {\n  _id: string;\n  _rev?: string;\n  _conflicts?: string[];\n  balance: BalanceAsCentsT;\n}\n\nexport interface AccountFormT extends AccountBaseT {\n  id?: string;\n  balance: BalanceAsInputStringT;\n  completed?: boolean;\n  isModalOpen?: boolean;\n  isDeleteRequest?: boolean;\n  isDeleteRunning?: boolean;\n  itemsToProcess?: number;\n  itemsProcessed?: number;\n}\n\nexport enum AccountGroupT {\n  Cash = 'cash',\n  Bank = 'bank',\n  Deposit = 'deposit',\n  Credit = 'credit',\n  Asset = 'asset'\n}\n\nexport enum DeleteStrategyT {\n  Archive,\n  Cleanup,\n  Move\n}\n\nconst GroupToTextMap: { [code in AccountGroupT]?: string } = {\n  [AccountGroupT.Cash]: 'Cash',\n  [AccountGroupT.Bank]: 'Bank Account',\n  [AccountGroupT.Deposit]: 'Deposit',\n  [AccountGroupT.Credit]: 'Credit',\n  [AccountGroupT.Asset]: 'Asset'\n};\n\nexport const defaultGroup = AccountGroupT.Cash;\nexport const defaultDeleteStrategy = DeleteStrategyT.Archive;\n\nexport function getGroupName(code: AccountGroupT) {\n  return GroupToTextMap[code];\n}\nexport function getAccountGroupOptions() {\n  return Object.entries(GroupToTextMap).map(([code, text]) => ({\n    key: code,\n    value: code,\n    text\n  }));\n}\n\nexport function getDeleteStartegyOptions(hasMultipleAccounts = false) {\n  const stratgies = [\n    {\n      key: DeleteStrategyT.Archive,\n      value: DeleteStrategyT.Archive,\n      text: 'Archive account, keep transactions as is'\n    },\n    {\n      key: DeleteStrategyT.Cleanup,\n      value: DeleteStrategyT.Cleanup,\n      text: 'Delete transactions with account'\n    }\n  ];\n  if (hasMultipleAccounts) {\n    stratgies.push({\n      key: DeleteStrategyT.Move,\n      value: DeleteStrategyT.Move,\n      text: 'Move transactions to another account'\n    });\n  }\n\n  return stratgies;\n}\n\nexport function formTostate({\n  id,\n  balance,\n  name,\n  group,\n  currencies,\n  on_dashboard,\n  archived\n}: AccountFormT): AccountStateT {\n  return {\n    id: id || `A${Date.now()}`,\n    balance: Object.keys(balance).reduce(\n      (acc: BalanceAsCentsT, code: string) => {\n        acc[code] = Currency.numberToCents(\n          balance[code] !== '' ? balance[code] : '0',\n          code\n        );\n        return acc;\n      },\n      {}\n    ),\n    name,\n    group,\n    currencies,\n    on_dashboard,\n    archived\n  };\n}\n\nexport function stateToForm(account: AccountStateT): AccountFormT {\n  return {\n    ...account,\n    balance: Object.keys(account.balance).reduce(\n      (acc: BalanceAsInputStringT, code: string) => {\n        acc[code] = Currency.centsToString(account.balance[code], code, false);\n        return acc;\n      },\n      {}\n    )\n  };\n}\n\nexport function storageToState({\n  _id,\n  name,\n  group,\n  balance,\n  currencies,\n  on_dashboard,\n  archived\n}: AccountStorageT): AccountStateT {\n  return {\n    id: _id,\n    name,\n    group,\n    balance,\n    currencies,\n    on_dashboard,\n    archived\n  };\n}\n\nexport function stateToStorage({\n  name,\n  group,\n  balance,\n  currencies,\n  on_dashboard,\n  archived\n}: AccountStateT) {\n  return { name, group, balance, currencies, on_dashboard, archived };\n}\n\nexport function mutateBalance(\n  account: AccountStorageT,\n  currency: string,\n  amount: number\n): AccountStorageT {\n  return {\n    ...account,\n    currencies: [...new Set([...account.currencies, currency])],\n    balance: {\n      ...account.balance,\n      [currency]: parseInt(`${account.balance[currency] || 0}`, 10) + amount\n    }\n  };\n}\n","import { createActions } from 'redux-actions';\n\nexport const {\n  loadSettingsSuccess,\n  changeSettingsCurrency,\n  updateExchangeRate,\n  updateExchangeRateSuccess,\n  updateExchangeRateFailure,\n  toggleSectionCollapse,\n  completeSetup\n} = createActions(\n  'LOAD_SETTINGS_SUCCESS',\n  'CHANGE_SETTINGS_CURRENCY',\n  'UPDATE_EXCHANGE_RATE',\n  'UPDATE_EXCHANGE_RATE_SUCCESS',\n  'UPDATE_EXCHANGE_RATE_FAILURE',\n  'COMPLETE_SETUP',\n  'TOGGLE_SECTION_COLLAPSE'\n);\n","type CurrencyT = {\n  name: string;\n  symbol: string;\n  exp: number;\n  flag?: string;\n};\n\ntype AvailableCurrencyT = {\n  [code: string]: CurrencyT;\n};\n\nconst CURRENCY: AvailableCurrencyT = {\n  AED: { name: 'Emirati Dirham', symbol: '..', exp: 2, flag: 'ae' },\n  AFN: { name: 'Afghan Afghani', symbol: '', exp: 2, flag: 'af' },\n  ALL: { name: 'Albanian lek', symbol: 'lek', exp: 2, flag: 'al' },\n  AMD: { name: 'Armenian dram', symbol: 'AMD', exp: 2, flag: 'am' },\n  ANG: { name: 'Dutch Guilder', symbol: '', exp: 2, flag: 'an' },\n  AOA: { name: 'Angolan Kwanza', symbol: 'Kz', exp: 2, flag: 'ao' },\n  ARS: { name: 'Argentine peso', symbol: '$', exp: 2, flag: 'ar' },\n  AUD: { name: 'Australian Dollar', symbol: '$', exp: 2, flag: 'au' },\n  AWG: { name: 'Arubin florin', symbol: '', exp: 2, flag: 'aw' },\n  AZN: { name: 'Azerbaijani manat', symbol: '', exp: 2, flag: 'az' },\n  BAM: { name: 'Bosnian Convertible Marka', symbol: 'KM', exp: 2, flag: 'ba' },\n  BBD: { name: 'Barbadian dollar', symbol: '$', exp: 2, flag: 'bb' },\n  BDT: { name: 'Bangladeshi Taka', symbol: 'Tk', exp: 2, flag: 'bd' },\n  BGN: { name: 'Bulgarian lev', symbol: '', exp: 2, flag: 'bg' },\n  BHD: { name: 'Bahraini Dinar', symbol: '.. or BD', exp: 3, flag: 'bh' },\n  BIF: { name: 'Burundian Franc', symbol: 'FBu', exp: 0, flag: 'bi' },\n  BMD: { name: 'Bermudian dollar', symbol: '$', exp: 2, flag: 'bm' },\n  BND: { name: 'Bruneian Dollar', symbol: '$', exp: 2, flag: 'bn' },\n  BOB: { name: 'Bolivian Boliviano', symbol: '$b', exp: 2, flag: 'bo' },\n  BRL: { name: 'Brazilian real', symbol: 'R$', exp: 2, flag: 'br' },\n  BSD: { name: 'Bahamian dollar', symbol: 'B$', exp: 2, flag: 'bs' },\n  BTN: { name: 'Bhutanese Ngultrum', symbol: 'Nu.', exp: 2, flag: 'bt' },\n  BWP: { name: 'Botswana Pula', symbol: 'P', exp: 2, flag: 'bw' },\n  BYR: { name: 'Belarusian ruble', symbol: '', exp: 2, flag: 'by' },\n  BZD: { name: 'Belize dollar', symbol: 'BZ$', exp: 2, flag: 'bz' },\n  CAD: { name: 'Canadian Dollar', symbol: '$', exp: 2, flag: 'ca' },\n  CHF: { name: 'Swiss Franc', symbol: 'CHF', exp: 2, flag: 'ch' },\n  CLP: { name: 'Chilean Peso', symbol: '$', exp: 0, flag: 'cl' },\n  CNY: { name: 'Yuan or chinese renminbi', symbol: '', exp: 2, flag: 'cn' },\n  COP: { name: 'Colombian peso', symbol: '$', exp: 2, flag: 'co' },\n  CRC: { name: 'Costa Rican coln', symbol: '', exp: 2, flag: 'cr' },\n  CUC: { name: 'Cuban convertible peso', symbol: '$', exp: 2, flag: 'cu' },\n  CUP: { name: 'Cuban peso', symbol: '', exp: 2, flag: 'cu' },\n  CVE: { name: 'Cape Verdean Escudo', symbol: '$', exp: 0, flag: 'cv' },\n  CZK: { name: 'Czech koruna', symbol: 'K', exp: 2, flag: 'cz' },\n  DJF: { name: 'Djiboutian Franc', symbol: 'fdj', exp: 0, flag: 'dj' },\n  DKK: { name: 'Danish krone', symbol: 'kr', exp: 2, flag: 'dk' },\n  DOP: { name: 'Dominican peso', symbol: '$', exp: 2, flag: 'do' },\n  DZD: { name: 'Algerian Dinar', symbol: '', exp: 2, flag: 'dz' },\n  EGP: { name: 'Egyptian Pound', symbol: ' ', exp: 2, flag: 'eg' },\n  ERN: { name: 'Eritrean nakfa', symbol: '', exp: 2, flag: 'er' },\n  ETB: { name: 'Ethiopian Birr', symbol: 'Br', exp: 2, flag: 'et' },\n  EUR: { name: 'Euro', symbol: '', exp: 2, flag: 'eu' },\n  FJD: { name: 'Fijian dollar', symbol: '$', exp: 2, flag: 'fj' },\n  FKP: { name: 'Falkland Island Pound', symbol: '', exp: 2, flag: 'fk' },\n  GBP: { name: 'British Pound', symbol: '', exp: 2, flag: 'gb' },\n  GEL: { name: 'Georgian lari', symbol: '', exp: 2, flag: 'ge' },\n  GHS: { name: 'Ghanaian Cedi', symbol: 'GH', exp: 2, flag: 'gh' },\n  GIP: { name: 'Gibraltar pound', symbol: '', exp: 2, flag: 'gi' },\n  GMD: { name: 'Gambian dalasi', symbol: 'D', exp: 2, flag: 'gm' },\n  GNF: { name: 'Guinean Franc', symbol: 'GNF', exp: 0, flag: 'gn' },\n  GTQ: { name: 'Guatemalan Quetzal', symbol: 'Q', exp: 2, flag: 'gt' },\n  GYD: { name: 'Guyanese dollar', symbol: '$', exp: 2, flag: 'gy' },\n  HKD: { name: 'Hong Kong dollar', symbol: 'HK$', exp: 2, flag: 'hk' },\n  HNL: { name: 'Honduran lempira', symbol: 'L', exp: 2, flag: 'hn' },\n  HRK: { name: 'Croatian kuna', symbol: 'kn', exp: 2, flag: 'hr' },\n  HTG: { name: 'Haitian gourde', symbol: 'G', exp: 2, flag: 'ht' },\n  HUF: { name: 'Hungarian forint', symbol: 'Ft', exp: 2, flag: 'hu' },\n  IDR: { name: 'Indonesian Rupiah', symbol: 'Rp', exp: 2, flag: 'id' },\n  ILS: { name: 'Israeli Shekel', symbol: '', exp: 2, flag: 'il' },\n  INR: { name: 'Indian Rupee', symbol: '', exp: 2, flag: 'in' },\n  IQD: { name: 'Iraqi Dinar', symbol: '.', exp: 3, flag: 'iq' },\n  IRR: { name: 'Iranian Rial', symbol: '', exp: 2, flag: 'ir' },\n  ISK: { name: 'Icelandic Krona', symbol: 'kr', exp: 0, flag: 'is' },\n  JMD: { name: 'Jamaican dollar', symbol: 'J$', exp: 2, flag: 'jm' },\n  JOD: { name: 'Jordanian Dinar', symbol: 'JOD', exp: 3, flag: 'jo' },\n  JPY: { name: 'Japanese yen', symbol: '', exp: 0, flag: 'jp' },\n  KES: { name: 'Kenyan Shilling', symbol: 'KSh', exp: 2, flag: 'ke' },\n  KGS: { name: 'Kyrgyzstani som', symbol: '', exp: 2, flag: 'kg' },\n  KHR: { name: 'Cambodian Riel', symbol: '', exp: 2, flag: 'kh' },\n  KMF: { name: 'Comoro Franc', symbol: 'KMF', exp: 0, flag: 'km' },\n  KPW: { name: 'North Korean won', symbol: '', exp: 2, flag: 'kp' },\n  KRW: { name: 'South Korean won', symbol: '', exp: 0, flag: 'kr' },\n  KWD: { name: 'Kuwaiti Dinar', symbol: '', exp: 3, flag: 'kw' },\n  KYD: { name: 'Caymanian Dollar', symbol: '$', exp: 2, flag: 'ky' },\n  KZT: { name: 'Kazakhstani tenge', symbol: '', exp: 2, flag: 'kz' },\n  LAK: { name: 'Lao or Laotian Kip', symbol: '', exp: 2, flag: 'la' },\n  LBP: { name: 'Lebanese Pound', symbol: '.', exp: 2, flag: 'lb' },\n  LKR: { name: 'Sri Lankan Rupee', symbol: 'Rs', exp: 2, flag: 'lk' },\n  LRD: { name: 'Liberian Dollar', symbol: '$', exp: 2, flag: 'lr' },\n  LSL: { name: 'Lesotho loti', symbol: 'L or M', exp: 2, flag: 'ls' },\n  LTL: { name: 'Lithuanian litas', symbol: 'Lt', exp: 2, flag: 'lt' },\n  LYD: { name: 'Libyan Dinar', symbol: ' .', exp: 3, flag: 'ly' },\n  MAD: { name: 'Moroccan Dirham', symbol: '..', exp: 2, flag: 'ma' },\n  MDL: { name: 'Moldovan Leu', symbol: 'L', exp: 2, flag: 'md' },\n  MGA: { name: 'Malagasy Ariary', symbol: 'Ar', exp: 2, flag: 'mg' },\n  MKD: { name: 'Macedonian Denar', symbol: '', exp: 2, flag: 'mk' },\n  MMK: { name: 'Burmese Kyat', symbol: 'K', exp: 2, flag: 'mm' },\n  MNT: { name: 'Mongolian Tughrik', symbol: '', exp: 2, flag: 'mn' },\n  MOP: { name: 'Macau Pataca', symbol: 'MOP$', exp: 2, flag: 'mo' },\n  MRO: { name: 'Mauritanian Ouguiya', symbol: 'UM', exp: 2, flag: 'mr' },\n  MUR: { name: 'Mauritian rupee', symbol: 'Rs', exp: 2, flag: 'mu' },\n  MVR: { name: 'Maldivian Rufiyaa', symbol: 'rf', exp: 2, flag: 'mv' },\n  MWK: { name: 'Malawian Kwacha', symbol: 'MK', exp: 2, flag: 'mw' },\n  MXN: { name: 'Mexico Peso', symbol: '$', exp: 2, flag: 'mx' },\n  MYR: { name: 'Malaysian Ringgit', symbol: 'RM', exp: 2, flag: 'my' },\n  MZN: { name: 'Mozambican Metical', symbol: 'MT', exp: 2, flag: 'mz' },\n  NAD: { name: 'Namibian Dollar', symbol: '$', exp: 2, flag: 'na' },\n  NGN: { name: 'Nigerian Naira', symbol: '', exp: 2, flag: 'ng' },\n  NIO: { name: 'Nicaraguan crdoba', symbol: 'C$', exp: 2, flag: 'ni' },\n  NOK: { name: 'Norwegian krone', symbol: 'kr', exp: 2, flag: 'no' },\n  NPR: { name: 'Nepalese Rupee', symbol: 'Rs', exp: 2, flag: 'np' },\n  NZD: { name: 'New Zealand Dollar', symbol: '$', exp: 2, flag: 'nz' },\n  OMR: { name: 'Omani Rial', symbol: '..', exp: 3, flag: 'om' },\n  PAB: { name: 'Balboa panamrn', symbol: 'B/', exp: 2, flag: 'pa' },\n  PEN: { name: 'Peruvian nuevo sol', symbol: 'S/', exp: 2, flag: 'pe' },\n  PGK: { name: 'Papua New Guinean Kina', symbol: 'K', exp: 2, flag: 'pg' },\n  PHP: { name: 'Philippine Peso', symbol: '', exp: 2, flag: 'ph' },\n  PKR: { name: 'Pakistani Rupee', symbol: 'Rs', exp: 2, flag: 'pk' },\n  PLN: { name: 'Polish zoty', symbol: 'z', exp: 2, flag: 'pl' },\n  PYG: { name: 'Paraguayan guarani', symbol: '', exp: 0, flag: 'py' },\n  QAR: { name: 'Qatari Riyal', symbol: '. ', exp: 2, flag: 'qa' },\n  RON: { name: 'Romanian leu', symbol: 'lei', exp: 2, flag: 'ro' },\n  RSD: { name: 'Serbian Dinar', symbol: '', exp: 2, flag: 'rs' },\n  RUB: { name: 'Russian Rouble', symbol: '', exp: 2, flag: 'ru' },\n  RWF: { name: 'Rwandan franc', symbol: 'FRw, RF, R', exp: 0, flag: 'rw' },\n  SAR: { name: 'Saudi Arabian Riyal', symbol: '.', exp: 2, flag: 'sa' },\n  SBD: { name: 'Solomon Islander Dollar', symbol: 'SI$', exp: 2, flag: 'sb' },\n  SCR: { name: 'Seychellois Rupee', symbol: 'Rs', exp: 2, flag: 'sc' },\n  SDG: { name: 'Sudanese Pound', symbol: 'SDG', exp: 2, flag: 'sd' },\n  SEK: { name: 'Swedish krona', symbol: 'kr', exp: 2, flag: 'se' },\n  SGD: { name: 'Singapore Dollar', symbol: '$', exp: 2, flag: 'sg' },\n  SLL: { name: 'Sierra Leonean Leone', symbol: 'Le', exp: 2, flag: 'sl' },\n  SOS: { name: 'Somali Shilling', symbol: 'S', exp: 2, flag: 'so' },\n  SRD: { name: 'Surinamese dollar', symbol: '$', exp: 2, flag: 'sr' },\n  SYP: { name: 'Syrian Pound', symbol: '', exp: 2, flag: 'sy' },\n  SZL: { name: 'Swazi Lilangeni', symbol: 'L or E', exp: 2, flag: 'sz' },\n  THB: { name: 'Thai Baht', symbol: '', exp: 2, flag: 'th' },\n  TJS: { name: 'Tajikistani somoni', symbol: 'TJS', exp: 2, flag: 'tj' },\n  TMT: { name: 'Turkmenistan manat', symbol: 'T', exp: 2, flag: 'tm' },\n  TND: { name: 'Tunisian Dinar', symbol: 'TND', exp: 3, flag: 'tn' },\n  TOP: { name: \"Tongan Pa'anga\", symbol: 'T$', exp: 2, flag: 'to' },\n  TRY: { name: 'Turkish Lira', symbol: '', exp: 2, flag: 'tr' },\n  TTD: { name: 'Trinidadian dollar', symbol: 'TT$', exp: 2, flag: 'tt' },\n  TWD: { name: 'Taiwan New Dollar', symbol: 'NT$', exp: 2, flag: 'tw' },\n  TZS: { name: 'Tanzanian Shilling', symbol: 'Sh', exp: 2, flag: 'tz' },\n  UAH: { name: 'Ukrainian Hryvnia', symbol: '', exp: 2, flag: 'ua' },\n  UGX: { name: 'Ugandan Shilling', symbol: 'USh', exp: 0, flag: 'ug' },\n  USD: { name: 'US Dollar', symbol: '$', exp: 2, flag: 'us' },\n  UYU: { name: 'Uruguayan peso', symbol: '$U', exp: 2, flag: 'uy' },\n  UZS: { name: 'Uzbekistani som', symbol: '', exp: 2, flag: 'uz' },\n  VEF: { name: 'Venezuelan bolivar', symbol: 'Bs', exp: 2, flag: 've' },\n  VND: { name: 'Vietnamese Dong', symbol: '', exp: 0, flag: 'vn' },\n  VUV: { name: 'Vanuatu Vatu', symbol: 'VT', exp: 0, flag: 'vu' },\n  WST: { name: 'Samoan Tl', symbol: '$', exp: 2, flag: 'ws' },\n  YER: { name: 'Yemeni Rial', symbol: 'YER', exp: 2, flag: 'ye' },\n  ZAR: { name: 'South African Rand', symbol: 'R', exp: 2, flag: 'za' },\n  ZMW: { name: 'Zambian Kwacha', symbol: 'ZMK', exp: 2, flag: 'zm' },\n  ZWD: { name: 'Zimbabwean Dollar', symbol: 'Z$', exp: 2, flag: 'zw' },\n  XAU: { name: 'Gold, troy ounce', symbol: 'XAU', exp: 2 }\n};\n\nexport interface ExchangeRateT {\n  [code: string]: number;\n}\n\ntype CurrencyOptionT = {\n  key: string;\n  value: string;\n  text: string;\n  flag?: string;\n};\n\nconst Currency = {\n  defaultBase: 'USD',\n  options(): CurrencyOptionT[] {\n    return Object.keys(CURRENCY).map(code => ({\n      key: code,\n      value: code,\n      flag: CURRENCY[code].flag,\n      text: `${code}, ${CURRENCY[code].name}`\n    }));\n  },\n  name(code: string) {\n    return CURRENCY[code].name;\n  },\n  symbol(code: string) {\n    return CURRENCY[code].symbol;\n  },\n  minAmount(code: string) {\n    return Number(`1e-${CURRENCY[code].exp}`);\n  },\n  /**\n   * Convert value to currency's subunit (e.g. cents for USD).\n   * Subunit is the minimal currency unit and it is always whole integer.\n   */\n  numberToCents(value: string | number, code: string) {\n    return Math.round(parseFloat(`${value}e${CURRENCY[code].exp}`));\n  },\n  /**\n   * Convert value from subunit back to float representation with formatting.\n   * For example 199001 USD becomes 1,990.01 USD\n   */\n  centsToNumber(value: number, code: string): number {\n    const exp = CURRENCY[code].exp;\n    const num = Number(`${value}e-${exp}`);\n\n    return num;\n  },\n  centsToString(value: number, code: string, format: boolean = true): string {\n    const exp = CURRENCY[code].exp;\n    const num = Number(`${value}e-${exp}`);\n\n    return format\n      ? num.toLocaleString(undefined, {\n          minimumFractionDigits: exp,\n          maximumFractionDigits: exp\n        })\n      : num.toString();\n  },\n  centsToDollar(value: number, code: string): string {\n    const exp = CURRENCY[code].exp;\n    const num = Number(`${value}e-${exp}`);\n\n    return num.toLocaleString(undefined, { maximumFractionDigits: 0 });\n  },\n  convert(value: number, rate: number, from: string, to: string) {\n    return (value / rate) * Math.pow(10, CURRENCY[from].exp - CURRENCY[to].exp);\n  }\n};\n\nexport default Currency;\n","import Currency from '../entities/Currency';\n\nexport const getExchangeRate = state => state.settings.exchangeRate;\nexport const getBaseCurrency = state => state.settings.currency.base;\nexport const getBaseCurrencySymbol = state => {\n  return Currency.symbol(state.settings.currency.base);\n};\nexport const getSecondaryCurrency = state => state.settings.currency.secondary;\nexport const getCollapsedSections = state => state.settings.collapsedSections;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Icon } from 'semantic-ui-react';\nimport { toggleSectionCollapse } from '../../actions/settings';\nimport { getCollapsedSections } from '../../selectors/settings';\nimport './index.css';\n\nconst CollapsibleSection = ({\n  name,\n  label,\n  LabelComponent,\n  collapsed,\n  toggle,\n  children\n}) => (\n  <div className=\"section\">\n    <div\n      className={\n        collapsed.includes(name) ? 'section__header' : 'section__header active'\n      }\n      onClick={() => toggle(name)}\n    >\n      <Icon name=\"dropdown\" />\n      <h3>{label}</h3>\n      {LabelComponent && <LabelComponent />}\n    </div>\n    {!collapsed.includes(name) && (\n      <div className=\"section__body\">{children}</div>\n    )}\n  </div>\n);\n\nCollapsibleSection.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  LabelComponent: PropTypes.func,\n  collapsed: PropTypes.arrayOf(PropTypes.string),\n  toggle: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  collapsed: getCollapsedSections(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  { toggle: toggleSectionCollapse }\n)(CollapsibleSection);\n","/**\n * Immutable map helper. All operations return new map copied from previous map.\n */\nconst EntityMap = {\n  /**\n   * Create new entity map from given array.\n   *\n   * @param {array} entities\n   * @param {string} keyPropName\n   * @return {object}\n   */\n  fromArray(entities, keyPropName = 'id') {\n    return EntityMap.merge({ byKey: {}, keys: [] }, entities, keyPropName);\n  },\n  /**\n   * Merge given entities into given map.\n   *\n   * @param {object} source\n   * @param {array} entities\n   * @return {object}\n   */\n  merge(source, entities, keyPropName = 'id') {\n    return {\n      byKey: {\n        ...source.byKey,\n        ...entities.reduce((acc, entity) => {\n          acc[entity[keyPropName]] = entity;\n          return acc;\n        }, {})\n      },\n      keys: [\n        ...new Set(\n          entities\n            .map(entity => entity[keyPropName])\n            .filter(key => !source.keys.includes(key))\n            .concat(source.keys)\n        )\n      ]\n    };\n  },\n  /**\n   * Set given entity in map.\n   *\n   * @param {object} source\n   * @param {striobjectng} entity\n   */\n  set(source, entity, keyPropName = 'id') {\n    return EntityMap.merge(source, [entity], keyPropName);\n  },\n  /**\n   * Remove value by given key.\n   *\n   * @param {object} source\n   * @param {string} key\n   * @return {object}\n   */\n  remove(source, key) {\n    if (!source.byKey || !source.byKey[key]) return source;\n\n    const keys = source.keys.filter(originalKey => originalKey !== key);\n    return {\n      byKey: keys.reduce((acc, key) => {\n        acc[key] = source.byKey[key];\n        return acc;\n      }, {}),\n      keys\n    };\n  },\n  /**\n   * Retrieve value by given key.\n   *\n   * @param {object} source\n   * @param {string} key\n   */\n  get(source, key, fallback = {}) {\n    return (source.byKey && source.byKey[key]) || fallback;\n  },\n  /**\n   * Map over all entities with given function and return array with results.\n   * Optionally slice mapping to given offset and limit.\n   *\n   * @param {object} source\n   * @param {function} fn\n   * @param {number} limit\n   * @param {number} offset\n   * @return {array}\n   */\n  map(source, fn, limit = source.keys.length, offset = 0) {\n    return source.keys\n      .slice(offset, offset + limit)\n      .map(key => fn(source.byKey[key], key));\n  },\n  /**\n   * Filter source entires with given function and return array of entries matching the filter.\n   *\n   * @param {object} source\n   * @param {function} fn\n   * @return {array}\n   */\n  filter(source, fn) {\n    return source.keys.reduce((acc, key) => {\n      if (fn(source.byKey[key], key)) {\n        acc.push(source.byKey[key]);\n      }\n      return acc;\n    }, []);\n  },\n  /**\n   * Apply given function to all entities and return new map with results.\n   *\n   * @param {object} source\n   * @param {function} fn\n   * @return {object}\n   */\n  apply(source, fn) {\n    return {\n      byKey: source.keys.reduce((acc, key) => {\n        acc[key] = fn(source.byKey[key], key);\n        return acc;\n      }, {}),\n      keys: source.keys\n    };\n  }\n};\n\nexport default EntityMap;\n","import format from 'date-fns/format';\nimport Currency from 'entities/Currency';\nimport { toLocalTimestamp } from 'util/timezone';\n\ninterface TransactionBaseT {\n  kind: TransationKindT;\n  accountId: string;\n  currency: string;\n  note?: string;\n  linkedAccountId?: string;\n  linkedCurrency?: string;\n}\n\nexport interface TransactionFormT extends TransactionBaseT {\n  id?: string;\n  amount: string;\n  date: string;\n  linkedAmount?: string;\n  tags: { [kind in TransationKindT]?: string[] };\n}\n\nexport interface TransactionStateT extends TransactionBaseT {\n  id: string;\n  amount: number;\n  date: number;\n  linkedAmount?: number;\n  tags?: string[];\n}\n\nexport interface TransactionStorageT extends TransactionBaseT {\n  _id?: string;\n  amount: number;\n  linkedAmount?: number;\n  tags?: string[];\n}\n\nexport enum TransationKindT {\n  Expense,\n  Transfer,\n  Income\n}\n\nconst { Expense, Transfer, Income } = TransationKindT;\nconst TransactionKindToText: { [kind in TransationKindT]: string } = {\n  [Expense]: 'Expense',\n  [Transfer]: 'Transfer',\n  [Income]: 'Income'\n};\n\nexport const defaultKind = Expense;\nexport const recentListLimit = 5;\nexport const rowsPerSearchPage = 10;\nexport const pagerSizeMobile = 5;\nexport const pagerSizeDesktop = 9;\n\nexport function getKindLabel(kind: TransationKindT) {\n  return TransactionKindToText[kind];\n}\n\nexport function formToState(form: TransactionFormT): TransactionStateT {\n  const tags = form.tags && form.tags[form.kind];\n\n  return {\n    ...form,\n    id: form.id || '',\n    amount: Currency.numberToCents(\n      parseFloat(form.amount) * (form.kind === Expense ? -1 : 1),\n      form.currency\n    ),\n    linkedAmount:\n      form.kind === Transfer && form.linkedCurrency && form.linkedAmount\n        ? Currency.numberToCents(form.linkedAmount, form.linkedCurrency)\n        : undefined,\n    note: form.note || undefined,\n    tags: tags && tags.length > 0 ? tags : undefined,\n    date: new Date(form.date).getTime()\n  };\n}\n\nexport function stateToForm(state: TransactionStateT): TransactionFormT {\n  return {\n    ...state,\n    amount: Currency.centsToString(\n      state.amount * (state.kind === Expense ? -1 : 1),\n      state.currency,\n      false\n    ),\n    linkedAmount:\n      state.kind === Transfer && state.linkedAmount && state.linkedCurrency\n        ? Currency.centsToString(\n            state.linkedAmount,\n            state.linkedCurrency,\n            false\n          )\n        : undefined,\n    note: state.note || '',\n    tags: {\n      [Expense]: [],\n      [Income]: [],\n      [state.kind]: state.tags || []\n    },\n    date: format(toLocalTimestamp(state.date), 'YYYY-MM-DD')\n  };\n}\n\nexport function storageToState({\n  _id,\n  kind,\n  note,\n  tags,\n  accountId,\n  amount,\n  currency,\n  linkedAccountId,\n  linkedAmount,\n  linkedCurrency\n}: TransactionStorageT): TransactionStateT {\n  if (!_id) throw new Error('Transaction storage object missing \"_id\"');\n  // date timestamp is encoded in transaction ID\n  const dateRegexMatch = _id.match(/T([0-9]+)-/);\n  if (!dateRegexMatch) throw new Error(`No date in Transaction ID \"${_id}\"`);\n\n  return {\n    id: _id,\n    date: parseInt(dateRegexMatch[1], 10),\n    kind,\n    note,\n    tags,\n    accountId,\n    amount,\n    currency,\n    linkedAccountId,\n    linkedAmount,\n    linkedCurrency\n  };\n}\n\nexport function stateToStorage({\n  kind,\n  note,\n  tags,\n  accountId,\n  amount,\n  currency,\n  linkedAccountId,\n  linkedAmount,\n  linkedCurrency\n}: TransactionStateT): TransactionStorageT {\n  return {\n    kind,\n    note,\n    tags,\n    accountId,\n    amount,\n    currency,\n    ...(kind === Transfer && {\n      linkedAccountId,\n      linkedAmount,\n      linkedCurrency\n    })\n  };\n}\n","export default (a, b) => {\n  if (a.name < b.name) return -1;\n  if (a.name > b.name) return 1;\n  return 0;\n};\n","import { createSelector } from 'reselect';\nimport { getBaseCurrency, getExchangeRate } from '../settings';\nimport { getGroupName } from '../../entities/Account';\nimport Currency from '../../entities/Currency';\nimport EntityMap from '../../entities/EntityMap';\nimport sortByName from '../../util/sortByName';\n\nexport const getAccountsMap = state => state.entities.accounts;\n\nexport const getAccount = id =>\n  createSelector(\n    getAccountsMap,\n    accounts => EntityMap.get(accounts, id)\n  );\n\nexport const getAccountByName = name =>\n  createSelector(\n    getAccountsList,\n    accounts => accounts.find(account => account.name === name)\n  );\n\nexport const getAccountsList = state =>\n  EntityMap.map(state.entities.accounts, account => ({ ...account })).sort(\n    sortByName\n  );\n\nexport const getVisibleAccountsList = createSelector(\n  getAccountsList,\n  accounts => accounts.filter(account => !account.archived)\n);\n\nexport const getDashboardAccountsList = createSelector(\n  getVisibleAccountsList,\n  accounts => accounts.filter(account => account.on_dashboard)\n);\n\nexport const getAccountsNameMap = createSelector(\n  getAccountsList,\n  accounts =>\n    accounts.reduce((acc, account) => {\n      acc[account.id] = account.name;\n      return acc;\n    }, {})\n);\n\nexport const getAccountsCurrencyMap = createSelector(\n  getAccountsList,\n  accounts =>\n    accounts.reduce((acc, account) => {\n      acc[account.id] = account.currencies;\n      return acc;\n    }, {})\n);\n\nexport const getAccountsCurrencyList = createSelector(\n  getAccountsList,\n  accounts =>\n    accounts.reduce(\n      (currencies, account) =>\n        currencies.concat(\n          account.currencies.filter(code => !currencies.includes(code))\n        ),\n      []\n    )\n);\n\nconst groupAccounts = (accounts, base, rate) => {\n  const grouped = accounts.reduce((grouped, account) => {\n    const group = account.group;\n    if (!grouped[group]) {\n      grouped[group] = {\n        name: getGroupName(group),\n        accounts: [],\n        total: 0\n      };\n    }\n\n    grouped[group].accounts.push(account);\n    grouped[group].total += getBaseTotal(account, base, rate);\n\n    return grouped;\n  }, {});\n\n  for (const group of Object.keys(grouped)) {\n    grouped[group].accounts.sort(sortByName);\n  }\n\n  return grouped;\n};\n\nexport const getVisibleGroupedAccounts = createSelector(\n  getVisibleAccountsList,\n  getBaseCurrency,\n  getExchangeRate,\n  groupAccounts\n);\n\nexport const getDashboardGroupedAccounts = createSelector(\n  getDashboardAccountsList,\n  getBaseCurrency,\n  getExchangeRate,\n  groupAccounts\n);\n\nexport const getGroupedAccounts = createSelector(\n  getAccountsList,\n  getBaseCurrency,\n  getExchangeRate,\n  groupAccounts\n);\n\nexport const getAccountsAsOptions = createSelector(\n  getVisibleGroupedAccounts,\n  groups => {\n    const options = [];\n    for (const group of Object.keys(groups)) {\n      for (const account of groups[group].accounts) {\n        options.push({\n          key: account.id,\n          value: account.id,\n          text: account.name,\n          description: getGroupName(group)\n        });\n      }\n    }\n    return options;\n  }\n);\n\nexport const getNetWorth = createSelector(\n  getAccountsList,\n  getBaseCurrency,\n  getExchangeRate,\n  (accounts, base, rate) =>\n    accounts.reduce(\n      (netWorth, account) => netWorth + getBaseTotal(account, base, rate),\n      0\n    )\n);\n\nconst getBaseTotal = (account, base, rate) =>\n  account.currencies.reduce(\n    (total, code) =>\n      Math.floor(\n        total + Currency.convert(account.balance[code], rate[code], base, code)\n      ),\n    0\n  );\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Currency from '../entities/Currency';\n\nconst Amount = ({ value, code, showColor = true, showCents = true }) => (\n  <span\n    className={`mono ${showColor && (value >= 0 ? 'positive' : 'negative')}`}\n  >\n    {showCents\n      ? Currency.centsToString(value, code)\n      : Currency.centsToDollar(value, code)}{' '}\n    {code}\n  </span>\n);\n\nAmount.propTypes = {\n  value: PropTypes.number.isRequired,\n  code: PropTypes.string.isRequired,\n  showColor: PropTypes.bool,\n  showCents: PropTypes.bool\n};\n\nexport default Amount;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getNetWorth } from '../../selectors/entities/accounts';\nimport { getBaseCurrency } from '../../selectors/settings';\nimport Amount from '../../components/Amount';\n\nconst NetWorth = ({ netWorth, baseCurrency }) => (\n  <div className=\"net-worth__total\">\n    <Amount value={netWorth} code={baseCurrency} showCents={false} />\n  </div>\n);\n\nconst mapStateToProps = state => ({\n  netWorth: getNetWorth(state),\n  baseCurrency: getBaseCurrency(state)\n});\n\nexport default connect(mapStateToProps)(NetWorth);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'semantic-ui-react';\nimport Amount from '../../Amount';\nimport { stateToForm } from '../../../entities/Account';\n\nclass AccountItem extends React.Component {\n  handleEditClick = () => {\n    this.props.openAccountInModal(stateToForm(this.props.account));\n  };\n\n  render() {\n    return (\n      <div className=\"account-widget-account\">\n        <div className=\"account-widget-account__name\">\n          <Link to={`/transactions/${this.props.account.id}`}>\n            {this.props.account.name}\n          </Link>\n        </div>\n        <div className=\"account-widget-account__balance\">\n          {this.props.account.currencies.map(code => (\n            <Amount\n              key={code}\n              value={this.props.account.balance[code]}\n              code={code}\n            />\n          ))}\n        </div>\n        {this.props.openAccountInModal && (\n          <div className=\"account-widget-account__edit\">\n            <Button\n              basic\n              circular\n              icon=\"pencil\"\n              onClick={this.handleEditClick}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nAccountItem.propTypes = {\n  account: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    balance: PropTypes.objectOf(PropTypes.number).isRequired\n  }).isRequired,\n  openAccountInModal: PropTypes.func\n};\n\nexport default AccountItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AccountItem from './AccountItem';\nimport Amount from '../../Amount';\n\nconst Group = ({\n  baseCurrency,\n  group,\n  isCollapsed,\n  toggleGroupCollapse,\n  openAccountInModal\n}) => (\n  <div className=\"account-widget-group\">\n    <div className=\"account-widget-group__header\" onClick={toggleGroupCollapse}>\n      <span className=\"account-widget-group__name\">{group.name}</span>\n      <span className=\"account-widget-group__total\">\n        <Amount value={group.total} code={baseCurrency} showCents={false} />\n      </span>\n    </div>\n    {!isCollapsed &&\n      group.accounts.map(account => (\n        <AccountItem\n          key={account.id}\n          account={account}\n          openAccountInModal={openAccountInModal}\n        />\n      ))}\n  </div>\n);\n\nGroup.propTypes = {\n  baseCurrency: PropTypes.string.isRequired,\n  group: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    accounts: PropTypes.arrayOf(PropTypes.object).isRequired,\n    total: PropTypes.number.isRequired\n  }).isRequired,\n  isCollapsed: PropTypes.bool.isRequired,\n  toggleGroupCollapse: PropTypes.func.isRequired,\n  openAccountInModal: PropTypes.func\n};\n\nexport default Group;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Group from './Group';\nimport './index.css';\n\nclass AccountsWidget extends React.Component {\n  toggle = group => () => this.props.toggleSectionCollapse(group);\n\n  render() {\n    const groups = Object.keys(this.props.groups);\n\n    return (\n      groups.length > 0 && (\n        <div className=\"account-widget\">\n          {groups.map(group => (\n            <Group\n              key={group}\n              baseCurrency={this.props.baseCurrency}\n              group={this.props.groups[group]}\n              isCollapsed={this.props.collapsedGroups.includes(group)}\n              toggleGroupCollapse={this.toggle(group)}\n              openAccountInModal={this.props.openAccountInModal}\n            />\n          ))}\n        </div>\n      )\n    );\n  }\n}\n\nAccountsWidget.propTypes = {\n  baseCurrency: PropTypes.string.isRequired,\n  groups: PropTypes.objectOf(PropTypes.object).isRequired,\n  collapsedGroups: PropTypes.arrayOf(PropTypes.string).isRequired,\n  toggleSectionCollapse: PropTypes.func.isRequired,\n  openAccountInModal: PropTypes.func\n};\n\nexport default AccountsWidget;\n","import { connect } from 'react-redux';\nimport AccountsList from '../../components/Account/List';\nimport { getDashboardGroupedAccounts } from '../../selectors/entities/accounts';\nimport {\n  getCollapsedSections,\n  getBaseCurrency\n} from '../../selectors/settings';\nimport { toggleSectionCollapse } from '../../actions/settings';\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  baseCurrency: getBaseCurrency(state),\n  collapsedGroups: getCollapsedSections(state),\n  groups: getDashboardGroupedAccounts(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  { toggleSectionCollapse }\n)(AccountsList);\n","const offset = new Date().getTimezoneOffset();\n\nexport function toUtcTimestamp(date: Date | number) {\n  const timestamp = date instanceof Date ? date.getTime() : date;\n  return timestamp - offset * 60 * 1000;\n}\n\nexport function toLocalTimestamp(date: Date | number) {\n  const timestamp = date instanceof Date ? date.getTime() : date;\n  return timestamp + offset * 60 * 1000;\n}\n","import PropTypes from 'prop-types';\n\nexport const DropdownOption = PropTypes.shape({\n  key: PropTypes.string,\n  value: PropTypes.string,\n  text: PropTypes.string\n});\n","import React from 'react';\nimport { Menu } from 'semantic-ui-react';\nimport { getKindLabel, TransationKindT } from 'entities/Transaction';\n\nconst Header = ({ withTransfer, activeKind, changeKind }) => {\n  const { Expense, Transfer, Income } = TransationKindT;\n  const kinds = withTransfer ? [Expense, Transfer, Income] : [Expense, Income];\n  return (\n    <Menu attached=\"top\" widths={kinds.length}>\n      {kinds.map(kind => (\n        <Menu.Item\n          key={kind}\n          color={kind === Expense ? 'red' : kind === Income ? 'green' : 'black'}\n          name={getKindLabel(kind)}\n          active={kind === activeKind}\n          onClick={() => changeKind(kind)}\n        />\n      ))}\n    </Menu>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, Form, Input } from 'semantic-ui-react';\nimport { DropdownOption } from '../../types';\nimport Currency from '../../../entities/Currency';\n\nconst Account = props => (\n  <Form.Group>\n    <Form.Field width={11} className=\"mobile-with-margin\">\n      <label>{props.label}</label>\n      <Dropdown\n        selection\n        options={props.accountOptions}\n        value={props.accountId}\n        onChange={props.onAccountChange}\n      />\n    </Form.Field>\n    <Form.Field width={5} className=\"mobile-with-margin input-right no-label\">\n      <Input\n        required\n        type=\"number\"\n        min={Currency.minAmount(props.currency)}\n        step={Currency.minAmount(props.currency)}\n        value={props.amount}\n        onChange={props.onAmountChange}\n        labelPosition=\"right\"\n        label={\n          props.currencyOptions.length === 1 ? (\n            props.currencyOptions[0].text\n          ) : (\n            <Dropdown\n              options={props.currencyOptions}\n              value={props.currency}\n              onChange={props.onCurrencyChange}\n            />\n          )\n        }\n      />\n    </Form.Field>\n  </Form.Group>\n);\n\nAccount.propTypes = {\n  label: PropTypes.string,\n  accountId: PropTypes.string,\n  accountOptions: PropTypes.arrayOf(DropdownOption),\n  amount: PropTypes.string,\n  currency: PropTypes.string,\n  currencyOptions: PropTypes.arrayOf(DropdownOption),\n  onAccountChange: PropTypes.func,\n  onAmountChange: PropTypes.func,\n  onCurrencyChange: PropTypes.func\n};\n\nexport default Account;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Button, Dropdown, Input, Segment } from 'semantic-ui-react';\nimport {\n  TransationKindT,\n  getKindLabel,\n  formToState\n} from 'entities/Transaction';\nimport { DropdownOption } from 'components/types';\nimport Header from './Header';\nimport Account from './Account';\nimport './index.css';\n\nconst { Expense, Transfer, Income } = TransationKindT;\nconst NoAccounts = () => (\n  <div className=\"transactions-form__empty\">You don't have any accounts.</div>\n);\n\nclass TransactionForm extends React.Component {\n  state = { searchQuery: '' };\n\n  onSubmit = event => {\n    event.preventDefault();\n    this.props.saveTransaction(formToState(this.props.form));\n  };\n\n  onChange = handler => (_, { value }) => handler(value);\n\n  onAccountChange = handler => (_, { value }) => {\n    handler({\n      accountId: value,\n      currency: this.props.accountCurrency[value]\n    });\n  };\n\n  onTagAdd = (_, { value }) => {\n    this.props.addTag({ kind: this.props.form.kind, tag: value });\n  };\n  onTagSearchChange = (_, { searchQuery }) => this.setState({ searchQuery });\n  onTagClose = () => this.setState({ searchQuery: '' });\n\n  getCurrencyOptions = accountId => {\n    return this.props.accountCurrency[accountId].map(code => ({\n      key: code,\n      value: code,\n      text: code\n    }));\n  };\n\n  getGridClassName = () =>\n    this.props.form.kind === Transfer\n      ? 'transaction-form-grid single-line'\n      : 'transaction-form-grid';\n\n  render() {\n    if (!this.props.form.accountId) return <NoAccounts />;\n\n    return (\n      <React.Fragment>\n        <Header\n          withTransfer={!!this.props.form.linkedAccountId}\n          activeKind={this.props.form.kind}\n          changeKind={this.props.changeKind}\n        />\n        <Segment attached=\"bottom\">\n          <Form onSubmit={this.onSubmit} className=\"transaction-form\">\n            <Account\n              label={this.props.form.kind === Income ? 'To' : 'From'}\n              accountId={this.props.form.accountId}\n              amount={this.props.form.amount}\n              currency={this.props.form.currency}\n              accountOptions={this.props.accountOptions}\n              currencyOptions={this.getCurrencyOptions(\n                this.props.form.accountId\n              )}\n              onAccountChange={this.onAccountChange(this.props.changeAccount)}\n              onAmountChange={this.onChange(this.props.changeAmount)}\n              onCurrencyChange={this.onChange(this.props.changeCurrency)}\n            />\n            {this.props.form.kind === Transfer && (\n              <Account\n                label=\"To\"\n                accountId={this.props.form.linkedAccountId}\n                amount={this.props.form.linkedAmount}\n                currency={this.props.form.linkedCurrency}\n                accountOptions={this.props.accountOptions}\n                currencyOptions={this.getCurrencyOptions(\n                  this.props.form.linkedAccountId\n                )}\n                onAccountChange={this.onAccountChange(\n                  this.props.changeLinkedAccount\n                )}\n                onAmountChange={this.onChange(this.props.changeLinkedAmount)}\n                onCurrencyChange={this.onChange(\n                  this.props.changeLinkedCurrency\n                )}\n              />\n            )}\n            <div className={this.getGridClassName()}>\n              <div className=\"transaction-form-grid__column-wide\">\n                {this.props.form.kind !== Transfer && (\n                  <div className=\"transaction-form-grid__field\">\n                    <Form.Field>\n                      <label>Tags</label>\n                      <Dropdown\n                        multiple\n                        selection\n                        search\n                        allowAdditions\n                        closeOnChange\n                        placeholder=\"Escolha tags existentes ou adicione novas\"\n                        value={this.props.form.tags[this.props.form.kind]}\n                        options={this.props.tagsOptions}\n                        onChange={this.onChange(this.props.changeTags)}\n                        onAddItem={this.onTagAdd}\n                        onClose={this.onTagClose}\n                        onSearchChange={this.onTagSearchChange}\n                        searchQuery={this.state.searchQuery}\n                      />\n                    </Form.Field>\n                  </div>\n                )}\n                <div className=\"transaction-form-grid__field\">\n                  <Form.Field>\n                    <Input\n                      placeholder=\"Observao\"\n                      value={this.props.form.note}\n                      onChange={this.onChange(this.props.changeNote)}\n                    />\n                  </Form.Field>\n                </div>\n              </div>\n              <div className=\"transaction-form-grid__column-narrow\">\n                <div className=\"transaction-form-grid__field\">\n                  <Form.Field>\n                    <Input\n                      required\n                      fluid\n                      type=\"date\"\n                      value={this.props.form.date}\n                      onChange={this.onChange(this.props.changeDate)}\n                    />\n                  </Form.Field>\n                </div>\n                <div className=\"transaction-form-grid__field\">\n                  <Button\n                    primary\n                    fluid\n                    disabled={parseFloat(this.props.form.amount) === 0}\n                  >\n                    {this.props.form.id ? 'Save' : 'Add'}{' '}\n                    {getKindLabel(this.props.form.kind)}\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </Form>\n        </Segment>\n      </React.Fragment>\n    );\n  }\n}\n\nTransactionForm.propTypes = {\n  form: PropTypes.shape({\n    id: PropTypes.string,\n    kind: PropTypes.oneOf([Expense, Transfer, Income]),\n    accountId: PropTypes.string,\n    amount: PropTypes.string,\n    currency: PropTypes.string,\n    linkedAccountId: PropTypes.string,\n    linkedAmount: PropTypes.string,\n    linkedCurrency: PropTypes.string,\n    tags: PropTypes.shape({\n      [Expense]: PropTypes.arrayOf(PropTypes.string),\n      [Income]: PropTypes.arrayOf(PropTypes.string)\n    }),\n    date: PropTypes.string,\n    note: PropTypes.string\n  }),\n  accountCurrency: PropTypes.object.isRequired,\n  accountOptions: PropTypes.arrayOf(DropdownOption).isRequired,\n  tagsOptions: PropTypes.arrayOf(DropdownOption),\n  changeKind: PropTypes.func.isRequired,\n  changeAccount: PropTypes.func.isRequired,\n  changeAmount: PropTypes.func.isRequired,\n  changeCurrency: PropTypes.func.isRequired,\n  changeLinkedAccount: PropTypes.func,\n  changeLinkedAmount: PropTypes.func,\n  changeLinkedCurrency: PropTypes.func,\n  addTag: PropTypes.func,\n  changeTags: PropTypes.func,\n  changeDate: PropTypes.func.isRequired,\n  changeNote: PropTypes.func.isRequired,\n  loadTags: PropTypes.func,\n  saveTransaction: PropTypes.func.isRequired\n};\n\nexport default TransactionForm;\n","import { TransationKindT } from '../../entities/Transaction';\n\nexport const getTagOptions = state =>\n  state.entities.tags[state.ui.form.transaction.kind].map(tag => ({\n    key: tag,\n    value: tag,\n    text: tag\n  }));\n\nexport const getAllTagsOptions = state =>\n  [\n    ...new Set([\n      ...state.entities.tags[TransationKindT.Expense],\n      ...state.entities.tags[TransationKindT.Income]\n    ])\n  ].map(tag => ({\n    key: tag,\n    value: tag,\n    text: tag\n  }));\n","import { createActions } from 'redux-actions';\n\nexport const {\n  loadFilterTransactions,\n  loadFilterTransactionsSuccess,\n  loadRecentTransactions,\n  loadRecentTransactionsSuccess,\n  saveTransaction,\n  saveTransactionSuccess,\n  removeTransaction,\n  removeTransactionSuccess\n} = createActions(\n  'LOAD_FILTER_TRANSACTIONS',\n  'LOAD_FILTER_TRANSACTIONS_SUCCESS',\n  'LOAD_RECENT_TRANSACTIONS',\n  'LOAD_RECENT_TRANSACTIONS_SUCCESS',\n  'SAVE_TRANSACTION',\n  'SAVE_TRANSACTION_SUCCESS',\n  'REMOVE_TRANSACTION',\n  'REMOVE_TRANSACTION_SUCCESS'\n);\n","import { createActions } from 'redux-actions';\n\nexport const {\n  loadTags,\n  loadExpenseTagsSuccess,\n  loadIncomeTagsSuccess\n} = createActions(\n  'LOAD_TAGS',\n  'LOAD_EXPENSE_TAGS_SUCCESS',\n  'LOAD_INCOME_TAGS_SUCCESS'\n);\n","import { createActions } from 'redux-actions';\n\nexport const {\n  fillInTransactionForm,\n  resetTransactionForm,\n  openTransactionInModal,\n  changeKind,\n  changeAccount,\n  changeAmount,\n  changeCurrency,\n  changeLinkedAccount,\n  changeLinkedAmount,\n  changeLinkedCurrency,\n  changeDate,\n  addTag,\n  changeTags,\n  changeNote\n} = createActions(\n  'FILL_IN_TRANSACTION_FORM',\n  'RESET_TRANSACTION_FORM',\n  'OPEN_TRANSACTION_IN_MODAL',\n  'CHANGE_KIND',\n  'CHANGE_ACCOUNT',\n  'CHANGE_AMOUNT',\n  'CHANGE_CURRENCY',\n  'CHANGE_LINKED_ACCOUNT',\n  'CHANGE_LINKED_AMOUNT',\n  'CHANGE_LINKED_CURRENCY',\n  'CHANGE_DATE',\n  'ADD_TAG',\n  'CHANGE_TAGS',\n  'CHANGE_NOTE'\n);\n","import { connect } from 'react-redux';\nimport TransactionForm from '../../components/Transaction/Form';\nimport {\n  getAccountsCurrencyMap,\n  getAccountsAsOptions\n} from '../../selectors/entities/accounts';\nimport { getTagOptions } from '../../selectors/entities/tags';\nimport { saveTransaction } from '../../actions/entities/transactions';\nimport { loadTags } from '../../actions/entities/tags';\nimport {\n  changeKind,\n  changeAccount,\n  changeAmount,\n  changeCurrency,\n  changeLinkedAccount,\n  changeLinkedAmount,\n  changeLinkedCurrency,\n  addTag,\n  changeTags,\n  changeDate,\n  changeNote\n} from '../../actions/ui/form/transaction';\n\nconst mapStateToProps = state => ({\n  form: state.ui.form.transaction,\n  accountCurrency: getAccountsCurrencyMap(state),\n  accountOptions: getAccountsAsOptions(state),\n  tagsOptions: getTagOptions(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    changeKind,\n    changeAccount,\n    changeAmount,\n    changeCurrency,\n    changeLinkedAccount,\n    changeLinkedAmount,\n    changeLinkedCurrency,\n    changeDate,\n    changeNote,\n    addTag,\n    changeTags,\n    loadTags,\n    saveTransaction\n  }\n)(TransactionForm);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport format from 'date-fns/format';\nimport { Icon, Button, Label } from 'semantic-ui-react';\nimport Amount from '../../Amount';\nimport { stateToForm, TransationKindT } from '../../../entities/Transaction';\nimport { toLocalTimestamp } from '../../../util/timezone';\n\nconst { Expense, Transfer, Income } = TransationKindT;\n\nclass TransactionItem extends React.Component {\n  handleEditClick = () => {\n    this.props.openTransactionInModal(stateToForm(this.props.transaction));\n  };\n\n  render() {\n    const { transaction } = this.props;\n    return (\n      <div className=\"transaction-item\">\n        <div className=\"transaction-item__date\">\n          {format(toLocalTimestamp(transaction.date), 'DD MMM')}\n        </div>\n        <div className=\"transaction-item__info\">\n          {transaction.accountName}\n          {this.renderArrow()}\n          {transaction.kind === Transfer && transaction.linkedAccountName}\n          {transaction.tags &&\n            transaction.tags.map(tag => <Label key={tag} content={tag} />)}\n          <span className=\"transaction-item__info__note\">\n            {transaction.note}\n          </span>\n        </div>\n        <div className=\"transaction-item__amount\">\n          <Amount\n            value={transaction.amount}\n            code={transaction.currency}\n            showColor={transaction.kind !== Transfer}\n          />\n          {transaction.kind === Transfer && this.renderLinkedAmount()}\n        </div>\n        <div className=\"transaction-item__edit\">\n          <Button\n            circular\n            basic\n            icon=\"pencil\"\n            onClick={this.handleEditClick}\n            disabled={transaction.archived}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  renderArrow() {\n    const { kind, tags, note } = this.props.transaction;\n    if (kind !== Transfer && !tags && !note) return;\n\n    return (\n      <Icon\n        color=\"grey\"\n        name={kind === Income ? 'arrow left' : 'arrow right'}\n      />\n    );\n  }\n\n  renderLinkedAmount() {\n    const { linkedAmount, linkedCurrency, currency } = this.props.transaction;\n    if (!linkedCurrency || linkedCurrency === currency) return;\n\n    return (\n      <span>\n        <Icon color=\"grey\" name=\"arrow right\" />\n        <Amount value={linkedAmount} code={linkedCurrency} showColor={false} />\n      </span>\n    );\n  }\n}\n\nTransactionItem.propTypes = {\n  transaction: PropTypes.shape({\n    kind: PropTypes.oneOf([Expense, Transfer, Income]),\n    id: PropTypes.string,\n    accountId: PropTypes.string,\n    accountName: PropTypes.string,\n    amount: PropTypes.number,\n    currency: PropTypes.string,\n    linkedAccountId: PropTypes.string,\n    linkedAccountName: PropTypes.string,\n    linkedAmount: PropTypes.number,\n    linkedCurrency: PropTypes.string,\n    tags: PropTypes.arrayOf(PropTypes.string),\n    note: PropTypes.string,\n    date: PropTypes.number\n  }),\n  openTransactionInModal: PropTypes.func\n};\n\nexport default TransactionItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Button, Header } from 'semantic-ui-react';\n\nconst ModalForm = props => (\n  <Modal\n    closeIcon\n    size=\"small\"\n    className=\"transaction\"\n    open={props.isOpen}\n    onClose={props.resetTransactionForm}\n  >\n    <Header\n      icon=\"file text outline\"\n      content={props.isEdit ? 'Edit Transaction' : 'New Transaction'}\n    />\n    <Modal.Content>\n      <props.EditForm />\n    </Modal.Content>\n    {props.isEdit && (\n      <Modal.Actions>\n        <Button\n          negative\n          icon=\"trash\"\n          content=\"Delete\"\n          labelPosition=\"right\"\n          onClick={() => props.removeTransaction(props.currentTransactionId)}\n        />\n      </Modal.Actions>\n    )}\n  </Modal>\n);\n\nModalForm.propTypes = {\n  currentTransactionId: PropTypes.string,\n  isOpen: PropTypes.bool,\n  isEdit: PropTypes.bool,\n  resetTransactionForm: PropTypes.func,\n  removeTransaction: PropTypes.func,\n  EditForm: PropTypes.func\n};\n\nexport default ModalForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Segment, Dimmer, Loader } from 'semantic-ui-react';\nimport TransactionItem from './TransactionItem';\nimport ModalForm from './ModalForm';\nimport './index.css';\n\nclass TransactionList extends React.Component {\n  render() {\n    return (\n      <Segment className=\"transactions-list__wrapper\">\n        <Dimmer inverted active={this.props.isLoading}>\n          <Loader active inline=\"centered\" />\n        </Dimmer>\n        {this.props.transactions.length > 0 ? (\n          this.props.transactions.map(this.renderTransaction)\n        ) : (\n          <div className=\"transactions-list__empty\">No transactions found.</div>\n        )}\n        <ModalForm\n          currentTransactionId={this.props.currentTransactionId}\n          EditForm={this.props.EditForm}\n          isOpen={this.props.isModalOpen}\n          isEdit={this.props.isEdit}\n          resetTransactionForm={this.props.resetTransactionForm}\n          removeTransaction={this.props.removeTransaction}\n        />\n      </Segment>\n    );\n  }\n\n  renderTransaction = transaction => (\n    <TransactionItem\n      key={transaction.id}\n      transaction={transaction}\n      openTransactionInModal={this.props.openTransactionInModal}\n    />\n  );\n}\n\nTransactionList.propTypes = {\n  isLoading: PropTypes.bool,\n  transactions: PropTypes.arrayOf(PropTypes.object),\n  currentTransactionId: PropTypes.string,\n  isModalOpen: PropTypes.bool,\n  isEdit: PropTypes.bool,\n  openTransactionInModal: PropTypes.func,\n  resetTransactionForm: PropTypes.func,\n  removeTransaction: PropTypes.func,\n  EditForm: PropTypes.func\n};\n\nexport default TransactionList;\n","import format from 'date-fns/format';\nimport { createSelector } from 'reselect';\nimport {\n  pagerSizeMobile,\n  pagerSizeDesktop\n} from '../../../entities/Transaction';\nimport { toLocalTimestamp } from '../../../util/timezone';\n\nexport const getDateLabel = state => {\n  const dateStart = toLocalTimestamp(state.ui.transaction.filter.dateStart);\n  const dateEnd = toLocalTimestamp(state.ui.transaction.filter.dateEnd);\n  return format(dateStart, 'DD MMM') !== format(dateEnd, 'DD MMM')\n    ? `${format(dateStart, 'DD MMM')}  ${format(dateEnd, 'DD MMM')}`\n    : format(dateStart, 'MMMM, Do');\n};\n\nexport const getFilters = state => ({\n  date: {\n    start: state.ui.transaction.filter.dateStart,\n    end: state.ui.transaction.filter.dateEnd\n  },\n  accounts: new Set(state.ui.transaction.filter.applied.accounts),\n  tags: state.ui.transaction.filter.applied.tags || []\n});\n\nexport const getPage = state => state.ui.transaction.filter.page;\n\nexport const getLastPage = state => {\n  return Math.ceil(\n    state.ui.transaction.filter.totalRows / state.ui.transaction.filter.perPage\n  );\n};\n\nexport const getPagerSize = state =>\n  state.ui.isMobile ? pagerSizeMobile : pagerSizeDesktop;\n\nexport const getVisiblePages = createSelector(\n  getPage,\n  getLastPage,\n  getPagerSize,\n  (current, last, size) => {\n    const pages = [];\n    const offset = Math.max(0, last - current - Math.ceil(size / 2));\n    const windowRight = last > size ? Math.max(size, last - offset) : last;\n    const windowLeft = Math.max(0, windowRight - size);\n\n    for (let page = windowLeft; page < windowRight; page++) {\n      pages.push(page);\n    }\n\n    return pages;\n  }\n);\n","import { createSelector } from 'reselect';\nimport { getAccountsMap } from './accounts';\nimport { getBaseCurrency, getExchangeRate } from '../settings';\nimport { getPage } from '../ui/transaction/filter';\nimport { recentListLimit, rowsPerSearchPage } from '../../entities/Transaction';\nimport Currency from '../../entities/Currency';\nimport EntityMap from '../../entities/EntityMap';\n\nconst recentTransactionsSelector = state => state.entities.transactions.recent;\nconst filterTransactionsSelector = state => state.entities.transactions.filter;\n\nexport const getRecentTransactions = createSelector(\n  recentTransactionsSelector,\n  getAccountsMap,\n  (transactions, accounts) =>\n    EntityMap.map(\n      transactions,\n      transaction => joinAccount(transaction, accounts),\n      recentListLimit\n    )\n);\n\nexport const getFilterTransactions = createSelector(\n  filterTransactionsSelector,\n  getPage,\n  getAccountsMap,\n  (transactions, page, accounts) =>\n    EntityMap.map(\n      transactions,\n      transaction => joinAccount(transaction, accounts),\n      rowsPerSearchPage,\n      page * rowsPerSearchPage\n    )\n);\n\nfunction joinAccount(transaction, accounts) {\n  const account = EntityMap.get(accounts, transaction.accountId);\n  const linked = EntityMap.get(accounts, transaction.linkedAccountId);\n  return {\n    ...transaction,\n    archived: account.archived || linked.archived,\n    accountName: account.name,\n    linkedAccountName: linked.name\n  };\n}\n\nexport const getFilterTotal = kind =>\n  createSelector(\n    filterTransactionsSelector,\n    getBaseCurrency,\n    getExchangeRate,\n    (transactions, base, rate) =>\n      EntityMap.filter(transactions, tx => tx.kind === kind).reduce(\n        (total, tx) =>\n          Math.floor(\n            total +\n              Currency.convert(tx.amount, rate[tx.currency], base, tx.currency)\n          ),\n        0\n      )\n  );\n","import format from 'date-fns/format';\nimport { createSelector } from 'reselect';\nimport {\n  getAccountsCurrencyMap,\n  getAccountsAsOptions\n} from '../../entities/accounts';\nimport { getBaseCurrency } from '../../settings';\nimport { defaultKind, TransationKindT } from '../../../entities/Transaction';\n\nconst { Expense, Income } = TransationKindT;\n\nexport const getForm = state => state.ui.form.transaction;\n\nconst getDefaultAccountId = createSelector(\n  getAccountsAsOptions,\n  options => options.length > 0 && options[0].key\n);\n\nconst getDefaultCurrency = createSelector(\n  getDefaultAccountId,\n  getAccountsCurrencyMap,\n  getBaseCurrency,\n  (accountId, currencies, base) =>\n    accountId &&\n    (currencies[accountId].includes(base) ? base : currencies[accountId][0])\n);\n\nconst getDefaultLinkedAccountId = createSelector(\n  getAccountsAsOptions,\n  getDefaultAccountId,\n  getAccountsCurrencyMap,\n  (options, defaultAccountId, currencies) =>\n    options.length > 1\n      ? options[1].key\n      : defaultAccountId &&\n        currencies[defaultAccountId].length > 1 &&\n        defaultAccountId\n);\n\nconst getDefaultLinkedCurrency = createSelector(\n  getDefaultAccountId,\n  getDefaultLinkedAccountId,\n  getAccountsCurrencyMap,\n  getBaseCurrency,\n  (accountId, linkedAccountId, currencies, base) =>\n    accountId && accountId === linkedAccountId\n      ? currencies[accountId][1]\n      : linkedAccountId &&\n        (currencies[linkedAccountId].includes(base)\n          ? base\n          : currencies[linkedAccountId][0])\n);\n\nexport const getDefaultState = createSelector(\n  getDefaultAccountId,\n  getDefaultCurrency,\n  getDefaultLinkedAccountId,\n  getDefaultLinkedCurrency,\n  (accountId, currency, linkedAccountId, linkedCurrency) => {\n    return {\n      kind: defaultKind,\n      isModalOpen: false,\n      accountId: accountId || null,\n      currency: currency || null,\n      amount: '',\n      linkedAccountId: linkedAccountId || null,\n      linkedCurrency: linkedCurrency || null,\n      linkedAmount: '',\n      tags: {\n        [Expense]: [],\n        [Income]: []\n      },\n      date: format(new Date(), 'YYYY-MM-DD'),\n      note: ''\n    };\n  }\n);\n","import { connect } from 'react-redux';\nimport {\n  openTransactionInModal,\n  resetTransactionForm\n} from '../../actions/ui/form/transaction';\nimport { removeTransaction } from '../../actions/entities/transactions';\nimport TransactionList from '../../components/Transaction/List';\nimport { getRecentTransactions } from '../../selectors/entities/transactions';\nimport { getForm } from '../../selectors/ui/form/transaction';\nimport TransactionForm from '../Transactions/Form';\n\nconst mapStateToProps = state => ({\n  currentTransactionId: getForm(state).id,\n  transactions: getRecentTransactions(state),\n  isModalOpen: getForm(state).isModalOpen,\n  isEdit: getForm(state).id !== undefined,\n  EditForm: TransactionForm\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    openTransactionInModal,\n    resetTransactionForm,\n    removeTransaction\n  }\n)(TransactionList);\n","import { createActions } from 'redux-actions';\n\nexport const {\n  loadAccounts,\n  loadAccountsSuccess,\n  saveAccount,\n  saveAccountFailure,\n  saveAccountSuccess,\n  updateAccount,\n  removeAccount,\n  removeAccountRequest,\n  removeAccountStart,\n  removeAccountItemProcessed,\n  removeAccountFailure,\n  removeAccountSuccess\n} = createActions(\n  'LOAD_ACCOUNTS',\n  'LOAD_ACCOUNTS_SUCCESS',\n  'SAVE_ACCOUNT',\n  'SAVE_ACCOUNT_FAILURE',\n  'SAVE_ACCOUNT_SUCCESS',\n  'UPDATE_ACCOUNT',\n  'REMOVE_ACCOUNT',\n  'REMOVE_ACCOUNT_REQUEST',\n  'REMOVE_ACCOUNT_START',\n  'REMOVE_ACCOUNT_ITEM_PROCESSED',\n  'REMOVE_ACCOUNT_FAILURE',\n  'REMOVE_ACCOUNT_SUCCESS'\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Grid } from 'semantic-ui-react';\nimport CollapsibleSection from '../../components/CollapsibleSection';\nimport NetWorth from './NetWorth';\nimport Accounts from './Accounts';\nimport TransactionForm from '../Transactions/Form';\nimport RecentTransactions from './RecentTransactions';\nimport { loadAccounts } from '../../actions/entities/accounts';\nimport { loadRecentTransactions } from '../../actions/entities/transactions';\nimport { loadTags } from '../../actions/entities/tags';\n\nclass Dashboard extends React.Component {\n  componentDidMount() {\n    this.props.loadTags();\n    this.props.loadAccounts();\n    this.props.loadRecentTransactions();\n  }\n\n  render() {\n    return (\n      <div className=\"container-full-page\">\n        <Grid>\n          <Grid.Row>\n            <Grid.Column computer={6} mobile={16}>\n              <CollapsibleSection\n                name=\"net_worth\"\n                label=\"Net Worth\"\n                LabelComponent={NetWorth}\n              >\n                <Accounts />\n              </CollapsibleSection>\n            </Grid.Column>\n            <Grid.Column computer={10} mobile={16}>\n              <CollapsibleSection name=\"add_tx\" label=\"New Transaction\">\n                <TransactionForm />\n              </CollapsibleSection>\n              <CollapsibleSection name=\"recent_tx\" label=\"Recent Transactions\">\n                <RecentTransactions />\n              </CollapsibleSection>\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nDashboard.propTypes = {\n  loadTags: PropTypes.func,\n  loadAccounts: PropTypes.func,\n  loadRecentTransactions: PropTypes.func\n};\n\nexport default connect(\n  undefined,\n  {\n    loadTags,\n    loadAccounts,\n    loadRecentTransactions\n  }\n)(Dashboard);\n","import { connect } from 'react-redux';\nimport {\n  openTransactionInModal,\n  resetTransactionForm\n} from '../../actions/ui/form/transaction';\nimport { removeTransaction } from '../../actions/entities/transactions';\nimport TransactionList from '../../components/Transaction/List';\nimport { getFilterTransactions } from '../../selectors/entities/transactions';\nimport { getForm } from '../../selectors/ui/form/transaction';\nimport TransactionForm from '../Transactions/Form';\n\nconst mapStateToProps = state => ({\n  currentTransactionId: getForm(state).id,\n  isLoading: state.ui.transaction.filter.isLoading,\n  transactions: getFilterTransactions(state),\n  isModalOpen: getForm(state).isModalOpen,\n  isEdit: getForm(state).id !== undefined,\n  EditForm: TransactionForm\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    openTransactionInModal,\n    resetTransactionForm,\n    removeTransaction\n  }\n)(TransactionList);\n","import React from 'react';\nimport { Modal, Button } from 'semantic-ui-react';\nimport DayPicker, { DateUtils } from 'react-day-picker';\nimport 'react-day-picker/lib/style.css';\n\nconst currentYear = new Date().getFullYear();\nconst fromMonth = new Date(currentYear - 8, 0);\nconst toMonth = new Date(currentYear + 2, 11);\n\nfunction YearMonthForm({ date, localeUtils, onChange }) {\n  const months = localeUtils.getMonths();\n\n  const years = [];\n  for (let i = fromMonth.getFullYear(); i <= toMonth.getFullYear(); i += 1) {\n    years.push(i);\n  }\n\n  const handleChange = function handleChange(e) {\n    const { year, month } = e.target.form;\n    onChange(new Date(year.value, month.value));\n  };\n\n  return (\n    <form className=\"DayPicker-Caption\">\n      <select name=\"month\" onChange={handleChange} value={date.getMonth()}>\n        {months.map((month, i) => (\n          <option key={i} value={i}>\n            {month}\n          </option>\n        ))}\n      </select>\n      <select name=\"year\" onChange={handleChange} value={date.getFullYear()}>\n        {years.map((year, i) => (\n          <option key={i} value={year}>\n            {year}\n          </option>\n        ))}\n      </select>\n    </form>\n  );\n}\n\nclass Calendar extends React.Component {\n  state = {\n    month: null,\n    from: null,\n    to: null\n  };\n\n  handleDayClick = day => {\n    const range = DateUtils.addDayToRange(day, this.state);\n    this.setState(range);\n  };\n\n  handleYearMonthChange = month => {\n    this.setState({ month });\n  };\n\n  handleResetClick = () => {\n    this.setState({\n      month: null,\n      from: null,\n      to: null\n    });\n  };\n\n  handleApplyClick = () => {\n    const { from, to } = this.state;\n\n    this.props.changeFilterDate({\n      dateStart: from.setHours(0, 0, 0),\n      dateEnd: (to && to.setHours(23, 59, 59)) || from.setHours(23, 59, 59)\n    });\n    this.props.toggleFilterCalendar();\n  };\n\n  render() {\n    const { month, from, to } = this.state;\n\n    return (\n      <Modal\n        open={this.props.isCalendarOpen}\n        onClose={this.props.toggleFilterCalendar}\n        className=\"transactions-filter-modal\"\n        closeIcon\n        size=\"small\"\n      >\n        <Modal.Header>Show transactions in range</Modal.Header>\n        <Modal.Content>\n          <DayPicker\n            className=\"Range\"\n            fixedWeeks\n            enableOutsideDays\n            numberOfMonths={this.props.isMobile ? 1 : 2}\n            selectedDays={[from, { from, to }]}\n            month={month}\n            captionElement={\n              <YearMonthForm onChange={this.handleYearMonthChange} />\n            }\n            onDayClick={this.handleDayClick}\n          />\n        </Modal.Content>\n        <Modal.Actions>\n          <Button content=\"Reset\" onClick={this.handleResetClick} />\n          <Button\n            content=\"Apply\"\n            onClick={this.handleApplyClick}\n            positive\n            disabled={this.state.from === null && this.state.to === null}\n          />\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default Calendar;\n","import subDays from 'date-fns/sub_days';\nimport startOfToday from 'date-fns/start_of_today';\nimport endOfToday from 'date-fns/end_of_today';\nimport startOfYesterday from 'date-fns/start_of_yesterday';\nimport endOfYesterday from 'date-fns/end_of_yesterday';\nimport startOfMonth from 'date-fns/start_of_month';\n\nexport enum DateFilterRangeT {\n  today,\n  yesterday,\n  lastWeek,\n  lastMonth,\n  thisMonth,\n  custom\n}\n\ninterface DateFilterItemT {\n  text: string;\n  start: () => Date;\n  end: () => Date;\n}\n\nfunction daysFromToday(days: number) {\n  return () => subDays(startOfToday(), days);\n}\n\nfunction firstDayOfThisMonth() {\n  const date = new Date();\n\n  return startOfMonth(date);\n}\n\nconst lastWeek = daysFromToday(7);\nconst lastMonth = daysFromToday(30);\n\nconst DateFilterRangeMap: { [range in DateFilterRangeT]: DateFilterItemT } = {\n  [DateFilterRangeT.today]: {\n    text: 'Today',\n    start: startOfToday,\n    end: endOfToday\n  },\n  [DateFilterRangeT.yesterday]: {\n    text: 'Yesterday',\n    start: startOfYesterday,\n    end: endOfYesterday\n  },\n  [DateFilterRangeT.lastWeek]: {\n    text: 'Last 7 days',\n    start: lastWeek,\n    end: endOfToday\n  },\n  [DateFilterRangeT.lastMonth]: {\n    text: 'Last 30 days',\n    start: lastMonth,\n    end: endOfToday\n  },\n  [DateFilterRangeT.thisMonth]: {\n    text: 'This month',\n    start: firstDayOfThisMonth,\n    end: endOfToday\n  },\n  [DateFilterRangeT.custom]: {\n    text: 'Custom date',\n    start: startOfToday,\n    end: endOfToday\n  }\n};\n\nexport const defaultDateFilterRange = DateFilterRangeT.lastWeek;\nexport const defaultStart = DateFilterRangeMap[defaultDateFilterRange].start;\nexport const defaultEnd = DateFilterRangeMap[defaultDateFilterRange].end;\n\nexport function getDateFilterRangeStart(key: DateFilterRangeT) {\n  return DateFilterRangeMap[key].start();\n}\n\nexport function getDateFilterRangeEnd(key: DateFilterRangeT) {\n  return DateFilterRangeMap[key].end();\n}\n\nexport function getDateRangeFilterOptions() {\n  return Object.entries(DateFilterRangeMap).map(([key, { text }]) => ({\n    key,\n    value: parseInt(key),\n    text\n  }));\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Button, Form, Dropdown } from 'semantic-ui-react';\nimport { DropdownOption } from '../../types';\n\nclass Filters extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      accounts: this.props.appliedAccounts,\n      tags: this.props.appliedTags\n    };\n  }\n\n  componentWillReceiveProps({ appliedAccounts, appliedTags }) {\n    this.setState({\n      accounts: appliedAccounts,\n      tags: appliedTags\n    });\n  }\n\n  handleAccountChange = (event, { value }) =>\n    this.setState({ accounts: value });\n  handleTagsChange = (event, { value }) => this.setState({ tags: value });\n\n  handleResetClick = () => {\n    this.setState({\n      accounts: [],\n      tags: []\n    });\n  };\n\n  handleApplyClick = () => {\n    this.props.applyFilters(this.state);\n    this.props.toggleFilterModal();\n  };\n\n  render() {\n    return (\n      <Modal\n        open={this.props.isFilterModalOpen}\n        onClose={this.props.toggleFilterModal}\n        closeIcon\n        size=\"tiny\"\n      >\n        <Modal.Header>Filter transactions</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Group widths=\"equal\">\n              <Form.Field>\n                <label>Account</label>\n                <Dropdown\n                  multiple\n                  selection\n                  search\n                  closeOnChange\n                  onChange={this.handleAccountChange}\n                  options={this.props.accountOptions}\n                  value={this.state.accounts}\n                />\n              </Form.Field>\n            </Form.Group>\n            <Form.Group widths=\"equal\">\n              <Form.Field>\n                <label>Tags</label>\n                <Dropdown\n                  multiple\n                  selection\n                  search\n                  closeOnChange\n                  onChange={this.handleTagsChange}\n                  options={this.props.tagsOptions}\n                  value={this.state.tags}\n                />\n              </Form.Field>\n            </Form.Group>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button content=\"Reset\" onClick={this.handleResetClick} />\n          <Button content=\"Apply\" onClick={this.handleApplyClick} positive />\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nFilters.propTypes = {\n  isFilterModalOpen: PropTypes.bool,\n  appliedAccounts: PropTypes.arrayOf(PropTypes.string),\n  accountOptions: PropTypes.arrayOf(DropdownOption),\n  appliedTags: PropTypes.arrayOf(PropTypes.string),\n  tagsOptions: PropTypes.arrayOf(DropdownOption),\n  toggleFilterModal: PropTypes.func,\n  applyFilters: PropTypes.func\n};\n\nexport default Filters;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Label } from 'semantic-ui-react';\n\nclass AppliedFilters extends React.Component {\n  removeAppliedAccount = accountId => () => {\n    this.props.applyFilters({\n      accounts: this.props.appliedAccounts.filter(acc => acc !== accountId),\n      tags: this.props.appliedTags\n    });\n  };\n\n  removeAppliedTag = tag => () => {\n    this.props.applyFilters({\n      accounts: this.props.appliedAccounts,\n      tags: this.props.appliedTags.filter(t => t !== tag)\n    });\n  };\n\n  render() {\n    if (\n      this.props.appliedAccounts.length === 0 &&\n      this.props.appliedTags.length === 0\n    ) {\n      return null;\n    }\n\n    return (\n      <div className=\"transactions-filters-applied\">\n        {this.props.appliedAccounts.map(accountId => (\n          <Label\n            key={accountId}\n            content={this.props.accountNameMap[accountId]}\n            icon=\"credit card\"\n            onRemove={this.removeAppliedAccount(accountId)}\n          />\n        ))}\n        {this.props.appliedTags.map(tag => (\n          <Label\n            key={tag}\n            content={tag}\n            icon=\"tag\"\n            onRemove={this.removeAppliedTag(tag)}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nAppliedFilters.propTypes = {\n  appliedTags: PropTypes.arrayOf(PropTypes.string),\n  appliedAccounts: PropTypes.arrayOf(PropTypes.string),\n  accountNameMap: PropTypes.object,\n  applyFilters: PropTypes.func\n};\n\nexport default AppliedFilters;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, Button } from 'semantic-ui-react';\nimport Calendar from './Calendar';\nimport Filters from './Filters';\nimport AppliedFilters from './AppliedFilters';\nimport {\n  DateFilterRangeT,\n  getDateRangeFilterOptions,\n  defaultDateFilterRange,\n  getDateFilterRangeStart,\n  getDateFilterRangeEnd\n} from 'entities/Transaction/DateFilterRange';\nimport { DropdownOption } from 'components/types';\nimport './index.css';\n\nclass Filter extends React.Component {\n  options = getDateRangeFilterOptions();\n  lastValue = defaultDateFilterRange;\n\n  handleDateRange = (_, { value }) => {\n    if (value === this.lastValue) return;\n    if (value === DateFilterRangeT.custom) {\n      this.props.toggleFilterCalendar();\n    } else {\n      this.props.changeFilterDate({\n        dateStart: getDateFilterRangeStart(value),\n        dateEnd: getDateFilterRangeEnd(value)\n      });\n      this.lastValue = value;\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"container-header\">\n          <Button.Group basic fluid>\n            <Button\n              icon=\"plus\"\n              labelPosition=\"left\"\n              content=\"New\"\n              onClick={() =>\n                this.props.openTransactionInModal({\n                  ...(this.props.selectedAccount\n                    ? { accountId: this.props.selectedAccount }\n                    : {})\n                })\n              }\n            />\n            <Dropdown\n              button\n              className=\"icon\"\n              options={this.options}\n              defaultValue={defaultDateFilterRange}\n              onChange={this.handleDateRange}\n              text={this.props.dateRangeLabel}\n              labeled\n              icon=\"calendar\"\n            />\n            <Button icon=\"filter\" onClick={this.props.toggleFilterModal} />\n          </Button.Group>\n          <Calendar {...this.props} />\n          <Filters {...this.props} />\n        </div>\n        <AppliedFilters {...this.props} />\n      </React.Fragment>\n    );\n  }\n}\n\nFilter.propTypes = {\n  isMobile: PropTypes.bool,\n  dateRangeLabel: PropTypes.string,\n  isCalendarOpen: PropTypes.bool,\n  isFilterModalOpen: PropTypes.bool,\n  selectedAccount: PropTypes.string,\n  appliedAccounts: PropTypes.arrayOf(PropTypes.string),\n  accountOptions: PropTypes.arrayOf(DropdownOption),\n  accountNameMap: PropTypes.object,\n  appliedTags: PropTypes.arrayOf(PropTypes.string),\n  tagsOptions: PropTypes.arrayOf(DropdownOption),\n  changeFilterDate: PropTypes.func,\n  toggleFilterCalendar: PropTypes.func,\n  toggleFilterModal: PropTypes.func,\n  applyFilters: PropTypes.func,\n  openTransactionInModal: PropTypes.func\n};\n\nexport default Filter;\n","import { createActions } from 'redux-actions';\n\nexport const {\n  changeFilterDate,\n  toggleFilterCalendar,\n  changeFilterPage,\n  toggleFilterModal,\n  applyFilters\n} = createActions(\n  'CHANGE_FILTER_DATE',\n  'TOGGLE_FILTER_CALENDAR',\n  'CHANGE_FILTER_PAGE',\n  'TOGGLE_FILTER_MODAL',\n  'APPLY_FILTERS'\n);\n","import { connect } from 'react-redux';\nimport Filter from '../../components/Transaction/Filter';\nimport {\n  changeFilterDate,\n  toggleFilterCalendar,\n  toggleFilterModal,\n  applyFilters\n} from '../../actions/ui/transaction/filter';\nimport { openTransactionInModal } from '../../actions/ui/form/transaction';\nimport { getDateLabel } from '../../selectors/ui/transaction/filter';\nimport {\n  getAccountsAsOptions,\n  getAccountsNameMap\n} from '../../selectors/entities/accounts';\nimport { getAllTagsOptions } from '../../selectors/entities/tags';\n\nconst mapStateToProps = state => ({\n  isMobile: state.ui.isMobile,\n  dateRangeLabel: getDateLabel(state),\n  isCalendarOpen: state.ui.transaction.filter.isCalendarOpen,\n  isFilterModalOpen: state.ui.transaction.filter.isFilterModalOpen,\n  accountOptions: getAccountsAsOptions(state),\n  accountNameMap: getAccountsNameMap(state),\n  appliedAccounts: state.ui.transaction.filter.applied.accounts || [],\n  tagsOptions: getAllTagsOptions(state),\n  appliedTags: state.ui.transaction.filter.applied.tags || []\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    changeFilterDate,\n    toggleFilterCalendar,\n    toggleFilterModal,\n    applyFilters,\n    openTransactionInModal\n  }\n)(Filter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Menu, Icon } from 'semantic-ui-react';\n\nclass Pager extends React.Component {\n  handlePageChange = nextPage => () => this.props.changeFilterPage(nextPage);\n\n  handlePrevClick = () => {\n    if (this.props.page > 0) {\n      this.props.changeFilterPage(this.props.page - 1);\n    }\n  };\n\n  handleNextClick = () => {\n    const lastPage = this.props.pages[this.props.pages.length - 1];\n    if (this.props.page < lastPage) {\n      this.props.changeFilterPage(this.props.page + 1);\n    }\n  };\n\n  render() {\n    if (this.props.pages.length < 2) return null;\n\n    return (\n      <div className=\"transactions-list-pager\">\n        <Menu pagination>\n          <Menu.Item as=\"a\" icon onClick={this.handlePrevClick}>\n            <Icon name=\"left chevron\" />\n          </Menu.Item>\n          {this.props.pages.map(page => (\n            <Menu.Item\n              as=\"a\"\n              key={page}\n              active={page === this.props.page}\n              onClick={this.handlePageChange(page)}\n            >\n              {page + 1}\n            </Menu.Item>\n          ))}\n          <Menu.Item as=\"a\" icon onClick={this.handleNextClick}>\n            <Icon name=\"right chevron\" />\n          </Menu.Item>\n        </Menu>\n      </div>\n    );\n  }\n}\n\nPager.propTypes = {\n  page: PropTypes.number,\n  pages: PropTypes.arrayOf(PropTypes.number),\n  changeFilterPage: PropTypes.func\n};\n\nexport default Pager;\n","import { connect } from 'react-redux';\nimport Pager from '../../components/Transaction/List/Pager';\nimport { changeFilterPage } from '../../actions/ui/transaction/filter';\nimport {\n  getPage,\n  getVisiblePages\n} from '../../selectors/ui/transaction/filter';\n\nconst mapStateToProps = state => ({\n  page: getPage(state),\n  pages: getVisiblePages(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  { changeFilterPage }\n)(Pager);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'semantic-ui-react';\nimport Amount from '../../Amount';\n\nconst Footer = ({ base, income, expense }) => (\n  <div className=\"transactions-list-footer\">\n    <Table fixed basic=\"very\" unstackable>\n      <Table.Body>\n        <Table.Row>\n          <Table.Cell>Total income</Table.Cell>\n          <Table.Cell textAlign=\"right\">\n            <Amount code={base} value={income} />\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>Total expense</Table.Cell>\n          <Table.Cell textAlign=\"right\">\n            <Amount code={base} value={expense} />\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell />\n          <Table.Cell textAlign=\"right\">\n            <Amount code={base} value={income + expense} />\n          </Table.Cell>\n        </Table.Row>\n      </Table.Body>\n    </Table>\n  </div>\n);\n\nFooter.propTypes = {\n  base: PropTypes.string,\n  income: PropTypes.number,\n  expense: PropTypes.number\n};\n\nexport default Footer;\n","import { connect } from 'react-redux';\nimport Footer from '../../components/Transaction/List/Footer';\nimport { getFilterTotal } from '../../selectors/entities/transactions';\nimport { getBaseCurrency } from '../../selectors/settings';\nimport { TransationKindT } from '../../entities/Transaction';\n\nconst mapStateToProps = state => ({\n  base: getBaseCurrency(state),\n  income: getFilterTotal(TransationKindT.Income)(state),\n  expense: getFilterTotal(TransationKindT.Expense)(state)\n});\n\nexport default connect(mapStateToProps)(Footer);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport List from './List';\nimport Filter from './Filter';\nimport Pager from './Pager';\nimport Footer from './Footer';\nimport { loadAccounts } from '../../actions/entities/accounts';\nimport { loadTags } from '../../actions/entities/tags';\nimport { loadFilterTransactions } from '../../actions/entities/transactions';\nimport { applyFilters } from '../../actions/ui/transaction/filter';\n\nclass Transactions extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.props.applyFilters({\n      accounts: props.match.params.accountId\n        ? [props.match.params.accountId]\n        : []\n    });\n  }\n\n  componentDidMount() {\n    this.props.loadAccounts();\n    this.props.loadTags();\n    this.props.loadFilterTransactions();\n  }\n\n  render() {\n    return (\n      <div className=\"container-full-page flat search-page\">\n        <Filter selectedAccount={this.props.match.params.accountId} />\n        <List />\n        <Pager />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default connect(undefined, {\n  loadAccounts,\n  loadTags,\n  loadFilterTransactions,\n  applyFilters\n})(Transactions);\n","import { createActions } from 'redux-actions';\n\nexport const {\n  fillInAccountForm,\n  resetAccountForm,\n  openAccountInModal,\n  changeName,\n  changeGroup,\n  changeBalance,\n  toggleCurrency,\n  toggleOnDashboard\n} = createActions(\n  'FILL_IN_ACCOUNT_FORM',\n  'RESET_ACCOUNT_FORM',\n  'OPEN_ACCOUNT_IN_MODAL',\n  'CHANGE_NAME',\n  'CHANGE_GROUP',\n  'CHANGE_BALANCE',\n  'TOGGLE_CURRENCY',\n  'TOGGLE_ON_DASHBOARD'\n);\n","export const getForm = state => state.ui.form.account;\nexport const getModal = state => ({\n  isOpen: state.ui.form.account.isModalOpen,\n  isDeleteRequest: state.ui.form.account.isDeleteRequest,\n  isDeleteRunning: state.ui.form.account.isDeleteRunning,\n  itemsToProcess: state.ui.form.account.itemsToProcess,\n  itemsProcessed: state.ui.form.account.itemsProcessed\n});\n","import React from 'react';\nimport { Button, Radio, Dropdown, Form, Progress } from 'semantic-ui-react';\nimport {\n  defaultDeleteStrategy,\n  getDeleteStartegyOptions,\n  DeleteStrategyT\n} from 'entities/Account';\n\nclass DeleteStrategy extends React.Component {\n  state = {\n    strategy: defaultDeleteStrategy\n  };\n\n  onStrategyChange = (e, { value }) => {\n    this.setState({ ...this.state, strategy: value });\n  };\n\n  onAccountChange = (e, { value }) => {\n    this.setState({ ...this.state, moveTo: value });\n  };\n\n  onProceed = () => {\n    this.props.removeAccount({\n      id: this.props.form.id,\n      strategy: this.state.strategy,\n      moveTo: this.getMoveTo()\n    });\n  };\n\n  getMoveTo = () =>\n    this.state.moveTo ||\n    (this.props.accountOptions.length && this.props.accountOptions[0].key);\n\n  render() {\n    const hasMultipleAccounts = this.props.accountOptions.length > 0;\n    return (\n      <React.Fragment>\n        <h3>Voc est prestes a excluir a conta \"{this.props.form.name}\"</h3>\n        <p style={{ marginTop: '1em' }}>\n        O que devemos fazer com as transaes vinculadas a esta conta?\n        </p>\n        <Form>\n          {getDeleteStartegyOptions(hasMultipleAccounts).map(strategy => (\n            <Form.Field key={strategy.key}>\n              <Radio\n                name=\"deleteStrategy\"\n                label={strategy.text}\n                value={strategy.value}\n                checked={this.state.strategy === strategy.value}\n                onChange={this.onStrategyChange}\n                disabled={this.props.modal.isDeleteRunning}\n              />\n            </Form.Field>\n          ))}\n          {hasMultipleAccounts && this.state.strategy === DeleteStrategyT.Move && (\n            <Form.Field>\n              <Dropdown\n                selection\n                value={this.getMoveTo()}\n                options={this.props.accountOptions}\n                onChange={this.onAccountChange}\n                disabled={this.props.modal.isDeleteRunning}\n              />\n            </Form.Field>\n          )}\n          <Form.Field>\n            {this.props.modal.isDeleteRunning ? (\n              <Progress\n                value={this.props.modal.itemsProcessed}\n                total={this.props.modal.itemsToProcess}\n              />\n            ) : (\n              <Button\n                negative\n                labelPosition=\"right\"\n                icon=\"arrow right\"\n                content=\"Proceed\"\n                onClick={this.onProceed}\n              />\n            )}\n          </Form.Field>\n        </Form>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default DeleteStrategy;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Button, Header, Modal } from 'semantic-ui-react';\nimport { DropdownOption } from '../../types';\nimport DeleteStrategy from './DeleteStrategy';\n\nclass ModalForm extends React.Component {\n  reset = () => {\n    if (this.props.modal.isDeleteRunning) return false;\n    this.props.resetAccountForm();\n  };\n\n  render() {\n    return (\n      <Modal\n        closeIcon\n        size=\"small\"\n        className=\"account-form\"\n        open={this.props.modal.isOpen}\n        onClose={this.reset}\n      >\n        <Header\n          icon=\"file text outline\"\n          content={this.props.isEdit ? 'Edit Account' : 'New Account'}\n        />\n        <Modal.Content>\n          {this.props.modal.isDeleteRequest ? (\n            <DeleteStrategy {...this.props} />\n          ) : (\n            <this.props.EditForm />\n          )}\n        </Modal.Content>\n        <Modal.Actions>{this.renderModalActions()}</Modal.Actions>\n      </Modal>\n    );\n  }\n\n  renderModalActions() {\n    if (!this.props.isEdit) return;\n\n    return this.props.modal.isDeleteRequest ? (\n      <Button\n        labelPosition=\"left\"\n        disabled={this.props.modal.isDeleteRunning}\n        onClick={this.props.removeAccountRequest}\n        content=\"Cancel\"\n        icon=\"cancel\"\n      />\n    ) : (\n      <Button\n        negative\n        labelPosition=\"right\"\n        onClick={this.props.removeAccountRequest}\n        content=\"Delete\"\n        icon=\"trash\"\n      />\n    );\n  }\n}\n\nModalForm.propTypes = {\n  modal: PropTypes.shape({\n    isOpen: PropTypes.bool,\n    isDeleteRequest: PropTypes.bool,\n    isDeleteRunning: PropTypes.bool,\n    itemsToProcess: PropTypes.number,\n    itemsProcessed: PropTypes.number\n  }),\n  isEdit: PropTypes.bool,\n  resetAccountForm: PropTypes.func,\n  removeAccountRequest: PropTypes.func,\n  removeAccount: PropTypes.func,\n  EditForm: PropTypes.func,\n  accountOptions: PropTypes.arrayOf(DropdownOption).isRequired\n};\n\nexport default ModalForm;\n","import { connect } from 'react-redux';\nimport AccountsList from '../../components/Account/List';\nimport { getVisibleGroupedAccounts } from '../../selectors/entities/accounts';\nimport {\n  getCollapsedSections,\n  getBaseCurrency\n} from '../../selectors/settings';\nimport { toggleSectionCollapse } from '../../actions/settings';\nimport { openAccountInModal } from '../../actions/ui/form/account';\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  baseCurrency: getBaseCurrency(state),\n  collapsedGroups: getCollapsedSections(state),\n  groups: getVisibleGroupedAccounts(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    toggleSectionCollapse,\n    openAccountInModal\n  }\n)(AccountsList);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Checkbox, Input, Form } from 'semantic-ui-react';\nimport Amount from '../../../components/Amount';\nimport Currency from '../../../entities/Currency';\n\nclass BalanceTable extends React.Component {\n  componentWillMount() {\n    this.updateCurrencyList(this.props.base, this.props.secondary);\n    this.setInitialCurrencyCheckbox(this.props.base);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.updateCurrencyList(nextProps.base, nextProps.secondary);\n    this.setInitialCurrencyCheckbox(nextProps.base);\n  }\n\n  updateCurrencyList(base, secondary) {\n    this.currencies = [base, ...secondary];\n  }\n\n  setInitialCurrencyCheckbox(base) {\n    if (this.props.form.currencies.length === 0) {\n      this.props.toggleCurrency(base);\n    }\n  }\n\n  handleCurrencyChange = (event, { value }) => {\n    this.props.toggleCurrency(value);\n  };\n\n  handleBalanceChange = code => (event, { value }) => {\n    this.props.changeBalance({ code, balance: value });\n  };\n\n  render() {\n    return this.currencies.map(code => (\n      <Form.Group\n        unstackable\n        key={code}\n        style={{ marginBottom: '1em', marginTop: '1em' }}\n      >\n        <Form.Field className=\"checkbox\" width={9}>\n          <Checkbox\n            value={code}\n            label={Currency.name(code)}\n            checked={this.props.form.currencies.includes(code)}\n            onChange={this.handleCurrencyChange}\n          />\n        </Form.Field>\n        <Form.Field className=\"input-right\" width={7}>\n          {this.props.form.id ? (\n            <Amount\n              code={code}\n              value={Currency.numberToCents(\n                this.props.form.balance[code] || 0,\n                code\n              )}\n            />\n          ) : (\n            <Input\n              fluid\n              type=\"number\"\n              placeholder=\"Saldo\"\n              labelPosition=\"right\"\n              label={code}\n              step={Currency.minAmount(code)}\n              value={this.props.form.balance[code] || ''}\n              onChange={this.handleBalanceChange(code)}\n            />\n          )}\n        </Form.Field>\n      </Form.Group>\n    ));\n  }\n}\n\nBalanceTable.propTypes = {\n  base: PropTypes.string.isRequired,\n  secondary: PropTypes.arrayOf(PropTypes.string),\n  form: PropTypes.shape({\n    id: PropTypes.string,\n    balance: PropTypes.objectOf(PropTypes.string),\n    currencies: PropTypes.arrayOf(PropTypes.string)\n  }).isRequired,\n  toggleCurrency: PropTypes.func.isRequired,\n  changeBalance: PropTypes.func.isRequired\n};\n\nexport default BalanceTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Checkbox } from 'semantic-ui-react';\nimport { getAccountGroupOptions, formTostate } from 'entities/Account';\nimport BalanceTable from './BalanceTable';\nimport './index.css';\n\nclass AccountForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.groups = getAccountGroupOptions();\n  }\n\n  handleNameChange = (event, { value }) => this.props.changeName(value);\n  handleGroupChange = (event, { value }) => this.props.changeGroup(value);\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.saveAccount(formTostate(this.props.form));\n  };\n\n  render() {\n    return (\n      <Form className=\"account-form\" onSubmit={this.handleSubmit}>\n        <Form.Group>\n          <Form.Input\n            width={9}\n            required\n            label=\"Name\"\n            placeholder=\"Nome da conta\"\n            value={this.props.form.name}\n            onChange={this.handleNameChange}\n          />\n          <Form.Select\n            width={7}\n            label=\"Group\"\n            value={this.props.form.group}\n            options={this.groups}\n            onChange={this.handleGroupChange}\n          />\n        </Form.Group>\n        <BalanceTable {...this.props} />\n        <Form.Group unstackable>\n          <Form.Field width={9} style={{ paddingTop: '0.5em' }}>\n            <Checkbox\n              label=\"Show on Dashboard\"\n              checked={this.props.form.on_dashboard}\n              onChange={this.props.toggleOnDashboard}\n            />\n          </Form.Field>\n          <Form.Button width={7} primary fluid content=\"Save Account\" />\n        </Form.Group>\n      </Form>\n    );\n  }\n}\n\nAccountForm.propTypes = {\n  form: PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string,\n    group: PropTypes.string,\n    balance: PropTypes.objectOf(PropTypes.string),\n    currencies: PropTypes.arrayOf(PropTypes.string),\n    on_dashboard: PropTypes.bool\n  }),\n  base: PropTypes.string.isRequired,\n  secondary: PropTypes.arrayOf(PropTypes.string),\n  changeName: PropTypes.func,\n  changeGroup: PropTypes.func,\n  toggleOnDashboard: PropTypes.func,\n  toggleCurrency: PropTypes.func.isRequired,\n  changeBalance: PropTypes.func.isRequired,\n  saveAccount: PropTypes.func\n};\n\nexport default AccountForm;\n","import { connect } from 'react-redux';\nimport AccountForm from '../../components/Account/Form';\nimport {\n  changeName,\n  changeGroup,\n  changeBalance,\n  toggleOnDashboard,\n  toggleCurrency\n} from '../../actions/ui/form/account';\nimport { saveAccount, removeAccount } from '../../actions/entities/accounts';\nimport {\n  getBaseCurrency,\n  getSecondaryCurrency\n} from '../../selectors/settings';\nimport { getForm } from '../../selectors/ui/form/account';\n\nconst mapStateToProps = state => ({\n  form: getForm(state),\n  base: getBaseCurrency(state),\n  secondary: getSecondaryCurrency(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    changeName,\n    changeGroup,\n    changeBalance,\n    toggleCurrency,\n    toggleOnDashboard,\n    saveAccount,\n    removeAccount\n  }\n)(AccountForm);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from 'semantic-ui-react';\nimport {\n  loadAccounts,\n  removeAccountRequest,\n  removeAccount\n} from '../../actions/entities/accounts';\nimport {\n  openAccountInModal,\n  resetAccountForm\n} from '../../actions/ui/form/account';\nimport { getForm, getModal } from '../../selectors/ui/form/account';\nimport ModalForm from '../../components/Account/ModalForm';\nimport AccountsList from './List';\nimport AccountForm from './Form';\nimport { getAccountsAsOptions } from '../../selectors/entities/accounts';\n\nclass Accounts extends React.Component {\n  componentWillMount() {\n    this.props.loadAccounts();\n  }\n\n  render() {\n    return (\n      <div className=\"container-full-page flat\">\n        <div className=\"container-header\">\n          <Button.Group basic>\n            <Button\n              icon=\"plus\"\n              labelPosition=\"left\"\n              content=\"New\"\n              onClick={this.props.openAccountInModal}\n            />\n          </Button.Group>\n        </div>\n        <div className=\"accounts-list-wrapper\">\n          <AccountsList />\n        </div>\n        <ModalForm {...this.props} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  form: getForm(state),\n  modal: getModal(state),\n  isEdit: getForm(state).id !== undefined,\n  accountOptions: getAccountsAsOptions(state).filter(\n    option => option.key !== getForm(state).id\n  ),\n  EditForm: AccountForm\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    loadAccounts,\n    openAccountInModal,\n    resetAccountForm,\n    removeAccountRequest,\n    removeAccount\n  }\n)(Accounts);\n","import { createActions } from 'redux-actions';\n\nexport const {\n  changeReportKind,\n  changeReportTimespan,\n  changeReportAccounts,\n  changeReportExcludedTags,\n  moveReportDateBackwards,\n  moveReportDateForwards,\n  loadReport,\n  loadReportSuccess,\n  loadReportFailure\n} = createActions(\n  'CHANGE_REPORT_KIND',\n  'CHANGE_REPORT_TIMESPAN',\n  'CHANGE_REPORT_ACCOUNTS',\n  'CHANGE_REPORT_EXCLUDED_TAGS',\n  'MOVE_REPORT_DATE_BACKWARDS',\n  'MOVE_REPORT_DATE_FORWARDS',\n  'LOAD_REPORT',\n  'LOAD_REPORT_SUCCESS',\n  'LOAD_REPORT_FAILURE'\n);\n","import format from 'date-fns/format';\nimport getDaysInMonth from 'date-fns/get_days_in_month';\nimport range from 'lodash/range';\nimport Currency, { ExchangeRateT } from 'entities/Currency';\nimport { ReportDataT, ReportStateT, ReportTimespanT } from 'entities/Report';\nimport { TransactionStateT, TransationKindT } from 'entities/Transaction';\nimport { toUtcTimestamp } from 'util/timezone';\n\nconst { Expense, Income } = TransationKindT;\n\nexport default function ExpenseIncomeData(\n  report: ReportStateT,\n  transactions: TransactionStateT[],\n  exchangeRate: ExchangeRateT,\n  base: string\n): ReportDataT {\n  const labels =\n    report.timespan === ReportTimespanT.Yearly\n      ? range(0, 12).map(month => format(new Date().setMonth(month), 'MMM'))\n      : range(1, getDaysInMonth(report.date.start) + 1).map(day =>\n          `${day}`.padStart(2, '0')\n        );\n  const data = [\n    new Array(labels.length).fill(0), // income series\n    new Array(labels.length).fill(0) // expense series\n  ];\n  const excluded = new Set(report.excludeTags);\n\n  for (const tx of transactions) {\n    if (tx.kind !== Expense && tx.kind !== Income) continue;\n\n    const period = format(\n      toUtcTimestamp(tx.date),\n      report.timespan === ReportTimespanT.Yearly ? 'M' : 'D'\n    );\n    const txAmount = Currency.convert(\n      Math.abs(tx.amount),\n      exchangeRate[tx.currency],\n      base,\n      tx.currency\n    );\n    data[tx.kind === Income ? 0 : 1][parseInt(period) - 1] += txAmount;\n    if (tx.tags && tx.tags.find(tag => excluded.has(tag))) {\n      data[0][parseInt(period) - 1] -= txAmount;\n      data[1][parseInt(period) - 1] -= txAmount;\n    }\n  }\n\n  return {\n    labels,\n    series: data.map(set =>\n      set.map(amount => Math.floor(Currency.centsToNumber(amount, base)))\n    )\n  };\n}\n","import addMonths from 'date-fns/add_months';\nimport addYears from 'date-fns/add_years';\nimport endOfMonth from 'date-fns/end_of_month';\nimport endOfYear from 'date-fns/end_of_year';\nimport format from 'date-fns/format';\nimport startOfMonth from 'date-fns/start_of_month';\nimport startOfYear from 'date-fns/start_of_year';\nimport subMonths from 'date-fns/sub_months';\nimport subYears from 'date-fns/sub_years';\nimport { ExchangeRateT } from 'entities/Currency';\nimport { toUtcTimestamp } from 'util/timezone';\nimport { TransactionStateT } from './Transaction';\nimport ExpenseIncomeDataLoader from './Report/ExpenseIncomeData';\nimport NetWorthDataLoader from './Report/NetWorthData';\nimport ExpenseTagsDataLoader from './Report/ExpenseTagsData';\n\nexport interface ReportDataT {\n  labels: string[];\n  series: number[][];\n  netWorthStart?: number;\n  netWorthEnd?: number;\n}\n\nexport interface ReportStateT {\n  kind: ReportKindT;\n  data: ReportDataT;\n  date: DateRangeT;\n  timespan: ReportTimespanT;\n  accounts: string[];\n  excludeTags: string[];\n  netWorthStack: number[];\n  isLoading: boolean;\n}\n\nexport enum ReportKindT {\n  ExpenseIncome = 'expense_income',\n  NetIncome = 'net_income',\n  ExpenseTags = 'expense_tags',\n  NetWorth = 'net_worth'\n}\n\nexport enum ReportTimespanT {\n  Yearly = 'yearly',\n  Monthly = 'monthly'\n}\n\ninterface DateRangeT {\n  start: number; // timestamp\n  end: number; // timestamp\n}\n\nconst { Yearly, Monthly } = ReportTimespanT;\nexport const defaultKind = ReportKindT.ExpenseIncome;\nexport const defaultTimespan = Yearly;\n\nexport function defaultDate(timespan = defaultTimespan) {\n  return dateRange(new Date(), timespan);\n}\n\nexport function moveDateBackwards(\n  { start }: DateRangeT,\n  timespan: ReportTimespanT\n) {\n  return dateRange(\n    timespan === Yearly ? subYears(start, 1) : subMonths(start, 1),\n    timespan\n  );\n}\n\nexport function moveDateForwards(\n  { start }: DateRangeT,\n  timespan: ReportTimespanT\n) {\n  return dateRange(\n    timespan === Yearly ? addYears(start, 1) : addMonths(start, 1),\n    timespan\n  );\n}\n\nexport function kindOptions() {\n  return [\n    {\n      key: ReportKindT.ExpenseIncome,\n      value: ReportKindT.ExpenseIncome,\n      text: 'Expense & Income'\n    },\n    {\n      key: ReportKindT.ExpenseTags,\n      value: ReportKindT.ExpenseTags,\n      text: 'Expense by Tags'\n    },\n    {\n      key: ReportKindT.NetIncome,\n      value: ReportKindT.NetIncome,\n      text: 'Net Income'\n    },\n    {\n      key: ReportKindT.NetWorth,\n      value: ReportKindT.NetWorth,\n      text: 'Net Worth'\n    }\n  ];\n}\n\nexport function timespanOptions() {\n  return [\n    {\n      key: Yearly,\n      value: Yearly,\n      text: 'Yearly'\n    },\n    {\n      key: Monthly,\n      value: Monthly,\n      text: 'Monthly'\n    }\n  ];\n}\n\nexport function timespanLabel(date: Date, timespan: ReportTimespanT) {\n  return format(date, timespan === Yearly ? 'YYYY' : 'MMM, YYYY');\n}\n\nexport function transactionFilters({ date, accounts }: ReportStateT) {\n  return { date, accounts };\n}\n\ntype DataLoaderFn = (\n  report: ReportStateT,\n  transactions: TransactionStateT[],\n  exchangeRate: ExchangeRateT,\n  base: string,\n  netWorthEnd: number\n) => ReportDataT;\ntype DataLoaderMapT = { [kind in ReportKindT]: DataLoaderFn };\n\nconst DataLoaderMap: DataLoaderMapT = {\n  [ReportKindT.ExpenseIncome]: ExpenseIncomeDataLoader,\n  [ReportKindT.NetIncome]: ExpenseIncomeDataLoader,\n  [ReportKindT.ExpenseTags]: ExpenseTagsDataLoader,\n  [ReportKindT.NetWorth]: NetWorthDataLoader\n};\n\nexport const loadReportData: DataLoaderFn = (report, ...rest) => {\n  return DataLoaderMap[report.kind](report, ...rest);\n};\n\nfunction dateRange(date: Date | number, timespan: ReportTimespanT): DateRangeT {\n  const startFn = timespan === Yearly ? startOfYear : startOfMonth;\n  const endFn = timespan === Yearly ? endOfYear : endOfMonth;\n  const tomorrow = new Date(date);\n  tomorrow.setDate(tomorrow.getDate() + 1);\n\n  return {\n    start: toUtcTimestamp(startFn(tomorrow)),\n    end: toUtcTimestamp(endFn(tomorrow))\n  };\n}\n","import format from 'date-fns/format';\nimport getDaysInMonth from 'date-fns/get_days_in_month';\nimport range from 'lodash/range';\nimport { toUtcTimestamp } from 'util/timezone';\nimport Currency, { ExchangeRateT } from 'entities/Currency';\nimport { ReportStateT, ReportDataT, ReportTimespanT } from 'entities/Report';\nimport { TransactionStateT, TransationKindT } from 'entities/Transaction';\n\nconst { Expense, Income } = TransationKindT;\n\nexport default function NetWorthData(\n  report: ReportStateT,\n  transactions: TransactionStateT[],\n  exchangeRate: ExchangeRateT,\n  base: string,\n  netWorthEnd: number\n): ReportDataT {\n  const labels =\n    report.timespan === ReportTimespanT.Yearly\n      ? range(0, 12).map(month => format(new Date().setMonth(month), 'MMM'))\n      : range(1, getDaysInMonth(report.date.start) + 1).map(day =>\n          `${day}`.padStart(2, '0')\n        );\n\n  const data = [];\n  let lastPeriod: number | undefined;\n  for (const tx of transactions) {\n    if (tx.kind !== Expense && tx.kind !== Income) continue;\n\n    const period =\n      parseInt(\n        format(\n          toUtcTimestamp(tx.date),\n          report.timespan === ReportTimespanT.Yearly ? 'M' : 'D'\n        )\n      ) - 1;\n    if (period !== lastPeriod) {\n      if (lastPeriod === undefined) {\n        lastPeriod = period + 1;\n        data[lastPeriod] = netWorthEnd;\n      }\n      data[period] = data[lastPeriod];\n    }\n\n    lastPeriod = period;\n\n    data[period] -= Currency.convert(\n      tx.amount,\n      exchangeRate[tx.currency],\n      base,\n      tx.currency\n    );\n  }\n\n  if (lastPeriod && lastPeriod > 0) data[0] = data[lastPeriod];\n  if (report.date.end < Date.now() && data.length < labels.length) {\n    data[labels.length - 1] = data[data.length - 1];\n  }\n\n  return {\n    labels,\n    series: [\n      data.map(amount => Math.floor(Currency.centsToNumber(amount, base)))\n    ],\n    netWorthStart: data[0],\n    netWorthEnd\n  };\n}\n","import Currency, { ExchangeRateT } from 'entities/Currency';\nimport { TransactionStateT, TransationKindT } from 'entities/Transaction';\nimport { ReportDataT, ReportStateT } from 'entities/Report';\n\nexport default function ExpenseTagsData(\n  report: ReportStateT,\n  transactions: TransactionStateT[],\n  exchangeRate: ExchangeRateT,\n  base: string\n): ReportDataT {\n  const data = new Map();\n  const excluded = new Set(report.excludeTags);\n\n  for (const tx of transactions) {\n    if (\n      tx.kind !== TransationKindT.Expense ||\n      !tx.tags ||\n      tx.tags.find(tag => excluded.has(tag))\n    ) {\n      continue;\n    }\n    for (const tag of tx.tags) {\n      const tagAmount = data.get(tag) || 0;\n      const amount = Currency.convert(\n        Math.abs(tx.amount),\n        exchangeRate[tx.currency],\n        base,\n        tx.currency\n      );\n      data.set(tag, tagAmount + amount);\n    }\n  }\n\n  const sorted = new Map([...data.entries()].sort((a, b) => b[1] - a[1]));\n\n  return {\n    labels: [...sorted.keys()],\n    series: [\n      [...sorted.values()].map(amount =>\n        Math.floor(Currency.centsToNumber(amount, base))\n      )\n    ]\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ChartistGraph from 'react-chartist';\nimport Chartist from 'chartist';\nimport abbreviate from 'number-abbreviate';\nimport 'chartist-plugin-tooltips';\nimport 'chartist/dist/chartist.min.css';\nimport 'chartist-plugin-tooltips/dist/chartist-plugin-tooltip.css';\nimport { Statistic } from 'semantic-ui-react';\nimport Amount from '../../Amount';\nimport Currency from '../../../entities/Currency';\n\nclass ExpenseIncome extends React.Component {\n  render() {\n    const options = {\n      axisY: {\n        labelInterpolationFnc: value => abbreviate(value, 2)\n      },\n      plugins: [\n        Chartist.plugins.tooltip({\n          class: 'mono',\n          currency: this.props.currency,\n          anchorToPoint: true\n        })\n      ]\n    };\n    const { data, base } = this.props;\n    const income = data.series ? data.series[0].filter(val => val !== 0) : [];\n    const expense = data.series ? data.series[1].filter(val => val !== 0) : [];\n\n    return (\n      <React.Fragment>\n        <div className=\"mt-report-stats\">\n          <Statistic.Group size=\"mini\">\n            <Statistic>\n              <Statistic.Value>\n                <Amount\n                  code={base}\n                  value={Currency.numberToCents(\n                    income.reduce((sum, cur) => sum + cur, 0),\n                    base\n                  )}\n                  showCents={false}\n                />\n              </Statistic.Value>\n              <Statistic.Label>Total income</Statistic.Label>\n            </Statistic>\n            <Statistic>\n              <Statistic.Value>\n                <Amount\n                  code={base}\n                  value={\n                    Currency.numberToCents(\n                      expense.reduce((sum, cur) => sum + cur, 0),\n                      base\n                    ) * -1\n                  }\n                  showCents={false}\n                />\n              </Statistic.Value>\n              <Statistic.Label>Total expense</Statistic.Label>\n            </Statistic>\n          </Statistic.Group>\n        </div>\n        <ChartistGraph\n          type=\"Bar\"\n          className=\"ct-octave mt-report-expense-income\"\n          data={data}\n          options={options}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nExpenseIncome.propTypes = {\n  currency: PropTypes.string,\n  data: PropTypes.shape({\n    labels: PropTypes.array,\n    series: PropTypes.array\n  })\n};\n\nexport default ExpenseIncome;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ChartistGraph from 'react-chartist';\nimport Chartist from 'chartist';\nimport abbreviate from 'number-abbreviate';\nimport 'chartist-plugin-tooltips';\nimport 'chartist/dist/chartist.min.css';\nimport 'chartist-plugin-tooltips/dist/chartist-plugin-tooltip.css';\nimport Amount from '../../Amount';\nimport { Statistic } from 'semantic-ui-react';\nimport Currency from '../../../entities/Currency';\n\nclass ExpenseIncome extends React.Component {\n  render() {\n    const options = {\n      axisY: {\n        labelInterpolationFnc: value => abbreviate(value, 2)\n      },\n      plugins: [\n        Chartist.plugins.tooltip({\n          class: 'mono',\n          currency: this.props.currency,\n          anchorToPoint: true\n        })\n      ]\n    };\n    const { data, base } = this.props;\n    const series = data.series[0].map(\n      (income, idx) => income - data.series[1][idx]\n    );\n    const nonEmptyValues = series.filter(val => val !== 0);\n\n    return (\n      <React.Fragment>\n        {nonEmptyValues.length > 0 && (\n          <div className=\"mt-report-stats\">\n            <Statistic.Group size=\"mini\">\n              <Statistic>\n                <Statistic.Value>\n                  <Amount\n                    code={base}\n                    value={Currency.numberToCents(\n                      nonEmptyValues.reduce((sum, cur) => sum + cur, 0),\n                      base\n                    )}\n                    showCents={false}\n                  />\n                </Statistic.Value>\n                <Statistic.Label>Total net income</Statistic.Label>\n              </Statistic>\n              <Statistic>\n                <Statistic.Value>\n                  <Amount\n                    code={base}\n                    value={Currency.numberToCents(\n                      nonEmptyValues.reduce((sum, cur) => sum + cur, 0) /\n                        nonEmptyValues.length,\n                      base\n                    )}\n                    showCents={false}\n                  />\n                </Statistic.Value>\n                <Statistic.Label>Average net income</Statistic.Label>\n              </Statistic>\n            </Statistic.Group>\n          </div>\n        )}\n        <ChartistGraph\n          type=\"Bar\"\n          className=\"ct-octave mt-report-expense-income\"\n          data={{ ...data, series: [series] }}\n          options={options}\n          listener={{\n            draw: data => {\n              if (data.type === 'bar' && data.value.y < 0) {\n                data.element.attr({ style: 'stroke: #f44336' });\n              }\n            }\n          }}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nExpenseIncome.propTypes = {\n  currency: PropTypes.string,\n  data: PropTypes.shape({\n    labels: PropTypes.array,\n    series: PropTypes.array\n  })\n};\n\nexport default ExpenseIncome;\n","import Chartist from 'chartist';\nimport 'chartist-plugin-tooltips';\nimport 'chartist-plugin-tooltips/dist/chartist-plugin-tooltip.css';\nimport 'chartist/dist/chartist.min.css';\nimport abbreviate from 'number-abbreviate';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ChartistGraph from 'react-chartist';\n\nclass ExpenseTags extends React.Component {\n  render() {\n    const options = {\n      axisY: {\n        offset: 70\n      },\n      axisX: {\n        labelInterpolationFnc: value => abbreviate(value, 2)\n      },\n      reverseData: true,\n      horizontalBars: true,\n      plugins: [\n        Chartist.plugins.tooltip({\n          class: 'mono',\n          currency: this.props.currency,\n          anchorToPoint: true\n        })\n      ]\n    };\n\n    return (\n      <ChartistGraph\n        type=\"Bar\"\n        className=\"mt-report-expense-tags\"\n        style={{ height: `${this.props.data.labels.length * 3}em` }}\n        data={this.props.data}\n        options={options}\n      />\n    );\n  }\n}\n\nExpenseTags.propTypes = {\n  currency: PropTypes.string,\n  data: PropTypes.shape({\n    labels: PropTypes.array,\n    series: PropTypes.array\n  })\n};\n\nexport default ExpenseTags;\n","import Chartist from 'chartist';\nimport 'chartist-plugin-tooltips';\nimport 'chartist-plugin-tooltips/dist/chartist-plugin-tooltip.css';\nimport 'chartist/dist/chartist.min.css';\nimport abbreviate from 'number-abbreviate';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ChartistGraph from 'react-chartist';\n\nclass NetWorth extends React.Component {\n  render() {\n    const options = {\n      showArea: true,\n      low: 0,\n      axisY: {\n        labelInterpolationFnc: value => abbreviate(value, 2)\n      },\n      plugins: [\n        Chartist.plugins.tooltip({\n          class: 'mono',\n          currency: this.props.currency,\n          anchorToPoint: true\n        })\n      ]\n    };\n\n    return (\n      <ChartistGraph\n        type=\"Line\"\n        className=\"ct-octave mt-report-net-worth\"\n        data={this.props.data}\n        options={options}\n      />\n    );\n  }\n}\n\nNetWorth.propTypes = {\n  currency: PropTypes.string,\n  data: PropTypes.shape({\n    labels: PropTypes.array,\n    series: PropTypes.array\n  })\n};\n\nexport default NetWorth;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Loader } from 'semantic-ui-react';\nimport { ReportKindT } from 'entities/Report';\nimport ExpenseIncome from './Kind/ExpenseIncome';\nimport NetIncome from './Kind/NetIncome';\nimport ExpenseTags from './Kind/ExpenseTags';\nimport NetWorth from './Kind/NetWorth';\nimport './index.css';\n\nclass Report extends React.Component {\n  render() {\n    return (\n      <div className=\"ct-octave mt-report\">\n        <Loader active={this.props.isLoading} />\n\n        {!this.props.isLoading && this.renderReportByKind()}\n      </div>\n    );\n  }\n\n  renderReportByKind() {\n    switch (this.props.kind) {\n      case ReportKindT.ExpenseIncome:\n        return <ExpenseIncome {...this.props} />;\n      case ReportKindT.NetIncome:\n        return <NetIncome {...this.props} />;\n      case ReportKindT.NetWorth:\n        return <NetWorth {...this.props} />;\n      case ReportKindT.ExpenseTags:\n        return <ExpenseTags {...this.props} />;\n      default:\n        return 'Not available';\n    }\n  }\n}\n\nReport.propTypes = {\n  isLoading: PropTypes.bool,\n  currency: PropTypes.string,\n  kind: PropTypes.string,\n  data: PropTypes.shape({\n    labels: PropTypes.array,\n    series: PropTypes.array\n  })\n};\n\nexport default Report;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, Button } from 'semantic-ui-react';\n\nclass Navigation extends React.Component {\n  handleKindChange = (_, { value }) => {\n    this.props.changeReportKind(value);\n  };\n\n  handleTimespanChange = (_, { value }) => {\n    this.props.changeReportTimespan(value);\n  };\n\n  render() {\n    return (\n      <div className=\"container-header\">\n        <Button.Group basic>\n          <Dropdown\n            button\n            value={this.props.kind}\n            options={this.props.kindOptions}\n            onChange={this.handleKindChange}\n          />\n          <Button\n            icon=\"chevron left\"\n            onClick={this.props.moveReportDateBackwards}\n          />\n          <Dropdown\n            basic\n            button\n            icon={false}\n            text={this.props.timespanLabel}\n            value={this.props.timespan}\n            options={this.props.timespanOptions}\n            onChange={this.handleTimespanChange}\n          />\n          <Button\n            icon=\"chevron right\"\n            onClick={this.props.moveReportDateForwards}\n          />\n        </Button.Group>\n      </div>\n    );\n  }\n}\n\nNavigation.propTypes = {\n  kind: PropTypes.string,\n  kindOptions: PropTypes.array,\n  timespan: PropTypes.string,\n  timespanLabel: PropTypes.string,\n  timespanOptions: PropTypes.array,\n  changeReportKind: PropTypes.func,\n  changeReportTimespan: PropTypes.func,\n  moveReportDateBackwards: PropTypes.func,\n  moveReportDateForwards: PropTypes.func\n};\n\nexport default Navigation;\n","import { timespanLabel } from 'entities/Report';\n\nexport const getReport = state => state.ui.report;\nexport const getTimespanLabel = state => {\n  const startDate = new Date(state.ui.report.date.start);\n  startDate.setDate(startDate.getDate() + 1);\n  return timespanLabel(startDate, state.ui.report.timespan);\n};\n","import { connect } from 'react-redux';\nimport Navigation from 'components/Report/Navigation';\nimport {\n  changeReportKind,\n  changeReportTimespan,\n  moveReportDateBackwards,\n  moveReportDateForwards\n} from 'actions/ui/report';\nimport { getTimespanLabel } from 'selectors/ui/report';\nimport { kindOptions, timespanOptions } from 'entities/Report';\n\nconst mapStateToProps = state => ({\n  kind: state.ui.report.kind,\n  kindOptions: kindOptions(),\n  timespan: state.ui.report.timespan,\n  timespanOptions: timespanOptions(),\n  timespanLabel: getTimespanLabel(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    changeReportKind,\n    changeReportTimespan,\n    moveReportDateBackwards,\n    moveReportDateForwards\n  }\n)(Navigation);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown } from 'semantic-ui-react';\nimport { DropdownOption } from '../types';\n\nclass Filter extends React.Component {\n  handleAccountsChange = (_, { value }) => {\n    this.props.changeReportAccounts(value);\n  };\n\n  handleTagsChange = (_, { value }) => {\n    this.props.changeReportExcludedTags(value);\n  };\n\n  render() {\n    return (\n      <div className=\"container-footer\">\n        <Dropdown\n          multiple\n          selection\n          fluid\n          placeholder=\"Especificar contas\"\n          value={this.props.accounts}\n          options={this.props.accountOptions}\n          onChange={this.handleAccountsChange}\n        />\n        <Dropdown\n          multiple\n          selection\n          fluid\n          search\n          placeholder=\"Excluir tags\"\n          value={this.props.excludeTags}\n          options={this.props.tagsOptions}\n          onChange={this.handleTagsChange}\n        />\n      </div>\n    );\n  }\n}\n\nFilter.propTypes = {\n  accounts: PropTypes.array,\n  accountOptions: PropTypes.array,\n  changeReportAccounts: PropTypes.func,\n  excludeTags: PropTypes.arrayOf(PropTypes.string),\n  tagsOptions: PropTypes.arrayOf(DropdownOption),\n  changeReportExcludedTags: PropTypes.func\n};\n\nexport default Filter;\n","import { connect } from 'react-redux';\nimport Filter from '../../components/Report/Filter';\nimport {\n  changeReportAccounts,\n  changeReportExcludedTags\n} from '../../actions/ui/report';\nimport { getAccountsAsOptions } from '../../selectors/entities/accounts';\nimport { getAllTagsOptions } from '../../selectors/entities/tags';\n\nconst mapStateToProps = state => ({\n  accounts: state.ui.report.accounts,\n  accountOptions: getAccountsAsOptions(state),\n  excludeTags: state.ui.report.excludeTags,\n  tagsOptions: getAllTagsOptions(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  { changeReportAccounts, changeReportExcludedTags }\n)(Filter);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { loadReport } from 'actions/ui/report';\nimport { loadAccounts } from 'actions/entities/accounts';\nimport { getBaseCurrency, getBaseCurrencySymbol } from 'selectors/settings';\nimport Report from 'components/Report';\nimport Navigation from './Navigation';\nimport Filter from './Filter';\n\nclass Reports extends React.Component {\n  componentWillMount() {\n    this.props.loadAccounts();\n    this.props.loadReport();\n  }\n\n  render() {\n    return (\n      <div className=\"container-full-page flat\">\n        <Navigation />\n        <Report {...this.props} />\n        <Filter />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  isLoading: state.ui.report.isLoading,\n  currency: getBaseCurrencySymbol(state),\n  base: getBaseCurrency(state),\n  kind: state.ui.report.kind,\n  data: state.ui.report.data\n});\n\nexport default connect(\n  mapStateToProps,\n  { loadAccounts, loadReport }\n)(Reports);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, Form } from 'semantic-ui-react';\nimport Currency from '../../../entities/Currency';\n\nclass Input extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.options = Currency.options();\n    this.updateSecondaryOptions(props.base);\n  }\n\n  componentWillReceiveProps(props) {\n    this.updateSecondaryOptions(props.base);\n  }\n\n  updateSecondaryOptions(base) {\n    this.secondaryOptions = this.options.filter(option => option.key !== base);\n  }\n\n  handleBaseChange = (event, { value }) => {\n    this.props.changeSettingsCurrency({\n      base: value,\n      secondary: this.props.secondary\n    });\n  };\n\n  handleSecondaryChange = (event, { value }) => {\n    this.props.changeSettingsCurrency({\n      base: this.props.base,\n      secondary: value\n    });\n  };\n\n  render() {\n    return (\n      <Form>\n        <Form.Group widths=\"equal\">\n          <Form.Field>\n            <label>Base Currency</label>\n            <Dropdown\n              search\n              selection\n              onChange={this.handleBaseChange}\n              options={this.options}\n              value={this.props.base}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Additional Currencies (optional)</label>\n            <Dropdown\n              placeholder=\"Selecione moedas adicionais\"\n              search\n              selection\n              multiple\n              renderLabel={item => item.key}\n              closeOnChange\n              onChange={this.handleSecondaryChange}\n              options={this.secondaryOptions}\n              value={this.props.secondary}\n            />\n          </Form.Field>\n        </Form.Group>\n      </Form>\n    );\n  }\n}\n\nInput.propTypes = {\n  base: PropTypes.string,\n  secondary: PropTypes.arrayOf(PropTypes.string),\n  changeSettingsCurrency: PropTypes.func\n};\n\nexport default Input;\n","import { connect } from 'react-redux';\nimport { changeSettingsCurrency } from '../../../actions/settings';\nimport {\n  getBaseCurrency,\n  getSecondaryCurrency\n} from '../../../selectors/settings';\nimport Input from '../../../components/Settings/Currency/Input';\n\nconst mapStateToProps = state => ({\n  base: getBaseCurrency(state),\n  secondary: getSecondaryCurrency(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  { changeSettingsCurrency }\n)(Input);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'semantic-ui-react';\n\nconst ExchangeRateGrid = props => {\n  const currencies = [props.base, ...props.secondary];\n  return (\n    <Table celled unstackable definition>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell />\n          {currencies.map(code => (\n            <Table.HeaderCell key={code} textAlign=\"center\" content={code} />\n          ))}\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        {currencies.map(code => (\n          <Table.Row key={code}>\n            <Table.Cell textAlign=\"center\" content={code} />\n            {currencies.map(other => {\n              const rate = props.exchangeRate[other] / props.exchangeRate[code];\n              return (\n                <Table.Cell\n                  key={`${code}-${other}`}\n                  disabled={code === other}\n                  textAlign=\"center\"\n                  content={Number(rate).toLocaleString(undefined, {\n                    minimumFractionDigits: 4,\n                    maximumFractionDigits: rate < 0.001 ? 6 : 4\n                  })}\n                />\n              );\n            })}\n          </Table.Row>\n        ))}\n      </Table.Body>\n    </Table>\n  );\n};\n\nExchangeRateGrid.propTypes = {\n  base: PropTypes.string,\n  secondary: PropTypes.arrayOf(PropTypes.string),\n  exchangeRate: PropTypes.objectOf(PropTypes.number)\n};\n\nexport default ExchangeRateGrid;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'semantic-ui-react';\n\nclass ExchangeRateTable extends React.Component {\n  render() {\n    const { base, secondary, exchangeRate } = this.props;\n    return (\n      <Table basic>\n        <Table.Body>\n          {secondary.map(code => (\n            <Table.Row key={code}>\n              <Table.Cell>\n                1 {code} = {Number(1 / exchangeRate[code]).toFixed(6)} {base}\n              </Table.Cell>\n              <Table.Cell>\n                1 {base} = {exchangeRate[code]} {code}\n              </Table.Cell>\n            </Table.Row>\n          ))}\n        </Table.Body>\n      </Table>\n    );\n  }\n}\n\nExchangeRateTable.propTypes = {\n  base: PropTypes.string,\n  secondary: PropTypes.arrayOf(PropTypes.string),\n  exchangeRate: PropTypes.objectOf(PropTypes.number)\n};\n\nexport default ExchangeRateTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Segment, Dimmer, Loader, Button } from 'semantic-ui-react';\nimport ExchangeRateGrid from './ExchangeRateGrid';\nimport ExchangeRateTable from './ExchangeRateTable';\nimport './index.css';\n\nconst ExchangeRate = props =>\n  props.secondary.length > 0 && (\n    <Segment basic className=\"exchange-rate-table\">\n      <Dimmer inverted active={props.isLoading}>\n        <Loader />\n      </Dimmer>\n      {props.isMobile ? (\n        <ExchangeRateTable {...props} />\n      ) : (\n        <ExchangeRateGrid {...props} />\n      )}\n      <Button\n        basic\n        content=\"Update exchange rate\"\n        icon=\"refresh\"\n        onClick={props.updateExchangeRate}\n      />\n    </Segment>\n  );\n\nExchangeRate.propTypes = {\n  base: PropTypes.string,\n  secondary: PropTypes.arrayOf(PropTypes.string),\n  isLoading: PropTypes.bool,\n  isMobile: PropTypes.bool,\n  exchangeRate: PropTypes.objectOf(PropTypes.number),\n  updateExchangeRate: PropTypes.func\n};\n\nexport default ExchangeRate;\n","import { connect } from 'react-redux';\nimport { updateExchangeRate } from '../../../actions/settings';\nimport {\n  getBaseCurrency,\n  getSecondaryCurrency,\n  getExchangeRate\n} from '../../../selectors/settings';\nimport ExchangeRate from '../../../components/Settings/Currency/ExchangeRate';\n\nconst mapStateToProps = state => ({\n  base: getBaseCurrency(state),\n  secondary: getSecondaryCurrency(state),\n  exchangeRate: getExchangeRate(state),\n  isLoading: state.ui.settings.isExchangeLoading,\n  isMobile: state.ui.isMobile\n});\n\nexport default connect(\n  mapStateToProps,\n  { updateExchangeRate }\n)(ExchangeRate);\n","import PouchDB from 'pouchdb';\n\nconst instancePool = {};\n\nfunction instance(name) {\n  if (instancePool[name] === undefined) {\n    instancePool[name] = new PouchDB(name, { auto_compaction: true });\n  }\n\n  return instancePool[name];\n}\n\nfunction remoteInstance(name) {\n  const instanceName = `remote_${name}`;\n  if (instancePool[instanceName] === undefined) {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'));\n    if (userInfo && userInfo.couchDB && userInfo.couchDB[name]) {\n      const { username, password } = userInfo.couchDB;\n      instancePool[instanceName] = new PouchDB(userInfo.couchDB[name], {\n        skipSetup: true,\n        auth: username && password ? { username, password } : undefined\n      });\n    }\n  }\n\n  return instancePool[instanceName];\n}\n\nfunction destroyInstance(name) {\n  if (instancePool[name] !== undefined) {\n    const instance = instancePool[name];\n    delete instancePool[name];\n    delete instancePool[`remote_${name}`];\n\n    return instance.destroy();\n  }\n}\n\nexport const settingsDB = () => instance('settings');\nexport const accountsDB = () => instance('accounts');\nexport const transactionsDB = () => instance('transactions');\nexport const tagsDB = () => instance('tags');\nexport const remoteSettingsDB = () => remoteInstance('settings');\nexport const remoteAccountsDB = () => remoteInstance('accounts');\nexport const remoteTransactionsDB = () => remoteInstance('transactions');\nexport const remoteTagsDB = () => remoteInstance('tags');\nexport const destroySettingsDB = () => destroyInstance('settings');\nexport const destroyAccountsDB = () => destroyInstance('accounts');\nexport const destroyTransactionsDB = () => destroyInstance('transactions');\nexport const destroyTagsDB = () => destroyInstance('tags');\n","import {\n  transactionsDB,\n  remoteTransactionsDB,\n  destroyTransactionsDB\n} from './pouchdb';\nimport {\n  recentListLimit,\n  storageToState,\n  stateToStorage\n} from '../../entities/Transaction';\nimport intersection from 'lodash/intersection';\n\nexport default {\n  sync,\n  load,\n  getAll,\n  loadRecent,\n  loadFiltered,\n  save,\n  remove,\n  destroy\n};\n\nasync function sync(readOnly = true) {\n  if (!remoteTransactionsDB()) return;\n  const options = { batch_size: 500 };\n\n  await transactionsDB()\n    .replicate.from(remoteTransactionsDB(), options)\n    .on('change', async update => {\n      await Promise.all(update.docs.map(processIncomingTransaction));\n    });\n\n  if (!readOnly) {\n    await transactionsDB().replicate.to(remoteTransactionsDB(), options);\n  }\n}\n\nasync function processIncomingTransaction(tx) {\n  if (tx._id.startsWith('T') && !tx._id.includes('-') && !tx._deleted) {\n    await save({\n      ...tx,\n      id: `T${tx.date}-${tx._id.substr(1)}`,\n      date: undefined,\n      tags: tx.tags && tx.tags.length ? tx.tags : undefined,\n      note: tx.note && tx.note.length ? tx.note : undefined\n    });\n    await transactionsDB().remove(tx);\n  }\n\n  return tx;\n}\n\nfunction load(id) {\n  return transactionsDB()\n    .get(id)\n    .then(storageToState)\n    .catch(error => {\n      if (error.status !== 404) throw error;\n    });\n}\n\nfunction loadRecent(limit = recentListLimit) {\n  return transactionsDB()\n    .allDocs({\n      include_docs: true,\n      descending: true,\n      startkey: 'T\\uffff',\n      endkey: 'T',\n      limit\n    })\n    .then(response => response.rows.map(row => row.doc))\n    .then(docs => docs.map(storageToState));\n}\n\nasync function getAll() {\n  return transactionsDB()\n    .allDocs({\n      include_docs: true,\n      descending: true,\n      startkey: 'T\\uffff',\n      endkey: 'T'\n    })\n    .then(response => response.rows.map(row => row.doc))\n    .then(docs => docs.map(storageToState));\n}\n\nfunction loadFiltered(filters = {}) {\n  return transactionsDB()\n    .allDocs({\n      include_docs: true,\n      descending: true,\n      startkey: filters.date ? `T${filters.date.end}-\\uffff` : 'T\\uffff',\n      endkey: filters.date ? `T${filters.date.start}-` : 'T'\n    })\n    .then(response => response.rows.map(row => row.doc))\n    .then(docs => filterByAccount(docs, filters.accounts))\n    .then(docs => filterByTags(docs, filters.tags))\n    .then(docs => docs.map(doc => storageToState(doc)));\n}\n\n/**\n * Filter transactions by account.\n *\n * @param {array} docs\n * @param {Set} accounts\n * @return {array}\n */\nfunction filterByAccount(docs, accounts) {\n  if (Array.isArray(accounts)) accounts = new Set(accounts);\n  if (!accounts || !accounts.size) return docs;\n\n  return docs.filter(\n    tx => accounts.has(tx.accountId) || accounts.has(tx.linkedAccountId)\n  );\n}\n\n/**\n * Filter transactions by tag.\n *\n * @param {array} docs\n * @param {array} tags\n * @return {array}\n */\nfunction filterByTags(docs, tags) {\n  return tags && tags.length > 0\n    ? docs.filter(tx => intersection(tx.tags, tags).length > 0)\n    : docs;\n}\n\nfunction save(transaction) {\n  return transactionsDB()\n    .get(transaction.id)\n    .then(doc =>\n      transactionsDB().put({\n        ...doc,\n        ...stateToStorage(transaction)\n      })\n    )\n    .catch(err => {\n      if (err.status !== 404) throw err;\n\n      return transactionsDB().put({\n        _id: transaction.id,\n        ...stateToStorage(transaction)\n      });\n    });\n}\n\nfunction remove(id) {\n  if (!id) return false;\n\n  return transactionsDB()\n    .get(id)\n    .then(doc =>\n      transactionsDB()\n        .put({ ...doc, _deleted: true })\n        .then(() => doc)\n    )\n    .catch(err => {\n      if (err.status !== 404) throw err;\n      return false;\n    });\n}\n\nfunction destroy() {\n  return destroyTransactionsDB();\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Message } from 'semantic-ui-react';\nimport './index.css';\nimport {save} from 'save-file';\nimport TransactionsStorage from '../../util/storage/transactions';\n\nclass DataExport extends React.Component {\n\n  handleSaveFile = async () => {\n    let transactions = await TransactionsStorage.getAll();\n    save(JSON.stringify(transactions), JSON.stringify(new Date(Date.now())) + '_export.json');\n  }\n\n  render() {\n    return (\n      <div className=\"mt-dataExport\">\n        <p>Exporte transaes para um arquivo JSON.</p>\n        {this.props.error && (\n          <Message\n            error\n            icon=\"warning circle\"\n            header=\"Failed to Export\"\n            content={this.props.error}\n          />\n        )}\n        {!this.props.isFileSelected && (\n          <React.Fragment>\n            <Button\n              content=\"Export JSON File\"\n              icon=\"file text\"\n              onClick={this.handleSaveFile}\n            />            \n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nDataExport.propTypes = {\n  error: PropTypes.string\n};\n\nexport default DataExport;\n","import { createActions } from 'redux-actions';\n\nexport const {\n  saveExportFile\n} = createActions(\n  'SAVE_EXPORT_FILE'\n);\n","import { connect } from 'react-redux';\nimport DataExport from '../../components/DataExport';\nimport {\n  saveExportFile\n} from '../../actions/ui/dataExport';\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    saveExportFile\n  }\n)(DataExport);\n","const UNITS = ['B', 'kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport default num => {\n  if (!Number.isFinite(num)) {\n    throw new TypeError(`Expected a finite number, got ${typeof num}: ${num}`);\n  }\n\n  const neg = num < 0;\n\n  if (neg) {\n    num = -num;\n  }\n\n  if (num < 1) {\n    return (neg ? '-' : '') + num + ' B';\n  }\n\n  const exponent = Math.min(Math.floor(Math.log10(num) / 3), UNITS.length - 1);\n  const numStr = Number((num / Math.pow(1000, exponent)).toPrecision(3));\n  const unit = UNITS[exponent];\n\n  return (neg ? '-' : '') + numStr + ' ' + unit;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport prettyBytes from '../../util/PrettyBytes';\nimport { Button, Progress, Message } from 'semantic-ui-react';\nimport './index.css';\n\nclass DataImport extends React.Component {\n  handleFileChange = event => this.props.openImportFile(event.target.files[0]);\n  handleOpenFile = () => this.fileInput.click();\n\n  render() {\n    return (\n      <div className=\"mt-dataImport\">\n        <p>Importar transaes de um arquivo CSV.</p>\n        {this.props.error && (\n          <Message\n            error\n            icon=\"warning circle\"\n            header=\"Failed to import\"\n            content={this.props.error}\n          />\n        )}\n        {!this.props.isFileSelected && (\n          <React.Fragment>\n            <Button\n              content=\"Open File\"\n              icon=\"file text\"\n              onClick={this.handleOpenFile}\n            />\n            <input\n              type=\"file\"\n              accept=\"text/csv\"\n              ref={input => {\n                this.fileInput = input;\n              }}\n              onChange={this.handleFileChange}\n            />\n          </React.Fragment>\n        )}\n        {this.props.isFileSelected && (\n          <React.Fragment>\n            <p>\n              Selected file:{' '}\n              <strong>\n                {this.props.filename} ({prettyBytes(this.props.filesize)})\n              </strong>\n            </p>\n            {!this.props.isProcessing && (\n              <Button.Group>\n                <Button onClick={this.props.discardImportFile}>\n                  Discard File\n                </Button>\n                <Button.Or />\n                <Button onClick={this.props.startDataImport} positive>\n                  Start Import\n                </Button>\n              </Button.Group>\n            )}\n            {this.props.isProcessing && (\n              <Progress\n                active\n                indicating\n                autoSuccess\n                total={this.props.linesToProcess}\n                value={this.props.linesProcessed}\n              />\n            )}\n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nDataImport.propTypes = {\n  isFileSelected: PropTypes.bool,\n  isProcessing: PropTypes.bool,\n  filename: PropTypes.string,\n  filesize: PropTypes.number,\n  linesToProcess: PropTypes.number,\n  linesProcessed: PropTypes.number,\n  error: PropTypes.string,\n  openImportFile: PropTypes.func,\n  discardImportFile: PropTypes.func,\n  startDataImport: PropTypes.func\n};\n\nexport default DataImport;\n","import { createActions } from 'redux-actions';\n\nexport const {\n  openImportFile,\n  discardImportFile,\n  startDataImport,\n  importFileReadSuccess,\n  importLineProcessed,\n  importFailure\n} = createActions(\n  'OPEN_IMPORT_FILE',\n  'DISCARD_IMPORT_FILE',\n  'START_DATA_IMPORT',\n  'IMPORT_FILE_READ_SUCCESS',\n  'IMPORT_LINE_PROCESSED',\n  'IMPORT_FAILURE'\n);\n","export const getImportFile = state => state.ui.dataImport.file;\n","import { connect } from 'react-redux';\nimport DataImport from '../../components/DataImport';\nimport {\n  openImportFile,\n  discardImportFile,\n  startDataImport\n} from '../../actions/ui/dataImport';\nimport { getImportFile } from '../../selectors/ui/dataImport';\n\nconst mapStateToProps = state => {\n  const file = getImportFile(state);\n  return {\n    isFileSelected: state.ui.dataImport.isFileSelected,\n    isProcessing: state.ui.dataImport.isProcessing,\n    linesToProcess: state.ui.dataImport.linesToProcess,\n    linesProcessed: state.ui.dataImport.linesProcessed,\n    filename: file && file.name,\n    filesize: file && file.size,\n    error: state.ui.dataImport.error\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    openImportFile,\n    discardImportFile,\n    startDataImport\n  }\n)(DataImport);\n","import { createAction } from 'typesafe-actions';\n\nexport const signOut = createAction('user/ui/sign_out/SIGN_OUT_REQUEST');\nexport const signOutSuccess = createAction('user/ui/sign_out/SIGN_OUT_SUCCESS');\nexport const signOutFailure = createAction(\n  'user/ui/sign_out/SIGN_OUT_FAILURE',\n  resolve => (error: Error) => resolve(error)\n);\n","import { RootStateT } from 'reducers';\n\nexport const isDemoUser = ({ user }: RootStateT) => user.isDemoUser;\nexport const isSignedIn = ({ user }: RootStateT) => user.isSignedIn;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Popup, Button } from 'semantic-ui-react';\nimport { signOut } from 'features/user/state/ui/SignOut.action';\nimport { isSignedIn, isDemoUser } from 'features/user/state/User.selector';\n\nclass User extends React.Component {\n  render() {\n    if (this.props.isSignOutComplete) return <Redirect to=\"/\" />;\n\n    return (\n      <Popup\n        on=\"click\"\n        trigger={\n          <Button\n            content={this.signOutButtonLabel()}\n            icon={this.signOutButtonIcon()}\n            labelPosition=\"right\"\n          />\n        }\n        header=\"Local data will de deleted!\"\n        content={\n          <Button\n            content=\"Confirm\"\n            negative\n            style={{ marginTop: '1em' }}\n            floated=\"right\"\n            loading={this.props.isSignOutRunning}\n            disabled={this.props.isSignOutRunning}\n            onClick={this.props.signOut}\n          />\n        }\n      />\n    );\n  }\n\n  signOutButtonLabel() {\n    if (this.props.isDemo) return 'Reset demo';\n\n    return this.props.isAuthenticated ? 'Sign out' : 'Delete data';\n  }\n\n  signOutButtonIcon() {\n    if (this.props.isDemo) return 'refresh';\n\n    return this.props.isAuthenticated ? 'sign out' : 'trash';\n  }\n}\n\nUser.propTypes = {\n  isDemo: PropTypes.bool,\n  isAuthenticated: PropTypes.bool,\n  isSignOutRunning: PropTypes.bool,\n  isSignOutComplete: PropTypes.bool,\n  signOut: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  isDemo: isDemoUser(state),\n  isAuthenticated: isSignedIn(state),\n  isSignOutRunning: state.user.ui.signOut.signOutState === 'REQUEST',\n  isSignOutComplete: state.user.ui.signOut.signOutState === 'COMPLETE'\n});\n\nexport default connect(\n  mapStateToProps,\n  { signOut }\n)(User);\n","import Dashboard from '../containers/Dashboard';\nimport Transactions from '../containers/Transactions';\nimport Accounts from '../containers/Accounts';\nimport Reports from '../containers/Reports';\nimport Settings from '../containers/Settings';\nimport WorkInProgress from '../containers/WorkInProgress';\n\nexport default [\n  {\n    path: '/',\n    exact: true,\n    label: 'Dashboard',\n    icon: 'newspaper',\n    component: Dashboard\n  },\n  {\n    path: '/transactions/:accountId?',\n    link: '/transactions',\n    exact: false,\n    label: 'Transactions',\n    icon: 'exchange',\n    component: Transactions\n  },\n  {\n    path: '/accounts',\n    exact: false,\n    label: 'Accounts',\n    icon: 'credit card',\n    component: Accounts\n  },\n  {\n    path: '/reports',\n    exact: false,\n    label: 'Reports',\n    icon: 'line chart',\n    component: Reports\n  },\n  {\n    path: '/budget',\n    exact: false,\n    label: 'Budget',\n    icon: 'shopping basket',\n    component: WorkInProgress\n  },\n  {\n    path: '/settings',\n    exact: true,\n    label: 'Settings',\n    icon: 'options',\n    component: Settings\n  }\n];\n","import React from 'react';\nimport { Message } from 'semantic-ui-react';\n\nexport default () => (\n  <Message\n    size=\"large\"\n    icon=\"hourglass half\"\n    header=\"Work in Progress\"\n    content=\"This page is not ready yet, check back later \"\n  />\n);\n","import React from 'react';\nimport CurrencyInput from './Currency/Input';\nimport CurrenchExchangeRate from './Currency/ExchangeRate';\nimport DataExport from './DataExport';\nimport DataImport from './DataImport';\nimport User from './User';\nimport CollapsibleSection from '../../components/CollapsibleSection';\n\nconst Settings = () => (\n  <div className=\"container-full-page mt-settings\">\n    <CollapsibleSection name=\"settings_currency\" label=\"Currency\">\n      <CurrencyInput />\n      <CurrenchExchangeRate />\n    </CollapsibleSection>\n    <CollapsibleSection name=\"settings_import\" label=\"Data Import\">\n      <DataImport />      \n    </CollapsibleSection>\n    <CollapsibleSection name=\"settings_export\" label=\"Data Export\">\n      <DataExport />\n      </CollapsibleSection>\n    <CollapsibleSection name=\"settings_user\" label=\"User\">\n      <User />\n    </CollapsibleSection>\n  </div>\n);\n\nexport default Settings;\n","import { createAction } from 'typesafe-actions';\n\nexport const changeEmail = createAction(\n  'user/ui/sign_in/CHANGE_EMAIL',\n  resolve => (email: string) => resolve(email)\n);\nexport const changeCode = createAction(\n  'user/ui/sign_in/CHANGE_CODE',\n  resolve => (code: string) => resolve(code)\n);\nexport const sendCode = createAction('user/ui/sign_in/SEND_CODE');\nexport const sendCodeSuccess = createAction(\n  'user/ui/sign_in/SEND_CODE_SUCCESS'\n);\nexport const sendCodeFailure = createAction(\n  'user/ui/sign_in/SEND_CODE_FAILURE',\n  resolve => (error: Error) => resolve(error)\n);\nexport const verifyCode = createAction('user/ui/sign_in/VERIFY_CODE');\nexport const verifyCodeSuccess = createAction(\n  'user/ui/sign_in/VERIFY_CODE_SUCCESS'\n);\nexport const verifyCodeFailure = createAction(\n  'user/ui/sign_in/VERIFY_CODE_FAILURE',\n  resolve => (error: Error) => resolve(error)\n);\nexport const finishAuth = createAction('user/ui/sign_in/FINISH_AUTH');\n","import React from 'react';\nimport { Redirect, Link, RouteProps } from 'react-router-dom';\nimport {\n  Header,\n  Divider,\n  Form,\n  Button,\n  Input,\n  Message,\n  Loader\n} from 'semantic-ui-react';\nimport { AsyncOperationStateT } from 'typings/async';\nimport {\n  changeEmail,\n  changeCode,\n  sendCode,\n  verifyCode,\n  finishAuth\n} from 'features/user/state/ui/SignIn.action';\nimport './index.css';\n\nexport interface SignInPropsT {\n  isSignedIn: boolean;\n  sendCodeStatus?: AsyncOperationStateT;\n  verifyCodeStatus?: AsyncOperationStateT;\n  email: string;\n  code: string;\n  error?: string;\n  changeEmail: typeof changeEmail;\n  changeCode: typeof changeCode;\n  sendCode: typeof sendCode;\n  verifyCode: typeof verifyCode;\n  finishAuth: typeof finishAuth;\n}\n\nclass Auth extends React.Component<SignInPropsT & RouteProps, {}> {\n  componentDidMount() {\n    if (this.props.location && this.props.location.hash) {\n      this.props.finishAuth();\n    }\n  }\n\n  render() {\n    if (this.props.isSignedIn) return <Redirect to=\"/\" />;\n    if (this.props.location && this.props.location.hash) {\n      return (\n        <Loader\n          active\n          content=\"Synchronizing data, this might take a moment...\"\n        />\n      );\n    }\n\n    return (\n      <div className=\"container-raised-desktop\">\n        <Header as=\"h2\" icon=\"id card outline\" content=\"Sign In\" />\n        <Divider />\n        {this.props.error && (\n          <Message error>\n            <Message.Header>Error</Message.Header>\n            <Message.Content>{this.props.error}</Message.Content>\n          </Message>\n        )}\n        {this.props.sendCodeStatus !== 'SUCCESS'\n          ? this.renderSendCodeForm()\n          : this.renderVerifyCodeForm()}\n        <Divider />\n        <p>\n          <Link to=\"/\">Back</Link>\n        </p>\n      </div>\n    );\n  }\n\n  renderSendCodeForm = () => (\n    <React.Fragment>\n      <p>\n        Please provide your email address and we will send you a verification\n        code for sign in.\n      </p>\n      <Form onSubmit={this.props.sendCode}>\n        <div className=\"auth--input-field\">\n          <Input\n            fluid\n            required\n            placeholder=\"Email Address\"\n            name=\"email\"\n            type=\"email\"\n            icon=\"mail\"\n            iconPosition=\"left\"\n            value={this.props.email}\n            onChange={(_, { value }) => this.props.changeEmail(value)}\n            disabled={this.props.sendCodeStatus === 'REQUEST'}\n            action={{\n              primary: true,\n              content: 'Send Code',\n              loading: this.props.sendCodeStatus === 'REQUEST'\n            }}\n          />\n        </div>\n      </Form>\n      <Header as=\"h3\">Why do I need to sign in?</Header>\n      <p style={{ marginTop: '1em' }}>\n        After you sign in for the first time we will create a new database for\n        you hosted in the cloud. This database will be used to synchronize your\n        data among different devices as well as for back up.\n      </p>\n    </React.Fragment>\n  );\n\n  renderVerifyCodeForm = () => (\n    <Form onSubmit={this.props.verifyCode}>\n      <p>An email with the code has been sent to {this.props.email}</p>\n      <div className=\"auth--input-field\">\n        <Input\n          fluid\n          required\n          placeholder=\"Your Code\"\n          type=\"number\"\n          icon=\"lock\"\n          iconPosition=\"left\"\n          value={this.props.code}\n          onChange={(_, { value }) => this.props.changeCode(value)}\n          disabled={this.props.verifyCodeStatus === 'REQUEST'}\n          action={\n            <Button\n              primary\n              content=\"Sign In\"\n              loading={this.props.verifyCodeStatus === 'REQUEST'}\n            />\n          }\n        />\n        <Button basic as=\"a\">\n          Didn't get the code?\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\nexport default Auth;\n","import { connect } from 'react-redux';\nimport SignIn from 'features/user/components/SignIn';\nimport {\n  changeEmail,\n  changeCode,\n  sendCode,\n  verifyCode,\n  finishAuth\n} from 'features/user/state/ui/SignIn.action';\nimport { RootStateT } from 'reducers';\n\nconst mapStateToProps = ({ user }: RootStateT) => ({\n  ...user.ui.signIn,\n  isSignedIn: user.isSignedIn\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    changeEmail,\n    changeCode,\n    sendCode,\n    verifyCode,\n    finishAuth\n  }\n)(SignIn);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Button, Divider, Header } from 'semantic-ui-react';\nimport CurrencyInput from '../Settings/Currency/Input';\nimport CurrencyExchangeRate from '../Settings/Currency/ExchangeRate';\nimport AccountForm from '../Accounts/Form';\nimport AccountList from '../Accounts/List';\nimport { completeSetup } from '../../actions/settings';\nimport { loadAccounts } from '../../actions/entities/accounts';\nimport { getAccountsList } from '../../selectors/entities/accounts';\nimport { isSignedIn } from 'features/user/state/User.selector';\n\nclass InitialSetup extends React.Component {\n  componentDidMount() {\n    this.props.loadAccounts();\n  }\n\n  render() {\n    return (\n      <div className=\"container-raised-desktop\">\n        <Header as=\"h2\" icon=\"settings\" content=\"Money Tracker Setup\" />\n        <Divider />\n        {!this.props.isAuthenticated && (\n          <p>\n            <Link to=\"/auth\">Sign in</Link> if you want to sync your data with\n            the cloud. You may also use the tracker without signing in. Your\n            data will be stored only on current device in this case. You can\n            sign in and sync your data any time later.\n          </p>\n        )}\n        <Header as=\"h2\">Currencies</Header>\n        <p>\n          Select your base currency  the currency which will be used by\n          default.\n          <br />\n          You can also select any number of additional currencies, if you use\n          them.\n        </p>\n        <CurrencyInput />\n        <CurrencyExchangeRate />\n        <Header as=\"h2\">Accounts</Header>\n        <p>\n          Create accounts that you would like to keep track of.\n          <br />\n          It could be cash in your wallet, bank accounts, credit cards or even a\n          loan to your friend.\n        </p>\n        <AccountForm />\n        {this.props.accounts.length > 0 && (\n          <div style={{ margin: '1em' }}>\n            <AccountList />\n            <div className=\"form-submit\">\n              <Button\n                primary\n                content=\"Finish\"\n                onClick={this.props.completeSetup}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nInitialSetup.propTypes = {\n  isAuthenticated: PropTypes.bool,\n  accounts: PropTypes.arrayOf(PropTypes.object),\n  loadAccounts: PropTypes.func,\n  completeSetup: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: isSignedIn(state),\n  accounts: getAccountsList(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  { loadAccounts, completeSetup }\n)(InitialSetup);\n","import React from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport { Icon, Menu } from 'semantic-ui-react';\nimport routes from '../router/routes';\n\nconst SidebarMenu = ({ isOpen, toggleSidebar }) => (\n  <nav className={isOpen ? 'open' : 'closed'} onClick={toggleSidebar}>\n    <Menu fluid color=\"blue\" vertical icon=\"labeled\">\n      {routes.map(route => (\n        <Route\n          key={route.path}\n          exact={route.exact}\n          path={route.path}\n          children={({ match }) => (\n            <Menu.Item as={Link} to={route.link || route.path} active={!!match}>\n              <Icon name={route.icon} />\n              {route.label}\n            </Menu.Item>\n          )}\n        />\n      ))}\n    </Menu>\n  </nav>\n);\n\nexport default SidebarMenu;\n","import React from 'react';\nimport logo from './logo.svg';\nimport './index.css';\n\nconst Logo = () => (\n  <div className=\"logo\">\n    <img src={logo} alt=\"Money Tracker\" />\n  </div>\n);\n\nexport default Logo;\n","import { createAction } from 'redux-actions';\n\nexport const toggleSidebar = createAction('TOGGLE_SIDEBAR');\n","import { createActions } from 'redux-actions';\n\nexport const {\n  dismissSyncWarning,\n  setPendingChangesFlag,\n  sync,\n  syncRequest,\n  syncSuccess,\n  syncFailure\n} = createActions(\n  'DISMISS_SYNC_WARNING',\n  'SET_PENDING_CHANGES_FLAG',\n  'SYNC',\n  'SYNC_REQUEST',\n  'SYNC_SUCCESS',\n  'SYNC_FAILURE'\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Icon, Header } from 'semantic-ui-react';\nimport Logo from '../Logo';\nimport { toggleSidebar } from '../../actions/ui/sidebar';\nimport { sync } from '../../actions/ui/sync';\nimport { isSignedIn } from 'features/user/state/User.selector';\nimport './index.css';\n\nconst AppHeader = ({\n  label,\n  isMobile,\n  isAuthenticated,\n  isSyncRunning,\n  hasPendingChanges,\n  toggleSidebar,\n  sync\n}) => (\n  <header>\n    <Header>\n      {isMobile && <Icon name=\"bars\" onClick={toggleSidebar} />}\n      {!isMobile && <Logo />}\n      <Header.Content as=\"h2\">{label}</Header.Content>\n      {isAuthenticated &&\n        (isSyncRunning ? (\n          <Icon name=\"refresh\" loading />\n        ) : (\n          <Icon\n            name=\"refresh\"\n            color={hasPendingChanges ? 'olive' : undefined}\n            onClick={sync}\n            style={{ cursor: 'pointer' }}\n          />\n        ))}\n    </Header>\n  </header>\n);\n\nAppHeader.propTypes = {\n  label: PropTypes.string.isRequired,\n  isMobile: PropTypes.bool,\n  isAuthenticated: PropTypes.bool,\n  isSyncRunning: PropTypes.bool,\n  toggleSidebar: PropTypes.func,\n  sync: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  isMobile: state.ui.isMobile,\n  isAuthenticated: isSignedIn(state),\n  isSyncRunning: state.ui.sync.isRunning,\n  hasPendingChanges: state.ui.sync.hasPendingChanges\n});\n\nexport default connect(\n  mapStateToProps,\n  { toggleSidebar, sync }\n)(AppHeader);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Message, Button } from 'semantic-ui-react';\nimport { isDemoUser } from 'features/user/state/User.selector';\n\nclass DemoNotice extends React.Component {\n  render() {\n    if (!this.props.isVisible) return null;\n\n    return (\n      <Message\n        size=\"large\"\n        icon=\"user circle outline\"\n        header=\"Welcome to demo account!\"\n        content={\n          <div style={{ marginTop: '0.5em' }}>\n            <p>\n              You are logged in as a demo user with sample data generated to\n              show you how things might look like.\n            </p>\n            <p>\n              All the changes you make will only be stored locally on your\n              device.\n            </p>\n            <p>\n              <Button\n                as=\"a\"\n                href=\"https://app.moneytracker.cc\"\n                icon=\"sign in\"\n                content=\"Go to Live app\"\n                labelPosition=\"right\"\n              />\n            </p>\n          </div>\n        }\n      />\n    );\n  }\n}\n\nDemoNotice.propTypes = {\n  isVisible: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  isVisible: isDemoUser(state)\n});\n\nexport default connect(mapStateToProps)(DemoNotice);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Message } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport { dismissSyncWarning } from '../actions/ui/sync';\nimport { isSignedIn } from 'features/user/state/User.selector';\n\nclass SyncWarning extends React.Component {\n  render() {\n    if (!this.props.isVisible) return null;\n\n    return (\n      <Message warning size=\"large\" onDismiss={this.props.dismissSyncWarning}>\n        <Message.Header>No Synchronization</Message.Header>\n        <Message.Content>\n          Your data is stored only on this device and might be lost when browser\n          storage is cleared.\n        </Message.Content>\n        <Message.Content>\n          <Link to=\"/auth\">Sign in</Link> if you want to sync your data with the\n          cloud and be able to access it from multiple devices.\n        </Message.Content>\n      </Message>\n    );\n  }\n}\n\nSyncWarning.propTypes = {\n  isVisible: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  isVisible: !isSignedIn(state) && state.ui.sync.isWarningVisible\n});\n\nexport default connect(\n  mapStateToProps,\n  { dismissSyncWarning }\n)(SyncWarning);\n","import { createAction } from 'redux-actions';\n\nexport const windowResize = createAction('WINDOW_RESIZE');\n","import { createAction } from 'redux-actions';\n\nexport const bootstrap = createAction('BOOTSTRAP');\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Dimmer, Loader } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport throttle from 'lodash/throttle';\nimport routes from '../router/routes';\nimport SignIn from 'features/user/containers/SignIn';\nimport InitialSetup from './InitialSetup';\nimport SidebarMenu from './SidebarMenu';\nimport Header from '../components/Header';\nimport DemoNotice from './DemoNotice';\nimport SyncWarning from './SyncWarning';\nimport { windowResize } from '../actions/ui/windowResize';\nimport { toggleSidebar } from '../actions/ui/sidebar';\nimport { bootstrap } from '../actions/app';\n\nclass App extends React.Component {\n  componentDidMount() {\n    window.addEventListener('resize', throttle(this.props.windowResize, 500));\n    this.props.bootstrap();\n  }\n\n  render() {\n    if (!this.props.isLoaded) {\n      return (\n        <Loader\n          active\n          content={\n            this.props.isSyncRunning &&\n            'Synchronizing data, this might take a moment...'\n          }\n        />\n      );\n    }\n\n    return (\n      <Router history={this.props.history}>\n        <Switch>\n          <Route path=\"/auth\" exact={true} component={SignIn} />\n          {!this.props.isSetupComplete ? (\n            <Route component={InitialSetup} />\n          ) : (\n            <Route render={this.renderNavigationRoutes} />\n          )}\n        </Switch>\n      </Router>\n    );\n  }\n\n  /**\n   * Navigation routes are the pages associated to navigation menu items,\n   * e.g. Dashboard, Transactions, Settings etc.\n   * They are rendered with common structure: sidebar menu and sticky header.\n   */\n  renderNavigationRoutes = () => {\n    if (window.location.pathname.endsWith('index.html')) {\n      return <Redirect to=\"/\" />;\n    }\n    const { isSidebarOpen, isMobile, toggleSidebar } = this.props;\n    return (\n      <React.Fragment>\n        <Dimmer\n          page\n          active={isMobile && isSidebarOpen}\n          onClick={toggleSidebar}\n          style={{ zIndex: 100 }}\n        />\n        <SidebarMenu\n          isOpen={!isMobile || isSidebarOpen}\n          toggleSidebar={toggleSidebar}\n        />\n        {flatten(routes).map(route => (\n          <Route\n            key={route.path}\n            path={route.path}\n            exact={route.exact}\n            render={props => (\n              <React.Fragment>\n                <Header label={route.label} />\n                <div className=\"container\">\n                  <DemoNotice />\n                  <SyncWarning />\n                  <route.component {...props} />\n                </div>\n              </React.Fragment>\n            )}\n          />\n        ))}\n      </React.Fragment>\n    );\n  };\n}\n\nfunction flatten(routes) {\n  let flatRoutes = [];\n  routes.forEach(route => {\n    if (route.routes) {\n      flatRoutes.push({ ...route, exact: true });\n      flatRoutes.push(...flatten(route.routes));\n    } else {\n      flatRoutes.push(route);\n    }\n  });\n\n  return flatRoutes;\n}\n\nApp.propTypes = {\n  history: PropTypes.object.isRequired,\n  isLoaded: PropTypes.bool,\n  isSyncRunning: PropTypes.bool,\n  isSetupComplete: PropTypes.bool,\n  isMobile: PropTypes.bool,\n  isSidebarOpen: PropTypes.bool,\n  bootstrap: PropTypes.func,\n  windowResize: PropTypes.func,\n  toggleSidebar: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  history: ownProps.history,\n  isLoaded: state.settings.isLoaded,\n  isSyncRunning: state.ui.sync.isRunning,\n  isSetupComplete: state.settings.isSetupComplete,\n  isMobile: state.ui.isMobile,\n  isSidebarOpen: state.ui.isSidebarOpen\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    bootstrap,\n    windowResize,\n    toggleSidebar\n  }\n)(App);\n","import React from 'react';\nimport * as Sentry from '@sentry/browser';\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({ error });\n    console.log('sentry error', error);\n    Sentry.withScope(scope => {\n      Object.keys(errorInfo).forEach(key => {\n        scope.setExtra(key, errorInfo[key]);\n      });\n      Sentry.captureException(error);\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      //render fallback UI\n      return (\n        <button onClick={() => Sentry.showReportDialog()}>\n          Denunciar comentrios\n        </button>\n      );\n    } else {\n      //when there's not an error, render children untouched\n      return this.props.children;\n    }\n  }\n}\n\nexport default ErrorBoundary;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport ErrorBoundary from 'components/Sentry/ErrorBoundary';\n\nconst Root = ({ store, history }) => (\n  <ErrorBoundary>\n    <Provider store={store}>\n      <App history={history} />\n    </Provider>\n  </ErrorBoundary>\n);\n\nRoot.propTypes = {\n  store: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired\n};\n\nexport default Root;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { handleActions, combineActions } from 'redux-actions';\nimport { getType } from 'typesafe-actions';\nimport {\n  loadAccountsSuccess,\n  saveAccount,\n  saveAccountFailure,\n  updateAccount,\n  removeAccountSuccess\n} from '../../actions/entities/accounts';\nimport { signOutSuccess } from 'features/user/state/ui/SignOut.action';\nimport EntityMap from '../../entities/EntityMap';\n\nconst initialState = EntityMap.fromArray([]);\n\nexport default handleActions(\n  {\n    [loadAccountsSuccess]: (state, action) => {\n      const accounts = action.payload;\n      return EntityMap.fromArray(accounts);\n    },\n    [combineActions(saveAccount, updateAccount)]: (state, action) => {\n      const account = action.payload;\n      return EntityMap.set(state, account);\n    },\n    [combineActions(removeAccountSuccess, saveAccountFailure)]: (\n      state,\n      action\n    ) => {\n      const accountId = action.payload;\n      return EntityMap.remove(state, accountId);\n    },\n    [getType(signOutSuccess)]: () => initialState\n  },\n  initialState\n);\n","import { handleActions } from 'redux-actions';\nimport { getType } from 'typesafe-actions';\nimport {\n  loadExpenseTagsSuccess,\n  loadIncomeTagsSuccess\n} from '../../actions/entities/tags';\nimport { addTag } from '../../actions/ui/form/transaction';\nimport { signOutSuccess } from 'features/user/state/ui/SignOut.action';\nimport { TransationKindT } from '../../entities/Transaction';\n\nconst { Expense, Transfer, Income } = TransationKindT;\nconst initialState = { [Expense]: [], [Transfer]: [], [Income]: [] };\n\nexport default handleActions(\n  {\n    [loadExpenseTagsSuccess]: (state, { payload }) => ({\n      ...state,\n      [Expense]: payload\n    }),\n    [loadIncomeTagsSuccess]: (state, { payload }) => ({\n      ...state,\n      [Income]: payload\n    }),\n    [addTag]: (state, action) => {\n      const { kind, tag } = action.payload;\n      return state[kind].includes(tag)\n        ? state\n        : { ...state, [kind]: state[kind].concat(tag) };\n    },\n    [getType(signOutSuccess)]: () => initialState\n  },\n  initialState\n);\n","import { handleActions } from 'redux-actions';\nimport { getType } from 'typesafe-actions';\nimport { loadFilterTransactionsSuccess } from '../../../actions/entities/transactions';\nimport { signOutSuccess } from 'features/user/state/ui/SignOut.action';\nimport EntityMap from '../../../entities/EntityMap';\n\nconst initialState = EntityMap.fromArray([]);\n\nexport default handleActions(\n  {\n    [loadFilterTransactionsSuccess]: (state, action) => {\n      const transactions = action.payload;\n      return EntityMap.fromArray(transactions);\n    },\n    [getType(signOutSuccess)]: () => initialState\n  },\n  initialState\n);\n","import { handleActions } from 'redux-actions';\nimport { getType } from 'typesafe-actions';\nimport { loadRecentTransactionsSuccess } from '../../../actions/entities/transactions';\nimport { signOutSuccess } from 'features/user/state/ui/SignOut.action';\nimport EntityMap from '../../../entities/EntityMap';\n\nconst initialState = EntityMap.fromArray([]);\n\nexport default handleActions(\n  {\n    [loadRecentTransactionsSuccess]: (state, action) => {\n      const transactions = action.payload;\n      return EntityMap.fromArray(transactions);\n    },\n    [getType(signOutSuccess)]: () => initialState\n  },\n  initialState\n);\n","import { combineReducers } from 'redux';\nimport filter from './filter';\nimport recent from './recent';\n\nexport default combineReducers({\n  filter,\n  recent\n});\n","import { combineReducers } from 'redux';\nimport accounts from './accounts';\nimport tags from './tags';\nimport transactions from './transactions';\n\nexport default combineReducers({ accounts, tags, transactions });\n","import { handleActions, combineActions } from 'redux-actions';\nimport pick from 'lodash/pick';\nimport {\n  fillInAccountForm,\n  openAccountInModal,\n  resetAccountForm,\n  toggleOnDashboard,\n  toggleCurrency,\n  changeBalance,\n  changeGroup,\n  changeName\n} from '../../../actions/ui/form/account';\nimport {\n  saveAccountSuccess,\n  removeAccountRequest,\n  removeAccountStart,\n  removeAccountFailure,\n  removeAccountSuccess,\n  removeAccountItemProcessed\n} from '../../../actions/entities/accounts';\nimport { changeSettingsCurrency } from '../../../actions/settings';\nimport { defaultGroup, stateToForm } from '../../../entities/Account';\n\nconst initialState = {\n  name: '',\n  group: defaultGroup,\n  balance: {},\n  currencies: [],\n  on_dashboard: true,\n  completed: false,\n  isModalOpen: false,\n  isDeleteRequest: false,\n  isDeleteRunning: false,\n  itemsToProcess: Infinity,\n  itemsProcessed: 0\n};\nexport default handleActions(\n  {\n    [changeGroup]: (state, { payload }) => ({ ...state, group: payload }),\n    [changeName]: (state, { payload }) => ({ ...state, name: payload }),\n    [toggleCurrency]: (state, { payload }) => {\n      const isChecked = state.currencies.includes(payload);\n      if (isChecked && state.currencies.length === 1) return state;\n      return {\n        ...state,\n        currencies: isChecked\n          ? state.currencies.filter(code => code !== payload)\n          : state.currencies.concat(payload),\n        balance:\n          !isChecked && state.balance[payload] === undefined\n            ? { ...state.balance, [payload]: '' }\n            : state.balance\n      };\n    },\n    [changeBalance]: (state, { payload }) => ({\n      ...state,\n      currencies: state.currencies.includes(payload.code)\n        ? state.currencies\n        : state.currencies.concat(payload.code),\n      balance: { ...state.balance, [payload.code]: payload.balance }\n    }),\n    [toggleOnDashboard]: state => ({\n      ...state,\n      on_dashboard: !state.on_dashboard\n    }),\n    [changeSettingsCurrency]: (state, { payload }) => {\n      const currencies = new Set([payload.base, ...payload.secondary]);\n      return {\n        ...state,\n        currencies: state.currencies.filter(code => currencies.has(code)),\n        balance: pick(state.balance, [...currencies])\n      };\n    },\n    [openAccountInModal]: (state, { payload }) => ({\n      ...state,\n      ...payload,\n      isModalOpen: true\n    }),\n    [resetAccountForm]: () => initialState,\n    [combineActions(saveAccountSuccess, removeAccountSuccess)]: () => ({\n      ...initialState,\n      completed: true\n    }),\n    [fillInAccountForm]: (state, { payload }) => ({\n      ...state,\n      ...stateToForm(payload)\n    }),\n    [removeAccountRequest]: state => ({\n      ...state,\n      isDeleteRequest: !state.isDeleteRequest\n    }),\n    [removeAccountStart]: (state, action) => ({\n      ...state,\n      isDeleteRunning: true,\n      itemsToProcess: action.payload\n    }),\n    [combineActions(removeAccountSuccess, removeAccountFailure)]: state => ({\n      ...state,\n      isDeleteRunning: false\n    }),\n    [removeAccountItemProcessed]: (state, action) => ({\n      ...state,\n      itemsProcessed: action.payload\n    })\n  },\n  initialState\n);\n","import { handleActions } from 'redux-actions';\nimport {\n  fillInTransactionForm,\n  openTransactionInModal,\n  changeKind,\n  changeAccount,\n  changeAmount,\n  changeCurrency,\n  changeLinkedAccount,\n  changeLinkedAmount,\n  changeLinkedCurrency,\n  changeTags,\n  changeDate,\n  changeNote\n} from '../../../actions/ui/form/transaction';\nimport { defaultKind } from '../../../entities/Transaction';\n\nconst initialState = {\n  kind: defaultKind,\n  isModalOpen: false\n};\n\nexport default handleActions(\n  {\n    [fillInTransactionForm]: (state, { payload }) => payload,\n    [openTransactionInModal]: (state, { payload }) => ({\n      ...state,\n      ...payload,\n      isModalOpen: true\n    }),\n    [changeKind]: (state, { payload }) => ({ ...state, kind: payload }),\n    [changeAccount]: (state, { payload }) => ({\n      ...state,\n      accountId: payload.accountId,\n      currency: payload.currency.includes(state.currency)\n        ? state.currency\n        : payload.currency[0]\n    }),\n    [changeLinkedAccount]: (state, { payload }) => ({\n      ...state,\n      linkedAccountId: payload.accountId,\n      linkedCurrency: payload.currency.includes(state.linkedCurrency)\n        ? state.linkedCurrency\n        : payload.currency[0]\n    }),\n    [changeAmount]: (state, { payload }) => ({\n      ...state,\n      amount: payload,\n      linkedAmount:\n        state.currency === state.linkedCurrency ? payload : state.linkedAmount\n    }),\n    [changeLinkedAmount]: (state, { payload }) => ({\n      ...state,\n      amount: state.currency === state.linkedCurrency ? payload : state.amount,\n      linkedAmount: payload\n    }),\n    [changeCurrency]: (state, { payload }) => ({\n      ...state,\n      currency: payload,\n      linkedAmount:\n        state.linkedCurrency === payload ? state.amount : state.linkedAmount\n    }),\n    [changeLinkedCurrency]: (state, { payload }) => ({\n      ...state,\n      linkedCurrency: payload,\n      linkedAmount:\n        state.currency === payload ? state.amount : state.linkedAmount\n    }),\n    [changeTags]: (state, { payload }) => ({\n      ...state,\n      tags: { ...state.tags, [state.kind]: payload }\n    }),\n    [changeDate]: (state, { payload }) => ({ ...state, date: payload }),\n    [changeNote]: (state, { payload }) => ({ ...state, note: payload })\n  },\n  initialState\n);\n","import { combineReducers } from 'redux';\nimport account from './account';\nimport transaction from './transaction';\n\nexport default combineReducers({ account, transaction });\n","import { handleActions } from 'redux-actions';\nimport {\n  changeReportKind,\n  changeReportTimespan,\n  changeReportAccounts,\n  changeReportExcludedTags,\n  moveReportDateBackwards,\n  moveReportDateForwards,\n  loadReport,\n  loadReportSuccess,\n  loadReportFailure\n} from 'actions/ui/report';\nimport {\n  defaultKind,\n  defaultTimespan,\n  defaultDate,\n  moveDateBackwards,\n  moveDateForwards\n} from 'entities/Report';\n\nexport default handleActions(\n  {\n    [changeReportKind]: (state, { payload }) => ({ ...state, kind: payload }),\n    [changeReportTimespan]: (state, { payload }) => ({\n      ...state,\n      timespan: payload,\n      date: defaultDate(payload)\n    }),\n    [changeReportAccounts]: (state, { payload }) => ({\n      ...state,\n      accounts: payload\n    }),\n    [changeReportExcludedTags]: (state, { payload }) => ({\n      ...state,\n      excludeTags: payload\n    }),\n    [moveReportDateBackwards]: state => ({\n      ...state,\n      date: moveDateBackwards(state.date, state.timespan),\n      data: {\n        ...state.data,\n        netWorthEnd: state.data.netWorthStart\n      },\n      netWorthStack: [state.data.netWorthEnd, ...state.netWorthStack]\n    }),\n    [moveReportDateForwards]: state => ({\n      ...state,\n      date: moveDateForwards(state.date, state.timespan),\n      data: {\n        ...state.data,\n        netWorthEnd: state.netWorthStack[0]\n      },\n      netWorthStack: state.netWorthStack.slice(1)\n    }),\n    [loadReport]: state => ({ ...state, isLoading: true }),\n    [loadReportSuccess]: (state, { payload }) => ({\n      ...state,\n      isLoading: false,\n      data: payload\n    }),\n    [loadReportFailure]: state => ({ ...state, isLoading: false })\n  },\n  {\n    isLoading: false,\n    data: {},\n    kind: defaultKind,\n    timespan: defaultTimespan,\n    date: defaultDate(),\n    accounts: [],\n    netWorthStack: [],\n    excludeTags: []\n  }\n);\n","import { handleActions } from 'redux-actions';\nimport {\n  changeFilterDate,\n  changeFilterPage,\n  toggleFilterCalendar,\n  toggleFilterModal,\n  applyFilters\n} from 'actions/ui/transaction/filter';\nimport {\n  loadFilterTransactions,\n  loadFilterTransactionsSuccess\n} from 'actions/entities/transactions';\nimport { defaultStart, defaultEnd } from 'entities/Transaction/DateFilterRange';\nimport { rowsPerSearchPage } from 'entities/Transaction';\nimport { toUtcTimestamp } from 'util/timezone';\n\nconst initialState = {\n  dateStart: toUtcTimestamp(defaultStart()),\n  dateEnd: toUtcTimestamp(defaultEnd()),\n  isCalendarOpen: false,\n  isFilterModalOpen: false,\n  applied: {},\n  isLoading: false,\n  totalRows: 0,\n  page: 0,\n  perPage: rowsPerSearchPage\n};\n\nexport default handleActions(\n  {\n    [loadFilterTransactions]: state => ({ ...state, isLoading: true }),\n    [loadFilterTransactionsSuccess]: (state, { payload }) => ({\n      ...state,\n      page: 0,\n      totalRows: payload.length,\n      isLoading: false\n    }),\n    [changeFilterDate]: (state, { payload }) => ({\n      ...state,\n      dateStart: toUtcTimestamp(payload.dateStart),\n      dateEnd: toUtcTimestamp(payload.dateEnd),\n      isLoading: true\n    }),\n    [changeFilterPage]: (state, { payload }) => ({ ...state, page: payload }),\n    [toggleFilterCalendar]: state => ({\n      ...state,\n      isCalendarOpen: !state.isCalendarOpen\n    }),\n    [toggleFilterModal]: state => ({\n      ...state,\n      isFilterModalOpen: !state.isFilterModalOpen\n    }),\n    [applyFilters]: (state, { payload }) => ({ ...state, applied: payload })\n  },\n  initialState\n);\n","import { combineReducers } from 'redux';\nimport filter from './filter';\n\nexport default combineReducers({ filter });\n","import { handleActions } from 'redux-actions';\nimport {\n  openImportFile,\n  discardImportFile,\n  startDataImport,\n  importFileReadSuccess,\n  importLineProcessed,\n  importFailure\n} from '../../actions/ui/dataImport';\n\nconst initialState = {\n  isFileSelected: false,\n  file: undefined,\n  error: '',\n  isProcessing: false,\n  linesToProcess: Infinity,\n  linesProcessed: 0\n};\n\nexport default handleActions(\n  {\n    [openImportFile]: (state, action) => ({\n      ...state,\n      isFileSelected: true,\n      file: action.payload\n    }),\n    [discardImportFile]: state => ({\n      ...state,\n      isFileSelected: false,\n      file: undefined\n    }),\n    [startDataImport]: state => ({ ...state, isProcessing: true }),\n    [importFileReadSuccess]: (state, action) => ({\n      ...state,\n      linesToProcess: action.payload\n    }),\n    [importLineProcessed]: (state, action) => ({\n      ...state,\n      linesProcessed: action.payload\n    }),\n    [importFailure]: (state, action) => ({\n      ...state,\n      isFileSelected: false,\n      isProcessing: false,\n      file: undefined,\n      error: action.payload.message\n    })\n  },\n  initialState\n);\n","import { handleAction } from 'redux-actions';\nimport { windowResize } from '../../actions/ui/windowResize';\n\nconst isMobile = () => window.matchMedia('(max-width: 768px)').matches;\nexport default handleAction(windowResize, isMobile, isMobile());\n","import { handleAction } from 'redux-actions';\nimport { toggleSidebar } from '../../actions/ui/sidebar';\n\nexport default handleAction(toggleSidebar, state => !state, false);\n","import { handleActions, combineActions } from 'redux-actions';\nimport {\n  changeSettingsCurrency,\n  updateExchangeRate,\n  updateExchangeRateSuccess,\n  updateExchangeRateFailure\n} from '../../actions/settings';\n\nexport default handleActions(\n  {\n    [combineActions(changeSettingsCurrency, updateExchangeRate)]: state => ({\n      ...state,\n      isExchangeLoading: true\n    }),\n    [combineActions(\n      updateExchangeRateSuccess,\n      updateExchangeRateFailure\n    )]: state => ({\n      ...state,\n      isExchangeLoading: false\n    })\n  },\n  { isExchangeLoading: false }\n);\n","import { handleActions } from 'redux-actions';\nimport {\n  dismissSyncWarning,\n  setPendingChangesFlag,\n  syncRequest,\n  syncSuccess,\n  syncFailure\n} from '../../actions/ui/sync';\n\nexport default handleActions(\n  {\n    [syncRequest]: state => ({ ...state, isRunning: true }),\n    [syncSuccess]: state => ({\n      ...state,\n      isRunning: false,\n      hasPendingChanges: false\n    }),\n    [syncFailure]: state => ({ isRunning: false }),\n    [dismissSyncWarning]: state => ({ ...state, isWarningVisible: false }),\n    [setPendingChangesFlag]: state => ({ ...state, hasPendingChanges: true })\n  },\n  {\n    isRunning: false,\n    isWarningVisible: true,\n    hasPendingChanges: false\n  }\n);\n","import { combineReducers } from 'redux';\nimport form from './form';\nimport report from './report';\nimport transaction from './transaction';\nimport dataImport from './dataImport';\nimport isMobile from './isMobile';\nimport isSidebarOpen from './isSidebarOpen';\nimport settings from './settings';\nimport sync from './sync';\n\nexport default combineReducers({\n  form,\n  report,\n  transaction,\n  dataImport,\n  settings,\n  sync,\n  isMobile,\n  isSidebarOpen\n});\n","import pick from 'lodash/pick';\nimport { handleActions } from 'redux-actions';\nimport { getType } from 'typesafe-actions';\nimport {\n  loadSettingsSuccess,\n  changeSettingsCurrency,\n  updateExchangeRateSuccess,\n  toggleSectionCollapse,\n  completeSetup\n} from '../actions/settings';\nimport { signOutSuccess } from 'features/user/state/ui/SignOut.action';\nimport Currency from '../entities/Currency';\n\nconst initialState = {\n  isLoaded: false,\n  isSetupComplete: false,\n  currency: { base: Currency.defaultBase, secondary: [] },\n  exchangeRate: { [Currency.defaultBase]: 1.0 },\n  collapsedSections: []\n};\n\nexport default handleActions(\n  {\n    [loadSettingsSuccess]: (state, { payload }) => ({\n      ...state,\n      isLoaded: true,\n      ...pick(payload, Object.keys(state))\n    }),\n    [changeSettingsCurrency]: (state, { payload }) => {\n      let { base, secondary } = payload;\n      if (secondary.includes(base)) {\n        secondary = secondary\n          .concat(state.currency.base)\n          .filter(code => code !== base);\n      }\n\n      return { ...state, currency: { base, secondary } };\n    },\n    [updateExchangeRateSuccess]: (state, { payload }) => ({\n      ...state,\n      exchangeRate: payload\n    }),\n    [toggleSectionCollapse]: (state, { payload }) => ({\n      ...state,\n      collapsedSections: state.collapsedSections.includes(payload)\n        ? state.collapsedSections.filter(section => section !== payload)\n        : state.collapsedSections.concat(payload)\n    }),\n    [completeSetup]: state => ({ ...state, isSetupComplete: true }),\n    [getType(signOutSuccess)]: () => initialState\n  },\n  initialState\n);\n","import { createAction } from 'typesafe-actions';\n\nexport const setDemoUser = createAction('user/SET_DEMO_USER');\nexport const signInSuccess = createAction('user/SIGN_IN_SUCCESS');\n","import { ActionType, getType } from 'typesafe-actions';\nimport * as SignIn from './SignIn.action';\nimport { AsyncOperationStateT } from 'typings/async';\n\nexport interface SignInStateT {\n  email: string;\n  code: string;\n  error?: string;\n  sendCodeStatus?: AsyncOperationStateT;\n  verifyCodeStatus?: AsyncOperationStateT;\n}\n\nexport type SignInActionT = ActionType<typeof SignIn>;\n\nconst initialState: SignInStateT = {\n  email: '',\n  code: ''\n};\n\nexport default (state = initialState, action: SignInActionT): SignInStateT => {\n  switch (action.type) {\n    case getType(SignIn.changeEmail):\n      return { ...state, email: action.payload };\n    case getType(SignIn.changeCode):\n      return { ...state, code: action.payload };\n    case getType(SignIn.sendCode):\n      return { ...state, sendCodeStatus: 'REQUEST' };\n    case getType(SignIn.sendCodeSuccess):\n      return { ...state, sendCodeStatus: 'SUCCESS' };\n    case getType(SignIn.sendCodeFailure):\n      return {\n        ...state,\n        sendCodeStatus: 'FAILURE',\n        error: action.payload.message\n      };\n    case getType(SignIn.verifyCode):\n      return { ...state, verifyCodeStatus: 'REQUEST' };\n    case getType(SignIn.verifyCodeSuccess):\n      return { ...state, verifyCodeStatus: 'SUCCESS' };\n    case getType(SignIn.verifyCodeFailure):\n      return {\n        ...state,\n        verifyCodeStatus: 'FAILURE',\n        error: action.payload.message\n      };\n    default:\n      return state;\n  }\n};\n","import { WebAuth } from 'auth0-js';\n/**\n * @see https://auth0.com/docs/connections/passwordless/spa-email-code/v8\n */\nconst auth0 = new WebAuth({\n  domain: process.env.REACT_APP_AUTH_DOMAIN,\n  clientID: process.env.REACT_APP_AUTH_CLIENT_ID,\n  redirectUri: process.env.REACT_APP_AUTH_REDIRECT,\n  responseType: 'token'\n});\n\nexport default {\n  sendCode,\n  verifyCode,\n  parseHash,\n  getUserInfo\n};\n\nfunction sendCode(email) {\n  return new Promise((resolve, reject) => {\n    auth0.passwordlessStart(\n      {\n        connection: 'email',\n        send: 'code',\n        email\n      },\n      (error, result) => (error ? reject(error) : resolve(result))\n    );\n  });\n}\n\nfunction verifyCode(email, verificationCode) {\n  return new Promise((resolve, reject) => {\n    auth0.passwordlessLogin(\n      {\n        connection: 'email',\n        email,\n        verificationCode\n      },\n      (error, result) => (error ? reject(error) : resolve(result))\n    );\n  });\n}\n\nfunction parseHash() {\n  return new Promise((resolve, reject) => {\n    auth0.parseHash((error, authResult) => {\n      if (error) return reject(error);\n\n      resolve(authResult.accessToken);\n    });\n  });\n}\n\nfunction getUserInfo(accessToken) {\n  return new Promise((resolve, reject) => {\n    auth0.client.userInfo(accessToken, (error, userInfo) => {\n      if (error) return reject(error);\n\n      resolve({ accessToken, couchDB: userInfo.couchDB });\n    });\n  });\n}\n","import { RootStateT } from 'reducers';\n\nexport const getSignInEmail = ({ user }: RootStateT) => user.ui.signIn.email;\nexport const getSignInCode = ({ user }: RootStateT) => user.ui.signIn.code;\n","import { TransactionStateT, TransationKindT } from 'entities/Transaction';\n\nconst { Transfer } = TransationKindT;\n\nexport interface AccountMutationT {\n  accountId: string;\n  currency: string;\n  amount: number;\n}\n\n/**\n * Get all necessary accounts balance mutations for given transaction change.\n */\nexport default function getAccountsMutations(\n  prev?: TransactionStateT,\n  next?: TransactionStateT\n): AccountMutationT[] {\n  if (!prev && next) {\n    return createTransaction(next);\n  } else if (prev && !next) {\n    return removeTransaction(prev);\n  } else if (prev && next) {\n    return [...removeTransaction(prev), ...createTransaction(next)];\n  } else {\n    return [];\n  }\n}\n\nfunction createTransaction(transaction: TransactionStateT): AccountMutationT[] {\n  const mutations: AccountMutationT[] = [];\n  if (\n    transaction.kind === Transfer &&\n    transaction.accountId === transaction.linkedAccountId &&\n    transaction.currency === transaction.linkedCurrency\n  ) {\n    return mutations;\n  }\n\n  mutations.push({\n    accountId: transaction.accountId,\n    currency: transaction.currency,\n    amount: transaction.amount * (transaction.kind === Transfer ? -1 : 1)\n  });\n\n  if (\n    transaction.kind === Transfer &&\n    transaction.linkedAccountId &&\n    transaction.linkedCurrency &&\n    transaction.linkedAmount\n  ) {\n    mutations.push({\n      accountId: transaction.linkedAccountId,\n      currency: transaction.linkedCurrency,\n      amount: transaction.linkedAmount\n    });\n  }\n\n  return mutations;\n}\n\nfunction removeTransaction(transaction: TransactionStateT): AccountMutationT[] {\n  const mutations = [];\n  mutations.push({\n    accountId: transaction.accountId,\n    currency: transaction.currency,\n    amount: transaction.amount * (transaction.kind === Transfer ? 1 : -1)\n  });\n  if (\n    transaction.kind === Transfer &&\n    transaction.linkedAccountId &&\n    transaction.linkedCurrency &&\n    transaction.linkedAmount\n  ) {\n    mutations.push({\n      accountId: transaction.linkedAccountId,\n      currency: transaction.linkedCurrency,\n      amount: transaction.linkedAmount * -1\n    });\n  }\n\n  return mutations;\n}\n","import { tagsDB, remoteTagsDB, destroyTagsDB } from './pouchdb';\n\nexport default {\n  sync,\n  load,\n  updateUsage,\n  destroy\n};\n\nasync function sync(readOnly = false) {\n  let hasChanges = false;\n  if (!remoteTagsDB()) return hasChanges;\n\n  const from = await tagsDB().replicate.from(remoteTagsDB());\n  if (from.docs_written > 0) hasChanges = true;\n  if (readOnly) return hasChanges;\n\n  await tagsDB().replicate.to(remoteTagsDB());\n\n  return hasChanges;\n}\n\nfunction destroy() {\n  return destroyTagsDB();\n}\n\nfunction load(kind) {\n  return tagsDB()\n    .allDocs({\n      include_docs: true,\n      start_key: `t${kind}`,\n      end_key: `t${kind}\\uffff`\n    })\n    .then(response =>\n      response.rows.map(row => ({\n        tag: row.doc._id.split('/')[1],\n        usage: row.doc.usage\n      }))\n    )\n    .then(docs => docs.sort((a, b) => b.usage - a.usage))\n    .then(docs => docs.map(doc => doc.tag));\n}\n\nfunction updateUsage(kind, tag, delta) {\n  const id = `t${kind}/${tag}`;\n  return tagsDB()\n    .get(id)\n    .then(doc =>\n      tagsDB().put({ ...doc, usage: parseInt(doc.usage, 10) + delta })\n    )\n    .catch(err => {\n      if (err.status !== 404) throw err;\n\n      return tagsDB().put({ _id: id, usage: 1 });\n    });\n}\n","/**\n * Return new set containing set difference of given left and right sets.\n *\n * @param {Set} left\n * @param {Set} right\n * @return {Set}\n */\nexport default function difference(left, right) {\n  const diff = new Set();\n  for (const item of left) {\n    if (!right.has(item)) diff.add(item);\n  }\n\n  return diff;\n}\n","import { takeLatest, call, put } from 'redux-saga/effects';\nimport {\n  loadTags,\n  loadExpenseTagsSuccess,\n  loadIncomeTagsSuccess\n} from '../actions/entities/tags';\nimport { TransationKindT } from '../entities/Transaction';\nimport TagsStorage from '../util/storage/tags';\nimport difference from '../util/SetDifference';\n\nconst { Expense, Income } = TransationKindT;\n\nexport function* loadTagsSaga() {\n  const expenseTags = yield call(TagsStorage.load, Expense);\n  yield put(loadExpenseTagsSuccess(expenseTags));\n  const incomeTags = yield call(TagsStorage.load, Income);\n  yield put(loadIncomeTagsSuccess(incomeTags));\n}\n\nexport function* updateTagsUsage(prev, next) {\n  const prevTags = new Set((prev && prev.tags) || []);\n  const nextTags = new Set((next && next.tags) || []);\n\n  for (const newTag of difference(nextTags, prevTags)) {\n    yield call(TagsStorage.updateUsage, next.kind, newTag, 1);\n  }\n  for (const oldTag of difference(prevTags, nextTags)) {\n    yield call(TagsStorage.updateUsage, prev.kind, oldTag, -1);\n  }\n}\n\nexport default [takeLatest(loadTags, loadTagsSaga)];\n","import { takeLatest, call, put, select } from 'redux-saga/effects';\nimport {\n  loadFilterTransactions,\n  loadFilterTransactionsSuccess,\n  loadRecentTransactions,\n  loadRecentTransactionsSuccess,\n  saveTransaction,\n  saveTransactionSuccess,\n  removeTransaction,\n  removeTransactionSuccess\n} from '../actions/entities/transactions';\nimport {\n  changeFilterDate,\n  applyFilters\n} from '../actions/ui/transaction/filter';\nimport {\n  fillInTransactionForm,\n  resetTransactionForm\n} from '../actions/ui/form/transaction';\nimport { getDefaultState } from '../selectors/ui/form/transaction';\nimport { getFilters } from '../selectors/ui/transaction/filter';\nimport getAccountsMutations from '../entities/Transaction/AccountMutations';\nimport { updateAccountBalanceSaga } from './accounts';\nimport { updateTagsUsage } from './tags';\nimport TransactionsStorage from '../util/storage/transactions';\n\nexport function* resetTransactionFormSaga() {\n  const initialData = yield select(getDefaultState);\n  yield put(fillInTransactionForm(initialData));\n}\n\nexport function* loadFilterTransactionsSaga() {\n  const filters = yield select(getFilters);\n  const transactions = yield call(TransactionsStorage.loadFiltered, filters);\n  yield put(loadFilterTransactionsSuccess(transactions));\n}\n\nexport function* loadRecentTransactionsSaga() {\n  const transactions = yield call(TransactionsStorage.loadRecent);\n  yield put(loadRecentTransactionsSuccess(transactions));\n}\n\nexport function* removeTransactionSaga(action) {\n  const prev = yield call(TransactionsStorage.remove, action.payload);\n\n  yield call(updateAccountsBalance, prev);\n  yield call(updateTagsUsage, prev);\n  yield call(loadRecentTransactionsSaga);\n  yield call(loadFilterTransactionsSaga);\n  yield call(resetTransactionFormSaga);\n  yield put(removeTransactionSuccess());\n}\n\nexport function* saveTransactionSaga(action) {\n  const next = action.payload;\n  const prev = yield call(TransactionsStorage.remove, next.id);\n  next.id = `T${next.date}-${Date.now()}`;\n\n  yield call(TransactionsStorage.save, next);\n  yield call(updateAccountsBalance, prev, next);\n  yield call(updateTagsUsage, prev, next);\n  yield call(loadRecentTransactionsSaga);\n  yield call(loadFilterTransactionsSaga);\n  yield call(resetTransactionFormSaga);\n  yield put(saveTransactionSuccess());\n}\n\nfunction* updateAccountsBalance(prev, next) {\n  for (const mutation of getAccountsMutations(prev, next)) {\n    yield call(updateAccountBalanceSaga, mutation);\n  }\n}\n\nexport default [\n  takeLatest(resetTransactionForm, resetTransactionFormSaga),\n  takeLatest(loadFilterTransactions, loadFilterTransactionsSaga),\n  takeLatest(changeFilterDate, loadFilterTransactionsSaga),\n  takeLatest(applyFilters, loadFilterTransactionsSaga),\n  takeLatest(loadRecentTransactions, loadRecentTransactionsSaga),\n  takeLatest(removeTransaction, removeTransactionSaga),\n  takeLatest(saveTransaction, saveTransactionSaga)\n];\n","import { accountsDB, remoteAccountsDB, destroyAccountsDB } from './pouchdb';\nimport {\n  storageToState,\n  stateToStorage,\n  mutateBalance as mutateAccountBalance\n} from '../../entities/Account';\n\nexport default {\n  sync,\n  loadAll,\n  save,\n  archive,\n  mutateBalance,\n  remove,\n  destroy\n};\n\nasync function sync(readOnly = false) {\n  if (!remoteAccountsDB()) return;\n  let accounts;\n\n  const from = await accountsDB().replicate.from(remoteAccountsDB());\n  if (from.docs_written > 0) {\n    accounts = await loadAll();\n    updateLastSyncedBalance(accounts);\n  }\n\n  if (readOnly) return;\n\n  const to = await accountsDB().replicate.to(remoteAccountsDB());\n  if (to.docs_written > 0) {\n    accounts = await loadAll();\n    updateLastSyncedBalance(accounts);\n  }\n}\n\nfunction destroy() {\n  return destroyAccountsDB();\n}\n\nfunction loadAll() {\n  return accountsDB()\n    .allDocs({\n      include_docs: true,\n      conflicts: true,\n      startkey: 'A',\n      endkey: 'A\\uffff'\n    })\n    .then(response => Promise.all(response.rows.map(resolveConflicts)))\n    .then(docs => docs.map(storageToState));\n}\n\nfunction save(account) {\n  return accountsDB()\n    .get(account.id)\n    .then(doc => accountsDB().put({ ...doc, ...stateToStorage(account) }))\n    .catch(err => {\n      if (err.status !== 404) throw err;\n      return accountsDB().put({\n        _id: account.id,\n        ...stateToStorage(account)\n      });\n    });\n}\n\nfunction archive(accountId) {\n  return accountsDB()\n    .get(accountId)\n    .then(doc => accountsDB().put({ ...doc, archived: true }));\n}\n\nfunction mutateBalance({ accountId, currency, amount }) {\n  return accountsDB()\n    .get(accountId)\n    .then(doc => accountsDB().put(mutateAccountBalance(doc, currency, amount)))\n    .then(({ rev }) => accountsDB().get(accountId, rev))\n    .then(doc => storageToState(doc));\n}\n\nfunction remove(accountId) {\n  return accountsDB()\n    .get(accountId)\n    .then(doc => accountsDB().put({ ...doc, _deleted: true }))\n    .catch(err => {\n      if (err.status !== 404) throw err;\n      return true;\n    });\n}\n\nfunction updateLastSyncedBalance(accounts) {\n  accounts.forEach(account => {\n    localStorage.setItem(account.id, JSON.stringify(account.balance));\n  });\n}\n\nasync function resolveConflicts(row) {\n  if (!row.doc._conflicts) return row.doc;\n\n  const lastSyncedBalance = JSON.parse(localStorage.getItem(row.doc._id));\n  const conflictedBalances = await Promise.all(\n    row.doc._conflicts.map(async rev =>\n      accountsDB()\n        .get(row.doc._id, { rev })\n        .then(doc => doc.balance)\n    )\n  );\n  conflictedBalances.push(row.doc.balance);\n  row.doc.balance = resolveBalance(lastSyncedBalance, conflictedBalances);\n\n  return Promise.all(\n    row.doc._conflicts.map(async rev => accountsDB().remove(row.doc._id, rev))\n  )\n    .then(() => accountsDB().put(row.doc))\n    .then(() => row.doc);\n}\n\nfunction resolveBalance(lastSynced, conflictedBalances) {\n  return Object.keys(lastSynced).reduce((balance, code) => {\n    balance[code] =\n      lastSynced[code] +\n      conflictedBalances.reduce(\n        (delta, conflicted) => delta + (conflicted[code] - lastSynced[code]),\n        0\n      );\n    return balance;\n  }, {});\n}\n","import { takeLatest, call, put, select } from 'redux-saga/effects';\nimport {\n  loadAccounts,\n  loadAccountsSuccess,\n  saveAccount,\n  saveAccountSuccess,\n  saveAccountFailure,\n  updateAccount,\n  removeAccount,\n  removeAccountStart,\n  removeAccountItemProcessed,\n  removeAccountFailure,\n  removeAccountSuccess\n} from '../actions/entities/accounts';\nimport { getForm } from '../selectors/ui/form/transaction';\nimport {\n  resetTransactionFormSaga,\n  removeTransactionSaga,\n  saveTransactionSaga\n} from './transactions';\nimport {\n  removeTransaction,\n  saveTransaction\n} from '../actions/entities/transactions';\nimport AccountsStorage from '../util/storage/accounts';\nimport TransactionsStorage from '../util/storage/transactions';\nimport { DeleteStrategyT } from '../entities/Account';\n\nexport function* loadAccountsSaga() {\n  const accounts = yield call(AccountsStorage.loadAll);\n  yield put(loadAccountsSuccess(accounts));\n  const transactionForm = yield select(getForm);\n  if (!transactionForm.accountId && accounts.length > 0) {\n    yield resetTransactionFormSaga();\n  }\n}\n\nexport function* saveAccountSaga(action) {\n  const account = action.payload;\n  try {\n    yield call(AccountsStorage.save, account);\n    yield resetTransactionFormSaga();\n    yield put(saveAccountSuccess());\n  } catch (error) {\n    yield put(saveAccountFailure(account.id));\n  }\n}\n\nexport function* updateAccountBalanceSaga(mutation) {\n  const account = yield call(AccountsStorage.mutateBalance, mutation);\n  yield put(updateAccount(account));\n}\n\nexport function* removeAccountSaga({ payload }) {\n  try {\n    const deleteStrategies = {\n      [DeleteStrategyT.Archive]: deleteStrategyArchive,\n      [DeleteStrategyT.Cleanup]: deleteStrategyCleanup,\n      [DeleteStrategyT.Move]: deleteStrategyMove\n    };\n    const strategy = deleteStrategies[payload.strategy];\n    if (strategy) yield strategy(payload.id, payload.moveTo);\n  } catch (error) {\n    yield put(removeAccountFailure(error.message));\n  }\n}\n\nfunction* deleteStrategyArchive(accountId) {\n  yield call(AccountsStorage.archive, accountId);\n  yield put(removeAccountSuccess(accountId));\n}\n\nfunction* deleteStrategyCleanup(accountId) {\n  const transactions = yield call(TransactionsStorage.loadFiltered, {\n    accounts: [accountId]\n  });\n  if (transactions.length > 0) {\n    yield put(removeAccountStart(transactions.length));\n\n    for (const [index, tx] of transactions.entries()) {\n      yield removeTransactionSaga(removeTransaction(tx.id));\n      yield put(removeAccountItemProcessed(index));\n    }\n  }\n\n  yield call(AccountsStorage.remove, accountId);\n  yield put(removeAccountSuccess(accountId));\n}\n\nfunction* deleteStrategyMove(accountId, moveTo) {\n  const transactions = yield call(TransactionsStorage.loadFiltered, {\n    accounts: [accountId]\n  });\n  if (transactions.length > 0) {\n    yield put(removeAccountStart(transactions.length));\n\n    for (const [index, tx] of transactions.entries()) {\n      yield saveTransactionSaga(\n        saveTransaction({\n          ...tx,\n          accountId: tx.accountId === accountId ? moveTo : tx.accountId,\n          linkedAccountId:\n            tx.linkedAccountId === accountId ? moveTo : tx.linkedAccountId\n        })\n      );\n      yield put(removeAccountItemProcessed(index));\n    }\n  }\n\n  yield call(AccountsStorage.remove, accountId);\n  yield put(removeAccountSuccess(accountId));\n}\n\nexport default [\n  takeLatest(loadAccounts, loadAccountsSaga),\n  takeLatest(saveAccount, saveAccountSaga),\n  takeLatest(removeAccount, removeAccountSaga),\n  takeLatest(removeAccountSuccess, resetTransactionFormSaga)\n];\n","import { takeLatest, call, put, select } from 'redux-saga/effects';\nimport {\n  sync,\n  syncRequest,\n  syncSuccess,\n  syncFailure,\n  setPendingChangesFlag\n} from '../actions/ui/sync';\nimport {\n  saveAccountSuccess,\n  removeAccountSuccess\n} from '../actions/entities/accounts';\nimport {\n  saveTransactionSuccess,\n  removeTransactionSuccess\n} from '../actions/entities/transactions';\nimport { loadAccountsSaga } from './accounts';\nimport { loadTagsSaga } from './tags';\nimport { loadRecentTransactionsSaga } from './transactions';\nimport { isDemoUser } from 'features/user/state/User.selector';\nimport AccountsStorage from '../util/storage/accounts';\nimport TransactionsStorage from '../util/storage/transactions';\nimport TagsStorage from '../util/storage/tags';\n\nexport function* syncSaga() {\n  yield put(syncRequest());\n  try {\n    const readOnly = yield select(isDemoUser);\n    yield call(AccountsStorage.sync, readOnly);\n    yield call(TransactionsStorage.sync, readOnly);\n    yield call(TagsStorage.sync, readOnly);\n    yield loadRecentTransactionsSaga();\n    yield loadAccountsSaga();\n    yield loadTagsSaga();\n    yield put(syncSuccess());\n  } catch (error) {\n    yield put(syncFailure(error));\n  }\n}\n\nexport function* setPendingChangesFlagSaga() {\n  yield put(setPendingChangesFlag());\n}\n\nexport default [\n  takeLatest(sync, syncSaga),\n  takeLatest(saveAccountSuccess, setPendingChangesFlagSaga),\n  takeLatest(removeAccountSuccess, setPendingChangesFlagSaga),\n  takeLatest(saveTransactionSuccess, setPendingChangesFlagSaga),\n  takeLatest(removeTransactionSuccess, setPendingChangesFlagSaga)\n];\n","import fetch from 'isomorphic-fetch';\n\nexport function fetchExchangeRates(base, target) {\n  if (!target.includes(base)) target.push(base);\n  const exchangeServiceUrl = process.env.REACT_APP_XCHANGE_URL;\n  const pairs = target.map(code => `${base}${code}`);\n\n  return fetch(`${exchangeServiceUrl}?pairs=${pairs.join(',')}`)\n    .then(body => body.json())\n    .then(response =>\n      response.rates.reduce((result, row) => {\n        result[row.id.substring(3)] = parseFloat(row['rate']);\n        return result;\n      }, {})\n    );\n}\n","import union from 'lodash/union';\nimport pick from 'lodash/pick';\nimport isEqual from 'lodash/isEqual';\nimport { settingsDB, remoteSettingsDB, destroySettingsDB } from './pouchdb';\nimport { fetchExchangeRates } from '../currency';\nimport Currency from '../../entities/Currency';\n\nexport default {\n  load,\n  save,\n  saveLocal,\n  destroy\n};\n\nconst defaultLocalSettings = {\n  _id: '_local/settings',\n  collapsedSections: []\n};\nconst defaultSettings = {\n  _id: 'settings',\n  currency: { base: Currency.defaultBase, secondary: [] },\n  exchangeRate: { [Currency.defaultBase]: 1 }\n};\n\nfunction destroy() {\n  return destroySettingsDB();\n}\n\nasync function save(settings) {\n  if (remoteSettingsDB()) {\n    await remoteSettingsDB()\n      .get('settings')\n      .then(remote => remote, err => defaultSettings)\n      .then(doc => remoteSettingsDB().put({ ...doc, ...settings }))\n      .catch(error => {\n        if (error.status !== 403) throw error;\n      });\n  }\n\n  return settingsDB()\n    .get('settings')\n    .then(local => local, err => defaultSettings)\n    .then(doc => settingsDB().put({ ...doc, ...settings }));\n}\n\nfunction saveLocal(settings) {\n  return settingsDB()\n    .get('_local/settings')\n    .then(doc => doc, err => defaultLocalSettings)\n    .then(doc => settingsDB().put({ ...doc, ...settings }));\n}\n\nfunction load() {\n  return settingsDB()\n    .get('_local/settings')\n    .then(local => local, err => defaultLocalSettings)\n    .then(local => mergeLocalWithSyncedSettings(local));\n}\n\nasync function mergeLocalWithSyncedSettings(local) {\n  return settingsDB()\n    .get('settings')\n    .then(settings => settings, err => defaultSettings)\n    .then(settings => syncSettings(settings))\n    .then(settings => ({ ...settings, ...local }));\n}\n\nasync function syncSettings(settings) {\n  if (!remoteSettingsDB()) return settings;\n\n  try {\n    const remote = await remoteSettingsDB().get('settings');\n    const base = remote.currency.base;\n    const secondary = union(\n      settings.currency.base,\n      settings.currency.secondary,\n      remote.currency.secondary\n    ).filter(code => code !== base);\n\n    const synced = {\n      currency: { base, secondary },\n      exchangeRate:\n        settings.currency.base === base\n          ? { ...settings.exchangeRate, ...remote.exchangeRate }\n          : await fetchExchangeRates(base, secondary),\n      isSetupComplete: remote.isSetupComplete\n    };\n\n    if (!isEqual(pick(settings, Object.keys(synced)), synced)) {\n      await save(synced);\n    }\n\n    return synced;\n  } catch (error) {\n    return settings;\n  }\n}\n","import { takeLatest, call, put, select } from 'redux-saga/effects';\nimport union from 'lodash/union';\nimport {\n  loadSettingsSuccess,\n  changeSettingsCurrency,\n  updateExchangeRate,\n  updateExchangeRateSuccess,\n  updateExchangeRateFailure,\n  completeSetup,\n  toggleSectionCollapse\n} from '../actions/settings';\nimport {\n  getCollapsedSections,\n  getBaseCurrency,\n  getSecondaryCurrency\n} from '../selectors/settings';\nimport { getAccountsCurrencyList } from '../selectors/entities/accounts';\nimport SettingsStorage from '../util/storage/settings';\nimport { fetchExchangeRates } from '../util/currency';\n\nexport function* loadSetting() {\n  const settings = yield call(SettingsStorage.load);\n  yield put(loadSettingsSuccess(settings));\n}\n\nexport function* updateCurrencySaga() {\n  const base = yield select(getBaseCurrency);\n  const secondary = yield select(getSecondaryCurrency);\n  const used = yield select(getAccountsCurrencyList);\n  try {\n    const exchangeRate = yield call(\n      fetchExchangeRates,\n      base,\n      union(secondary, used)\n    );\n    yield put(updateExchangeRateSuccess(exchangeRate));\n    yield call(SettingsStorage.save, {\n      currency: { base, secondary },\n      exchangeRate\n    });\n  } catch (error) {\n    yield put(updateExchangeRateFailure(error));\n  }\n}\n\nexport function* completeSetupSaga() {\n  yield call(SettingsStorage.save, { isSetupComplete: true });\n}\n\nexport function* saveCollapsedSectionsSaga() {\n  const collapsedSections = yield select(getCollapsedSections);\n  yield call(SettingsStorage.saveLocal, { collapsedSections });\n}\n\nexport default [\n  takeLatest(changeSettingsCurrency, updateCurrencySaga),\n  takeLatest(updateExchangeRate, updateCurrencySaga),\n  takeLatest(completeSetup, completeSetupSaga),\n  takeLatest(toggleSectionCollapse, saveCollapsedSectionsSaga)\n];\n","import { call, put } from 'redux-saga/effects';\nimport { syncSaga } from 'sagas/sync';\nimport * as user from './User.action';\n\nexport function* isDemoUser() {\n  if (window.location.hostname === process.env.REACT_APP_DEMO_HOST) {\n    const userInfo = yield call([localStorage, 'getItem'], 'userInfo');\n    if (!userInfo) {\n      yield call(\n        [localStorage, 'setItem'],\n        'userInfo',\n        JSON.stringify({\n          couchDB: {\n            accounts: process.env.REACT_APP_DEMO_DB_ACCOUNTS,\n            settings: process.env.REACT_APP_DEMO_DB_SETTINGS,\n            tags: process.env.REACT_APP_DEMO_DB_TAGS,\n            transactions: process.env.REACT_APP_DEMO_DB_TRANSACTIONS\n          }\n        })\n      );\n      yield syncSaga();\n    }\n    yield put(user.setDemoUser());\n    yield put(user.signInSuccess());\n  }\n}\n\nexport function* isUserLoggedIn() {\n  const userInfo = yield call([localStorage, 'getItem'], 'userInfo');\n  if (userInfo) yield put(user.signInSuccess());\n}\n","import { takeLatest, select, call, put } from 'redux-saga/effects';\nimport { getType } from 'typesafe-actions';\nimport Auth from 'util/auth';\nimport { getSignInEmail, getSignInCode } from './SignIn.selector';\nimport * as SignIn from './SignIn.action';\nimport { syncSaga } from 'sagas/sync';\nimport { loadSetting } from 'sagas/settings';\nimport { isUserLoggedIn } from 'features/user/state/User.saga';\n\nexport function* sendCodeSaga() {\n  const email = yield select(getSignInEmail);\n  try {\n    yield call(Auth.sendCode, email);\n    yield put(SignIn.sendCodeSuccess());\n  } catch (error) {\n    yield put(SignIn.sendCodeFailure(error));\n  }\n}\n\nexport function* verifyCodeSaga() {\n  const email = yield select(getSignInEmail);\n  const code = yield select(getSignInCode);\n  try {\n    yield call(Auth.verifyCode, email, code);\n    yield put(SignIn.verifyCodeSuccess());\n  } catch (error) {\n    yield put(SignIn.verifyCodeFailure(error));\n  }\n}\n\nexport function* finishAuthSaga() {\n  const accessToken = yield call(Auth.parseHash);\n  const userInfo = yield call(Auth.getUserInfo, accessToken);\n  yield call([localStorage, 'setItem'], 'userInfo', JSON.stringify(userInfo));\n\n  yield loadSetting();\n  yield syncSaga();\n  yield isUserLoggedIn();\n}\n\nexport default [\n  takeLatest(getType(SignIn.sendCode), sendCodeSaga),\n  takeLatest(getType(SignIn.verifyCode), verifyCodeSaga),\n  takeLatest(getType(SignIn.finishAuth), finishAuthSaga)\n];\n","import { takeLatest, call, put } from 'redux-saga/effects';\nimport { getType } from 'typesafe-actions';\nimport { signOut, signOutSuccess, signOutFailure } from './SignOut.action';\nimport { loadSetting } from 'sagas/settings';\nimport { isDemoUser } from 'features/user/state/User.saga';\nimport AccountsStorage from 'util/storage/accounts';\nimport SettingsStorage from 'util/storage/settings';\nimport TagsStorage from 'util/storage/tags';\nimport TransactionsStorage from 'util/storage/transactions';\n\nexport function* signOutSaga() {\n  try {\n    yield call(AccountsStorage.destroy);\n    yield call(SettingsStorage.destroy);\n    yield call(TagsStorage.destroy);\n    yield call(TransactionsStorage.destroy);\n    yield call([localStorage, 'clear']);\n\n    yield put(signOutSuccess());\n    yield isDemoUser();\n    yield loadSetting();\n  } catch (error) {\n    yield put(signOutFailure(error));\n  }\n}\n\nexport default [takeLatest(getType(signOut), signOutSaga)];\n","import { combineReducers } from 'redux';\nimport SignInReducer, { SignInStateT, SignInActionT } from './SignIn.reducer';\nimport SignOutReducer, {\n  SignOutStateT,\n  SignOutActionT\n} from './SignOut.reducer';\nimport SignInSaga from './SignIn.saga';\nimport SignOutSaga from './SignOut.saga';\n\nexport interface UserUiStateT {\n  signIn: SignInStateT;\n  signOut: SignOutStateT;\n}\n\nexport type UserUiActionT = SignInActionT & SignOutActionT;\n\nexport const UserUiReducer = combineReducers<UserUiStateT, UserUiActionT>({\n  signIn: SignInReducer,\n  signOut: SignOutReducer\n});\n\nexport const UserUiSaga = [...SignInSaga, ...SignOutSaga];\n","import { ActionType, getType } from 'typesafe-actions';\nimport * as actions from './SignOut.action';\nimport { AsyncOperationStateT } from 'typings/async';\n\nexport interface SignOutStateT {\n  signOutState?: AsyncOperationStateT;\n}\n\nexport type SignOutActionT = ActionType<typeof actions>;\n\nexport default (\n  state: SignOutStateT = {},\n  action: SignOutActionT\n): SignOutStateT => {\n  switch (action.type) {\n    case getType(actions.signOut):\n      return { ...state, signOutState: 'REQUEST' };\n    case getType(actions.signOutSuccess):\n      return { ...state, signOutState: 'SUCCESS' };\n    case getType(actions.signOutFailure):\n      return { ...state, signOutState: 'FAILURE' };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { ActionType, getType } from 'typesafe-actions';\nimport * as user from './User.action';\nimport { UserUiReducer, UserUiStateT, UserUiActionT } from './ui';\n\nexport interface UserStateT {\n  readonly isDemoUser: boolean;\n  readonly isSignedIn: boolean;\n  readonly ui: UserUiStateT;\n}\n\nexport type UserActionT = ActionType<typeof user> & UserUiActionT;\n\nexport default combineReducers<UserStateT, UserActionT>({\n  isDemoUser: (state = false, action) => {\n    return action.type === getType(user.setDemoUser) ? true : state;\n  },\n  isSignedIn: (state = false, action) => {\n    return action.type === getType(user.signInSuccess) ? true : state;\n  },\n  ui: UserUiReducer\n});\n","import { combineReducers } from 'redux';\nimport entities from './entities';\nimport ui from './ui';\nimport settings from './settings';\nimport user, { UserStateT } from 'features/user/state/User.reducer';\n\nexport interface RootStateT {\n  user: UserStateT;\n}\n\nexport default combineReducers({\n  settings,\n  entities,\n  user,\n  ui\n});\n","import { takeLatest } from 'redux-saga/effects';\nimport { bootstrap } from '../actions/app';\nimport { isUserLoggedIn, isDemoUser } from 'features/user/state/User.saga';\nimport { loadSetting } from './settings';\nimport { syncSaga } from './sync';\n\nexport function* bootstrapSaga() {\n  yield isDemoUser();\n  yield isUserLoggedIn();\n  yield loadSetting();\n  yield syncSaga();\n}\n\nexport default [takeLatest(bootstrap, bootstrapSaga)];\n","import { TransationKindT } from '../entities/Transaction';\n\nconst { Expense, Transfer, Income } = TransationKindT;\n\nexport default file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onerror = reject;\n    reader.onload = event => {\n      try {\n        resolve(convert(event.target.result.split('\\n')));\n      } catch (error) {\n        reject(error);\n      }\n    };\n\n    reader.readAsText(file);\n  });\n\nconst SEPARATOR = ';';\nconst COLUMN = {\n  DATE: 0,\n  ACCOUNT: 1,\n  TAGS: 2,\n  AMOUNT: 3,\n  CURRENCY: 4,\n  NOTE: 5,\n  TRANSFER: 6\n};\n\nconst transactions = [];\nconst accounts = new Map();\nconst currencies = new Set();\n\nfunction convert(rows) {\n  const header = rows[0].split(SEPARATOR);\n  if (header.length !== Object.keys(COLUMN).length) {\n    throw new Error(`Invalid file format!\n    Must be a CSV with following columns:\n    date;account;tags;amount;currency;description;transfer`);\n  }\n\n  for (let line = 1; line < rows.length; line++) {\n    const row = rows[line].split(SEPARATOR);\n    if (row.length !== Object.keys(COLUMN).length) continue;\n\n    const transaction = {\n      kind: getKind(row),\n      account: getAccount(row),\n      amount: Math.abs(getAmount(row)),\n      currency: row[COLUMN.CURRENCY],\n      date: getDate(row),\n      tags: getTags(row),\n      note: row[COLUMN.NOTE]\n    };\n\n    if (transaction.kind === Transfer) {\n      const nextRow = rows[++line].split(SEPARATOR);\n\n      transaction.linkedAccount = getAccount(nextRow);\n      transaction.linkedAmount = getAmount(nextRow);\n      transaction.linkedCurrency = nextRow[COLUMN.CURRENCY];\n    }\n\n    transactions.push(transaction);\n  }\n\n  return { transactions, accounts, currencies };\n}\n\nfunction getAmount(row) {\n  return parseFloat(row[COLUMN.AMOUNT].replace(',', '.'));\n}\n\nfunction getKind(row) {\n  return row[COLUMN.TRANSFER].trim()\n    ? Transfer\n    : getAmount(row) < 0\n    ? Expense\n    : Income;\n}\n\nfunction getAccount(row) {\n  const account = row[COLUMN.ACCOUNT];\n  const currency = row[COLUMN.CURRENCY];\n  if (!accounts.has(account)) accounts.set(account, new Set());\n  const accountCurrencies = accounts.get(account);\n  if (!accountCurrencies.has(currency)) accountCurrencies.add(currency);\n  if (!currencies.has(currency)) currencies.add(currency);\n\n  return account;\n}\n\nfunction getDate(row) {\n  return row[COLUMN.DATE]\n    .split('.')\n    .reverse()\n    .join('-');\n}\n\nfunction getTags(row) {\n  return (\n    row[COLUMN.TAGS].trim() && {\n      [getKind(row)]: row[COLUMN.TAGS].replace('\\\\', '/').split('/')\n    }\n  );\n}\n","import { takeLatest, call, put, select } from 'redux-saga/effects';\nimport union from 'lodash/union';\nimport {\n  startDataImport,\n  importFileReadSuccess,\n  importLineProcessed,\n  importFailure\n} from '../actions/ui/dataImport';\nimport { changeSettingsCurrency } from '../actions/settings';\nimport { saveAccount } from '../actions/entities/accounts';\nimport { saveTransaction } from '../actions/entities/transactions';\nimport { getImportFile } from '../selectors/ui/dataImport';\nimport { getBaseCurrency, getSecondaryCurrency } from '../selectors/settings';\nimport { getAccountByName } from '../selectors/entities/accounts';\nimport { saveAccountSaga } from './accounts';\nimport { saveTransactionSaga } from './transactions';\nimport { defaultGroup, formTostate } from '../entities/Account';\nimport { formToState } from '../entities/Transaction';\nimport CsvReader from '../util/CsvReader';\n\nexport function* startDataImportSaga() {\n  try {\n    const file = yield select(getImportFile);\n    const { transactions, accounts, currencies } = yield call(CsvReader, file);\n\n    yield put(importFileReadSuccess(transactions.length - 1));\n    yield updateCurrencySettings(currencies);\n    const accountIdByName = yield mapAccountsId(accounts);\n\n    for (const [lineNr, transaction] of transactions.entries()) {\n      yield saveTransactionSaga(\n        saveTransaction(\n          formToState({\n            ...transaction,\n            accountId: accountIdByName.get(transaction.account),\n            linkedAccountId: accountIdByName.get(transaction.linkedAccount)\n          })\n        )\n      );\n      yield put(importLineProcessed(lineNr));\n    }\n  } catch (error) {\n    yield put(importFailure(error));\n  }\n}\n\n/**\n * Set currencies from import file as secondary.\n *\n * @param {Set} currencies\n */\nexport function* updateCurrencySettings(currencies) {\n  const base = yield select(getBaseCurrency);\n  const secondary = yield select(getSecondaryCurrency);\n\n  yield put(\n    changeSettingsCurrency({\n      base,\n      secondary: union(secondary, [...currencies])\n    })\n  );\n}\n\n/**\n * Map account name to account ID.\n * If no account found in local accounts, create new one.\n *\n * @param {Map} accounts name => set of currencies map\n * @return {Map} account name => account id map\n */\nexport function* mapAccountsId(accounts) {\n  const idByName = new Map();\n  for (const [name, currency] of accounts.entries()) {\n    let account = yield select(getAccountByName(name));\n    if (!account) account = yield createNewAccount(name, [...currency]);\n\n    idByName.set(name, account.id);\n  }\n\n  return idByName;\n}\n\n/**\n * Create new account.\n *\n * @param {string} name\n * @param {array} currencies list of used currencies\n * @return {object}\n */\nexport function* createNewAccount(name, currencies) {\n  const account = formTostate({\n    name,\n    group: defaultGroup,\n    balance: currencies.reduce((acc, code) => {\n      acc[code] = 0;\n      return acc;\n    }, {}),\n    currencies,\n    on_dashboard: false\n  });\n  yield saveAccountSaga(saveAccount(account));\n\n  return account;\n}\n\nexport default [takeLatest(startDataImport, startDataImportSaga)];\n","import { call, put, select, takeLatest } from 'redux-saga/effects';\nimport {\n  changeReportAccounts,\n  changeReportExcludedTags,\n  changeReportKind,\n  changeReportTimespan,\n  loadReport,\n  loadReportFailure,\n  loadReportSuccess,\n  moveReportDateBackwards,\n  moveReportDateForwards\n} from 'actions/ui/report';\nimport { transactionFilters, loadReportData } from 'entities/Report';\nimport { getNetWorth } from 'selectors/entities/accounts';\nimport { getBaseCurrency, getExchangeRate } from 'selectors/settings';\nimport { getReport } from 'selectors/ui/report';\nimport TransactionsStorage from 'util/storage/transactions';\n\nexport function* loadReportSaga() {\n  const report = yield select(getReport);\n  const base = yield select(getBaseCurrency);\n  const exchangeRate = yield select(getExchangeRate);\n  const netWorthEnd = report.data.netWorthEnd || (yield select(getNetWorth));\n  try {\n    const transactions = yield call(\n      TransactionsStorage.loadFiltered,\n      transactionFilters(report)\n    );\n    const data = yield call(\n      loadReportData,\n      report,\n      transactions,\n      exchangeRate,\n      base,\n      netWorthEnd\n    );\n    yield put(loadReportSuccess(data));\n  } catch (error) {\n    yield put(loadReportFailure(error.message));\n  }\n}\n\nexport function* refreshReportSaga() {\n  yield put(loadReport());\n}\n\nexport default [\n  takeLatest(loadReport, loadReportSaga),\n  takeLatest(changeReportKind, refreshReportSaga),\n  takeLatest(changeReportTimespan, refreshReportSaga),\n  takeLatest(changeReportAccounts, refreshReportSaga),\n  takeLatest(changeReportExcludedTags, refreshReportSaga),\n  takeLatest(moveReportDateBackwards, refreshReportSaga),\n  takeLatest(moveReportDateForwards, refreshReportSaga)\n];\n","import { UserUiSaga } from './ui';\n\nexport const UserSaga = [...UserUiSaga];\n","import { all } from 'redux-saga/effects';\nimport accounts from './accounts';\nimport bootstrap from './bootstrap';\nimport dataImport from './dataImport';\nimport report from './report';\nimport settings from './settings';\nimport sync from './sync';\nimport tags from './tags';\nimport transactions from './transactions';\nimport { UserSaga } from 'features/user/state';\n\nexport default function* rootSaga() {\n  yield all([\n    ...UserSaga,\n    ...accounts,\n    ...bootstrap,\n    ...dataImport,\n    ...report,\n    ...settings,\n    ...sync,\n    ...tags,\n    ...transactions\n  ]);\n}\n","import createSagaMiddleware from 'redux-saga';\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension/logOnlyInProduction';\nimport rootReducer from '../reducers';\nimport rootSaga from '../sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\nconst enhancer = composeWithDevTools(applyMiddleware(sagaMiddleware));\n\nexport default function configureStore(initialState) {\n  const store = createStore(rootReducer, initialState, enhancer);\n  sagaMiddleware.run(rootSaga);\n\n  if (module.hot) {\n    module.hot.accept('../reducers', () =>\n      store.replaceReducer(require('../reducers').default)\n    );\n  }\n\n  return store;\n}\n","import { createBrowserHistory } from 'history';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as Sentry from '@sentry/browser';\nimport 'semantic-ui-css/semantic.min.css';\nimport Root from './containers/Root';\nimport './index.css';\nimport registerServiceWorker from './registerServiceWorker';\nimport configureStore from './store/configureStore';\n\nSentry.init({\n  dsn: 'https://5ae855d4c1d840c1b06679123069574f@sentry.io/1335198'\n});\n\nconst store = configureStore();\nconst history = createBrowserHistory();\nReactDOM.render(\n  <Root store={store} history={history} />,\n  document.getElementById('root')\n);\n\nregisterServiceWorker();\n\nif (module.hot) {\n  module.hot.accept();\n}\n"],"sourceRoot":""}